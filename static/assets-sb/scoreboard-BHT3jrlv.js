const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets-sb/SportsControl-DzHD_UHz.js","assets-sb/initTooltip-OsgubBP8.js","assets-sb/_commonjsHelpers-CFisw2UM.js","assets-sb/_plugin-vue_export-helper-C8tdCacw.js","assets-sb/SportsControl-dJkAbvBV.css","assets-sb/PublicViewNotification-UJsrFB-C.js","assets-sb/PublicViewNotification-9VHPZNUG.css","assets-sb/Baseball-DX6ekRzJ.js","assets-sb/logo_white-CxW-4nB8.js","assets-sb/GameClockResilient-Duh81Ax-.js","assets-sb/useSoundEffect-DGUD-jaS.js","assets-sb/useResilientTimer-CW9MET0J.js","assets-sb/GameClockResilient-C6rik0np.css","assets-sb/defaultSettings-IkjUZ1ou.js","assets-sb/VictoryDance-B8wYdiQK.js","assets-sb/VictoryDance-CYwCIVz7.css","assets-sb/BoardLayout-DZ86De7y.js","assets-sb/SetupTeamCard-Ch3B2wMO.js","assets-sb/UploadFileFirebase-BovvWQpj.js","assets-sb/EditableColor-CtBrJZe_.js","assets-sb/EditableField-C2EuHdGr.js","assets-sb/SetupTeamCard-CITyHv6H.css","assets-sb/Baseball-BEnzpFVL.css","assets-sb/Basketball-Qqj9gxwu.js","assets-sb/Possession-C241GwfG.js","assets-sb/ScoreWithDance-CtmmW8Up.js","assets-sb/ScoreWithDance-Cik86KHo.css","assets-sb/Basketball-4K-k3_5P.css","assets-sb/SetBasedBoards-g1z1lnFc.js","assets-sb/SetBasedBoards-BbCdVDDV.css","assets-sb/Esports-2N6LfTWY.js","assets-sb/Esports-CmBx5E4h.css","assets-sb/Football-DxVaUYdW.js","assets-sb/Football-DZkK3kuX.css","assets-sb/Universal-DU7J-xEr.js","assets-sb/Universal-Bvcwr5ja.css","assets-sb/Hockey-CNiH_UhT.js","assets-sb/Hockey-D8FwORxz.css","assets-sb/Multiteam-5fzlSa3x.js","assets-sb/Multiteam-DOk7-r5H.css","assets-sb/Timer-Bs1Ajg8S.js","assets-sb/Timer-DRXrCO-5.css","assets-sb/Wrestling-CdKeZ9T0.js","assets-sb/Wrestling-B6fjB4dx.css","assets-sb/LawnBowling-BibqTn1a.js","assets-sb/LawnBowling-DORdngZR.css"])))=>i.map(i=>d[i]);
(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="8eeaeb56-fb96-4f50-a1e8-26e69aaf858c",t._sentryDebugIdIdentifier="sentry-dbid-8eeaeb56-fb96-4f50-a1e8-26e69aaf858c")}catch{}})();var jO=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};jO.SENTRY_RELEASE={id:"659f2f71c59be76f49d5a8c73567fafed6fffee8"};(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const WO=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=function(t,e){if(!t)throw Va(e)},Va=function(t){return new Error("Firebase Database ("+JA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new zO;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eC=function(t){const e=ZA(t);return Qd.encodeByteArray(e,!0)},Dh=function(t){return eC(t).replace(/\./g,"")},Lh=function(t){try{return Qd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){return tC(void 0,t)}function tC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!KO(n)||(t[n]=tC(t[n],e[n]));return t}function KO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=()=>YO().__FIREBASE_DEFAULTS__,QO=()=>{if(typeof process>"u"||typeof Zv>"u")return;const t=Zv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lh(t[1]);return e&&JSON.parse(e)},Jd=()=>{try{return WO()||XO()||QO()||JO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZO=t=>{var e,n;return(n=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nC=t=>{const e=ZO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rC=()=>{var t;return(t=Jd())===null||t===void 0?void 0:t.config},e1=t=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return t.endsWith(".cloudworkstations.dev")}async function sC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dh(JSON.stringify(n)),Dh(JSON.stringify(o)),""].join(".")}const Bl={};function t1(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?t.emulator.push(e):t.prod.push(e);return t}function n1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eE=!1;function oC(t,e){if(typeof window>"u"||typeof document>"u"||!Fa(window.location.host)||Bl[t]===e||Bl[t]||eE)return;Bl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=t1().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{eE=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=n1(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),N=n("preprendIcon"),O=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),h(T,y);const D=c();l(O,N),x.append(O,_,T,D),document.body.appendChild(x)}i?(_.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function r1(){var t;const e=(t=Jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o1(){return JA.NODE_ADMIN===!0}function a1(){return!r1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lC(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="FirebaseError";class Ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c1,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$a.prototype.create)}}class $a{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?u1(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ss(s,a,r)}}function u1(t,e){return t.replace(h1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const h1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){return JSON.parse(t)}function Ut(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=uc(Lh(i[0])||""),n=uc(Lh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},d1=function(t){const e=cC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},f1=function(t){const e=cC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function aa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function tE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Vh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(nE(i)&&nE(o)){if(!Vh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,h;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),h=1518500249):(c=i^o^a,h=1859775393):d<60?(c=i&o|a&(i|o),h=2400959708):(c=i^o^a,h=3395469782);const f=(s<<5|s>>>27)+c+l+h+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function m1(t,e){const n=new g1(t,e);return n.subscribe.bind(n)}class g1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_1(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Op),s.error===void 0&&(s.error=Op),s.complete===void 0&&(s.complete=Op);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Op(){}function y1(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,re(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b1(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E1(t){return t===Ci?void 0:t}function b1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const S1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},A1=Pe.INFO,C1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},I1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=C1[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oc{constructor(e){this.name=e,this._logLevel=A1,this._logHandler=I1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const R1=(t,e)=>e.some(n=>t instanceof n);let rE,sE;function k1(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P1(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uC=new WeakMap,jm=new WeakMap,hC=new WeakMap,Dp=new WeakMap,x_=new WeakMap;function N1(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uC.set(n,t)}).catch(()=>{}),x_.set(e,t),e}function x1(t){if(jm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});jm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O1(t){Wm=t(Wm)}function D1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lp(this),e,...n);return hC.set(r,e.sort?e.sort():[e]),zs(r)}:P1().includes(t)?function(...e){return t.apply(Lp(this),e),zs(uC.get(this))}:function(...e){return zs(t.apply(Lp(this),e))}}function L1(t){return typeof t=="function"?D1(t):(t instanceof IDBTransaction&&x1(t),R1(t,k1())?new Proxy(t,Wm):t)}function zs(t){if(t instanceof IDBRequest)return N1(t);if(Dp.has(t))return Dp.get(t);const e=L1(t);return e!==t&&(Dp.set(t,e),x_.set(e,t)),e}const Lp=t=>x_.get(t);function M1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zs(o.result),l.oldVersion,l.newVersion,zs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const V1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],Mp=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||V1.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Mp.set(e,i),i}O1(t=>({...t,get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",oE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Oc("@firebase/app"),U1="@firebase/app-compat",H1="@firebase/analytics-compat",j1="@firebase/analytics",W1="@firebase/app-check-compat",q1="@firebase/app-check",z1="@firebase/auth",G1="@firebase/auth-compat",K1="@firebase/database",Y1="@firebase/data-connect",X1="@firebase/database-compat",Q1="@firebase/functions",J1="@firebase/functions-compat",Z1="@firebase/installations",eD="@firebase/installations-compat",tD="@firebase/messaging",nD="@firebase/messaging-compat",rD="@firebase/performance",sD="@firebase/performance-compat",iD="@firebase/remote-config",oD="@firebase/remote-config-compat",aD="@firebase/storage",lD="@firebase/storage-compat",cD="@firebase/firestore",uD="@firebase/ai",hD="@firebase/firestore-compat",dD="firebase",fD="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",pD={[qm]:"fire-core",[U1]:"fire-core-compat",[j1]:"fire-analytics",[H1]:"fire-analytics-compat",[q1]:"fire-app-check",[W1]:"fire-app-check-compat",[z1]:"fire-auth",[G1]:"fire-auth-compat",[K1]:"fire-rtdb",[Y1]:"fire-data-connect",[X1]:"fire-rtdb-compat",[Q1]:"fire-fn",[J1]:"fire-fn-compat",[Z1]:"fire-iid",[eD]:"fire-iid-compat",[tD]:"fire-fcm",[nD]:"fire-fcm-compat",[rD]:"fire-perf",[sD]:"fire-perf-compat",[iD]:"fire-rc",[oD]:"fire-rc-compat",[aD]:"fire-gcs",[lD]:"fire-gcs-compat",[cD]:"fire-fst",[hD]:"fire-fst-compat",[uD]:"fire-vertex","fire-js":"fire-js",[dD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,mD=new Map,Gm=new Map;function aE(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wr(t){const e=t.name;if(Gm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,t);for(const n of Fh.values())aE(n,t);for(const n of mD.values())aE(n,t);return!0}function dC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new $a("app","Firebase",gD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=fD;function fC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zm,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Gs.create("bad-app-name",{appName:String(s)});if(n||(n=rC()),!n)throw Gs.create("no-options");const i=Fh.get(s);if(i){if(Vh(n,i.options)&&Vh(r,i.config))return i;throw Gs.create("duplicate-app",{appName:s})}const o=new T1(s);for(const l of Gm.values())o.addComponent(l);const a=new _D(n,r,o);return Fh.set(s,a),a}function O_(t=zm){const e=Fh.get(t);if(!e&&t===zm&&rC())return fC();if(!e)throw Gs.create("no-app",{appName:t});return e}function Vn(t,e,n){var r;let s=(r=pD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(a.join(" "));return}Wr(new Er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firebase-heartbeat-database",wD=1,hc="firebase-heartbeat-store";let Vp=null;function pC(){return Vp||(Vp=M1(yD,wD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),Vp}async function vD(t){try{const n=(await pC()).transaction(hc),r=await n.objectStore(hc).get(mC(t));return await n.done,r}catch(e){if(e instanceof Ss)vs.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function lE(t,e){try{const r=(await pC()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,mC(t)),await r.done}catch(n){if(n instanceof Ss)vs.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function mC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1024,bD=30;class TD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>bD){const o=CD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cE(),{heartbeatsToSend:r,unsentEntries:s}=SD(this._heartbeatsCache.heartbeats),i=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return vs.warn(n),""}}}function cE(){return new Date().toISOString().substring(0,10)}function SD(t,e=ED){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),uE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),uE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lC()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uE(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}function CD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){Wr(new Er("platform-logger",e=>new $1(e),"PRIVATE")),Wr(new Er("heartbeat",e=>new TD(e),"PRIVATE")),Vn(qm,oE,t),Vn(qm,oE,"esm2017"),Vn("fire-js","")}ID("");function gC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=_C,yC=new $a("auth","Firebase",_C());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Oc("@firebase/auth");function kD(t,...e){$h.logLevel<=Pe.WARN&&$h.warn(`Auth (${Ba}): ${t}`,...e)}function hh(t,...e){$h.logLevel<=Pe.ERROR&&$h.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,...e){throw D_(t,...e)}function wC(t,...e){return D_(t,...e)}function vC(t,e,n){const r=Object.assign(Object.assign({},RD()),{[e]:n});return new $a("auth","Firebase",r).create(e,{appName:t.name})}function dh(t){return vC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function Ue(t,e,...n){if(!t)throw D_(e,...n)}function Ul(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hh(e),new Error(e)}function Bh(t,e){t||Ul(e)}function PD(){return dE()==="http:"||dE()==="https:"}function dE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PD()||i1()||"connection"in navigator)?navigator.onLine:!0}function xD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bh(n>e,"Short delay should be less than long delay!"),this.isMobile=P_()||aC()}get(){return ND()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){Bh(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MD=new Dc(3e4,6e4);function bC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ef(t,e,n,r,s={}){return TC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=N_(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return s1()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Fa(t.emulatorConfig.host)&&(c.credentials="include"),EC.fetch()(await SC(t,t.config.apiHost,n,a),c)})}async function TC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DD),e);try{const s=new VD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ou(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ou(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vC(t,h,c);hE(t,h)}}catch(s){if(s instanceof Ss)throw s;hE(t,"network-request-failed",{message:String(s)})}}async function SC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?OD(t.config,s):`${t.config.apiScheme}://${s}`;return LD.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class VD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wC(this.auth,"network-request-failed")),MD.get())})}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wC(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e){return ef(t,"POST","/v1/accounts:delete",e)}async function Uh(t,e){return ef(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $D(t,e=!1){const n=St(t),r=await n.getIdToken(e),s=AC(r);Ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Hl(Fp(s.auth_time)),issuedAtTime:Hl(Fp(s.iat)),expirationTime:Hl(Fp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Fp(t){return Number(t)*1e3}function AC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Lh(n);return s?JSON.parse(s):(hh("Failed to decode base64 JWT payload"),null)}catch(s){return hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fE(t){const e=AC(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ss&&BD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Km(t,Uh(n,{idToken:r}));Ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?CC(i.providerUserInfo):[],a=jD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ym(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function HD(t){const e=St(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CC(t){return t.map(e=>{var{providerId:n}=e,r=gC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e){const n=await TC(t,{},async()=>{const r=N_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await SC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",EC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qD(t,e){return ef(t,"POST","/v2/accounts:revokeToken",bC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=fE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await WD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new jo;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=gC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ym(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Km(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $D(this,e)}reload(){return HD(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(dh(this.auth));const e=await this.getIdToken();return await Km(this,FD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,N=(c=n.createdAt)!==null&&c!==void 0?c:void 0,O=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:D,isAnonymous:M,providerData:V,stsTokenManager:C}=n;Ue(x&&C,e,"internal-error");const E=jo.fromJSON(this.name,C);Ue(typeof x=="string",e,"internal-error"),Os(d,e.name),Os(f,e.name),Ue(typeof D=="boolean",e,"internal-error"),Ue(typeof M=="boolean",e,"internal-error"),Os(g,e.name),Os(_,e.name),Os(y,e.name),Os(T,e.name),Os(N,e.name),Os(O,e.name);const w=new Lr({uid:x,auth:e,email:f,emailVerified:D,displayName:d,isAnonymous:M,photoURL:_,phoneNumber:g,tenantId:y,stsTokenManager:E,createdAt:N,lastLoginAt:O});return V&&Array.isArray(V)&&(w.providerData=V.map(A=>Object.assign({},A))),T&&(w._redirectEventId=T),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new jo;s.updateFromServerResponse(n);const i=new Lr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?CC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new jo;a.updateFromIdToken(r);const l=new Lr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ym(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function ki(t){Bh(t instanceof Function,"Expected a class definition");let e=pE.get(t);return e?(Bh(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IC.type="NONE";const mE=IC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$p(this.userKey,s.apiKey,i),this.fullPersistenceKey=$p("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?Lr._fromGetAccountInfoResponse(this.auth,n,e):null}return Lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wo(ki(mE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ki(mE);const o=$p(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await Uh(e,{idToken:h}).catch(()=>{});if(!f)break;d=await Lr._fromGetAccountInfoResponse(e,f,h)}else d=Lr._fromJSON(e,h);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QD(e))return"Blackberry";if(JD(e))return"Webos";if(GD(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(XD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zD(t=vr()){return/firefox\//i.test(t)}function GD(t=vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(t=vr()){return/crios\//i.test(t)}function YD(t=vr()){return/iemobile/i.test(t)}function XD(t=vr()){return/android/i.test(t)}function QD(t=vr()){return/blackberry/i.test(t)}function JD(t=vr()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e=[]){let n;switch(t){case"Browser":n=gE(vr());break;case"Worker":n=`${gE(vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t,e={}){return ef(t,"GET","/v2/passwordPolicy",bC(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=6;class n2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:t2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new ZD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rs(this.app))return Promise.reject(dh(this));const n=e?St(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(dh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rs(this.app)?Promise.reject(dh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e2(this),n=new n2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $a("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function s2(t){return St(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=m1(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function i2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}new Dc(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dc(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dc(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dc(5e3,15e3);var yE="@firebase/auth",wE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(t){Wr(new Er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RC(t)},c=new r2(r,s,i,l);return i2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wr(new Er("auth-internal",e=>{const n=s2(e.getProvider("auth").getImmediate());return(r=>new o2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(yE,wE,a2(t)),Vn(yE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=5*60;e1("authIdTokenMaxAge");l2("Browser");/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function L_(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const He={},qo=[],gr=()=>{},u2=()=>!1,tf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),M_=t=>t.startsWith("onUpdate:"),It=Object.assign,V_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},h2=Object.prototype.hasOwnProperty,We=(t,e)=>h2.call(t,e),he=Array.isArray,zo=t=>Lc(t)==="[object Map]",nf=t=>Lc(t)==="[object Set]",vE=t=>Lc(t)==="[object Date]",ge=t=>typeof t=="function",ot=t=>typeof t=="string",br=t=>typeof t=="symbol",Ke=t=>t!==null&&typeof t=="object",kC=t=>(Ke(t)||ge(t))&&ge(t.then)&&ge(t.catch),PC=Object.prototype.toString,Lc=t=>PC.call(t),d2=t=>Lc(t).slice(8,-1),NC=t=>Lc(t)==="[object Object]",F_=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jl=L_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},f2=/-(\w)/g,Un=rf(t=>t.replace(f2,(e,n)=>n?n.toUpperCase():"")),p2=/\B([A-Z])/g,Cs=rf(t=>t.replace(p2,"-$1").toLowerCase()),sf=rf(t=>t.charAt(0).toUpperCase()+t.slice(1)),fh=rf(t=>t?`on${sf(t)}`:""),Sn=(t,e)=>!Object.is(t,e),ph=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},xC=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},jh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},OC=t=>{const e=ot(t)?Number(t):NaN;return isNaN(e)?t:e};let EE;const of=()=>EE||(EE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $_(t){if(he(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ot(r)?y2(r):$_(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ot(t)||Ke(t))return t}const m2=/;(?![^(]*\))/g,g2=/:([^]+)/,_2=/\/\*[^]*?\*\//g;function y2(t){const e={};return t.replace(_2,"").split(m2).forEach(n=>{if(n){const r=n.split(g2);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function dc(t){let e="";if(ot(t))e=t;else if(he(t))for(let n=0;n<t.length;n++){const r=dc(t[n]);r&&(e+=r+" ")}else if(Ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const w2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",v2=L_(w2);function DC(t){return!!t||t===""}function E2(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=la(t[r],e[r]);return n}function la(t,e){if(t===e)return!0;let n=vE(t),r=vE(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=br(t),r=br(e),n||r)return t===e;if(n=he(t),r=he(e),n||r)return n&&r?E2(t,e):!1;if(n=Ke(t),r=Ke(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!la(t[o],e[o]))return!1}}return String(t)===String(e)}function b2(t,e){return t.findIndex(n=>la(n,e))}const LC=t=>!!(t&&t.__v_isRef===!0),T2=t=>ot(t)?t:t==null?"":he(t)||Ke(t)&&(t.toString===PC||!ge(t.toString))?LC(t)?T2(t.value):JSON.stringify(t,MC,2):String(t),MC=(t,e)=>LC(e)?MC(t,e.value):zo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Bp(r,i)+" =>"]=s,n),{})}:nf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bp(n))}:br(e)?Bp(e):Ke(e)&&!he(e)&&!NC(e)?String(e):e,Bp=(t,e="")=>{var n;return br(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let un;class S2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=un,!e&&un&&(this.index=(un.scopes||(un.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=un;try{return un=this,e()}finally{un=n}}}on(){un=this}off(){un=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Mc(){return un}function af(t,e=!1){un&&un.cleanups.push(t)}let Je;const Up=new WeakSet;class VC{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,un&&un.active&&un.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Up.has(this)&&(Up.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$C(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bE(this),BC(this);const e=Je,n=_r;Je=this,_r=!0;try{return this.fn()}finally{UC(this),Je=e,_r=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)H_(e);this.deps=this.depsTail=void 0,bE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Up.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xm(this)&&this.run()}get dirty(){return Xm(this)}}let FC=0,Wl,ql;function $C(t,e=!1){if(t.flags|=8,e){t.next=ql,ql=t;return}t.next=Wl,Wl=t}function B_(){FC++}function U_(){if(--FC>0)return;if(ql){let e=ql;for(ql=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Wl;){let e=Wl;for(Wl=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function BC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function UC(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),H_(r),A2(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Xm(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(HC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function HC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===fc))return;t.globalVersion=fc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Xm(t)){t.flags&=-3;return}const n=Je,r=_r;Je=t,_r=!0;try{BC(t);const s=t.fn(t._value);(e.version===0||Sn(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Je=n,_r=r,UC(t),t.flags&=-3}}function H_(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)H_(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function A2(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let _r=!0;const jC=[];function ui(){jC.push(_r),_r=!1}function hi(){const t=jC.pop();_r=t===void 0?!0:t}function bE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Je;Je=void 0;try{e()}finally{Je=n}}}let fc=0;class C2{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class lf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Je||!_r||Je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Je)n=this.activeLink=new C2(Je,this),Je.deps?(n.prevDep=Je.depsTail,Je.depsTail.nextDep=n,Je.depsTail=n):Je.deps=Je.depsTail=n,WC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Je.depsTail,n.nextDep=void 0,Je.depsTail.nextDep=n,Je.depsTail=n,Je.deps===n&&(Je.deps=r)}return n}trigger(e){this.version++,fc++,this.notify(e)}notify(e){B_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{U_()}}}function WC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)WC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Wh=new WeakMap,Mi=Symbol(""),Qm=Symbol(""),pc=Symbol("");function Qt(t,e,n){if(_r&&Je){let r=Wh.get(t);r||Wh.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new lf),s.map=r,s.key=n),s.track()}}function ss(t,e,n,r,s,i){const o=Wh.get(t);if(!o){fc++;return}const a=l=>{l&&l.trigger()};if(B_(),e==="clear")o.forEach(a);else{const l=he(t),c=l&&F_(n);if(l&&n==="length"){const h=Number(r);o.forEach((d,f)=>{(f==="length"||f===pc||!br(f)&&f>=h)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(pc)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Mi)),zo(t)&&a(o.get(Qm)));break;case"delete":l||(a(o.get(Mi)),zo(t)&&a(o.get(Qm)));break;case"set":zo(t)&&a(o.get(Mi));break}}U_()}function I2(t,e){const n=Wh.get(t);return n&&n.get(e)}function Co(t){const e=Fe(t);return e===t?e:(Qt(e,"iterate",pc),er(t)?e:e.map(Jt))}function cf(t){return Qt(t=Fe(t),"iterate",pc),t}const R2={__proto__:null,[Symbol.iterator](){return Hp(this,Symbol.iterator,Jt)},concat(...t){return Co(this).concat(...t.map(e=>he(e)?Co(e):e))},entries(){return Hp(this,"entries",t=>(t[1]=Jt(t[1]),t))},every(t,e){return Jr(this,"every",t,e,void 0,arguments)},filter(t,e){return Jr(this,"filter",t,e,n=>n.map(Jt),arguments)},find(t,e){return Jr(this,"find",t,e,Jt,arguments)},findIndex(t,e){return Jr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Jr(this,"findLast",t,e,Jt,arguments)},findLastIndex(t,e){return Jr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Jr(this,"forEach",t,e,void 0,arguments)},includes(...t){return jp(this,"includes",t)},indexOf(...t){return jp(this,"indexOf",t)},join(t){return Co(this).join(t)},lastIndexOf(...t){return jp(this,"lastIndexOf",t)},map(t,e){return Jr(this,"map",t,e,void 0,arguments)},pop(){return El(this,"pop")},push(...t){return El(this,"push",t)},reduce(t,...e){return TE(this,"reduce",t,e)},reduceRight(t,...e){return TE(this,"reduceRight",t,e)},shift(){return El(this,"shift")},some(t,e){return Jr(this,"some",t,e,void 0,arguments)},splice(...t){return El(this,"splice",t)},toReversed(){return Co(this).toReversed()},toSorted(t){return Co(this).toSorted(t)},toSpliced(...t){return Co(this).toSpliced(...t)},unshift(...t){return El(this,"unshift",t)},values(){return Hp(this,"values",Jt)}};function Hp(t,e,n){const r=cf(t),s=r[e]();return r!==t&&!er(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const k2=Array.prototype;function Jr(t,e,n,r,s,i){const o=cf(t),a=o!==t&&!er(t),l=o[e];if(l!==k2[e]){const d=l.apply(t,i);return a?Jt(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,Jt(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const h=l.call(o,c,r);return a&&s?s(h):h}function TE(t,e,n,r){const s=cf(t);let i=n;return s!==t&&(er(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Jt(a),l,t)}),s[e](i,...r)}function jp(t,e,n){const r=Fe(t);Qt(r,"iterate",pc);const s=r[e](...n);return(s===-1||s===!1)&&q_(n[0])?(n[0]=Fe(n[0]),r[e](...n)):s}function El(t,e,n=[]){ui(),B_();const r=Fe(t)[e].apply(t,n);return U_(),hi(),r}const P2=L_("__proto__,__v_isRef,__isVue"),qC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(br));function N2(t){br(t)||(t=String(t));const e=Fe(this);return Qt(e,"has",t),e.hasOwnProperty(t)}class zC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?U2:XC:i?YC:KC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=he(e);if(!s){let l;if(o&&(l=R2[n]))return l;if(n==="hasOwnProperty")return N2}const a=Reflect.get(e,n,dt(e)?e:r);return(br(n)?qC.has(n):P2(n))||(s||Qt(e,"get",n),i)?a:dt(a)?o&&F_(n)?a:a.value:Ke(a)?s?QC(a):uf(a):a}}class GC extends zC{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Hi(i);if(!er(r)&&!Hi(r)&&(i=Fe(i),r=Fe(r)),!he(e)&&dt(i)&&!dt(r))return l?!1:(i.value=r,!0)}const o=he(e)&&F_(n)?Number(n)<e.length:We(e,n),a=Reflect.set(e,n,r,dt(e)?e:s);return e===Fe(s)&&(o?Sn(r,i)&&ss(e,"set",n,r):ss(e,"add",n,r)),a}deleteProperty(e,n){const r=We(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&ss(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!br(n)||!qC.has(n))&&Qt(e,"has",n),r}ownKeys(e){return Qt(e,"iterate",he(e)?"length":Mi),Reflect.ownKeys(e)}}class x2 extends zC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const O2=new GC,D2=new x2,L2=new GC(!0);const Jm=t=>t,Du=t=>Reflect.getPrototypeOf(t);function M2(t,e,n){return function(...r){const s=this.__v_raw,i=Fe(s),o=zo(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...r),h=n?Jm:e?Zm:Jt;return!e&&Qt(i,"iterate",l?Qm:Mi),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function Lu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function V2(t,e){const n={get(s){const i=this.__v_raw,o=Fe(i),a=Fe(s);t||(Sn(s,a)&&Qt(o,"get",s),Qt(o,"get",a));const{has:l}=Du(o),c=e?Jm:t?Zm:Jt;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Qt(Fe(s),"iterate",Mi),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Fe(i),a=Fe(s);return t||(Sn(s,a)&&Qt(o,"has",s),Qt(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Fe(a),c=e?Jm:t?Zm:Jt;return!t&&Qt(l,"iterate",Mi),a.forEach((h,d)=>s.call(i,c(h),c(d),o))}};return It(n,t?{add:Lu("add"),set:Lu("set"),delete:Lu("delete"),clear:Lu("clear")}:{add(s){!e&&!er(s)&&!Hi(s)&&(s=Fe(s));const i=Fe(this);return Du(i).has.call(i,s)||(i.add(s),ss(i,"add",s,s)),this},set(s,i){!e&&!er(i)&&!Hi(i)&&(i=Fe(i));const o=Fe(this),{has:a,get:l}=Du(o);let c=a.call(o,s);c||(s=Fe(s),c=a.call(o,s));const h=l.call(o,s);return o.set(s,i),c?Sn(i,h)&&ss(o,"set",s,i):ss(o,"add",s,i),this},delete(s){const i=Fe(this),{has:o,get:a}=Du(i);let l=o.call(i,s);l||(s=Fe(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&ss(i,"delete",s,void 0),c},clear(){const s=Fe(this),i=s.size!==0,o=s.clear();return i&&ss(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=M2(s,t,e)}),n}function j_(t,e){const n=V2(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(We(n,s)&&s in r?n:r,s,i)}const F2={get:j_(!1,!1)},$2={get:j_(!1,!0)},B2={get:j_(!0,!1)};const KC=new WeakMap,YC=new WeakMap,XC=new WeakMap,U2=new WeakMap;function H2(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function j2(t){return t.__v_skip||!Object.isExtensible(t)?0:H2(d2(t))}function uf(t){return Hi(t)?t:W_(t,!1,O2,F2,KC)}function W2(t){return W_(t,!1,L2,$2,YC)}function QC(t){return W_(t,!0,D2,B2,XC)}function W_(t,e,n,r,s){if(!Ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=j2(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Go(t){return Hi(t)?Go(t.__v_raw):!!(t&&t.__v_isReactive)}function Hi(t){return!!(t&&t.__v_isReadonly)}function er(t){return!!(t&&t.__v_isShallow)}function q_(t){return t?!!t.__v_raw:!1}function Fe(t){const e=t&&t.__v_raw;return e?Fe(e):t}function q2(t){return!We(t,"__v_skip")&&Object.isExtensible(t)&&xC(t,"__v_skip",!0),t}const Jt=t=>Ke(t)?uf(t):t,Zm=t=>Ke(t)?QC(t):t;function dt(t){return t?t.__v_isRef===!0:!1}function bt(t){return JC(t,!1)}function Vi(t){return JC(t,!0)}function JC(t,e){return dt(t)?t:new z2(t,e)}class z2{constructor(e,n){this.dep=new lf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Fe(e),this._value=n?e:Jt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||er(e)||Hi(e);e=r?e:Fe(e),Sn(e,n)&&(this._rawValue=e,this._value=r?e:Jt(e),this.dep.trigger())}}function vt(t){return dt(t)?t.value:t}function Bt(t){return ge(t)?t():vt(t)}const G2={get:(t,e,n)=>e==="__v_raw"?t:vt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return dt(s)&&!dt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function ZC(t){return Go(t)?t:new Proxy(t,G2)}class K2{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new lf,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Y2(t){return new K2(t)}class X2{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return I2(Fe(this._object),this._key)}}class Q2{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function HJ(t,e,n){return dt(t)?t:ge(t)?new Q2(t):Ke(t)&&arguments.length>1?J2(t,e,n):bt(t)}function J2(t,e,n){const r=t[e];return dt(r)?r:new X2(t,e,n)}class Z2{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new lf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Je!==this)return $C(this,!0),!0}get value(){const e=this.dep.track();return HC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function eL(t,e,n=!1){let r,s;return ge(t)?r=t:(r=t.get,s=t.set),new Z2(r,s,n)}const Mu={},qh=new WeakMap;let Ii;function tL(t,e=!1,n=Ii){if(n){let r=qh.get(n);r||qh.set(n,r=[]),r.push(t)}}function nL(t,e,n=He){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=D=>s?D:er(D)||s===!1||s===0?is(D,1):is(D);let h,d,f,g,_=!1,y=!1;if(dt(t)?(d=()=>t.value,_=er(t)):Go(t)?(d=()=>c(t),_=!0):he(t)?(y=!0,_=t.some(D=>Go(D)||er(D)),d=()=>t.map(D=>{if(dt(D))return D.value;if(Go(D))return c(D);if(ge(D))return l?l(D,2):D()})):ge(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ui();try{f()}finally{hi()}}const D=Ii;Ii=h;try{return l?l(t,3,[g]):t(g)}finally{Ii=D}}:d=gr,e&&s){const D=d,M=s===!0?1/0:s;d=()=>is(D(),M)}const T=Mc(),N=()=>{h.stop(),T&&T.active&&V_(T.effects,h)};if(i&&e){const D=e;e=(...M)=>{D(...M),N()}}let O=y?new Array(t.length).fill(Mu):Mu;const x=D=>{if(!(!(h.flags&1)||!h.dirty&&!D))if(e){const M=h.run();if(s||_||(y?M.some((V,C)=>Sn(V,O[C])):Sn(M,O))){f&&f();const V=Ii;Ii=h;try{const C=[M,O===Mu?void 0:y&&O[0]===Mu?[]:O,g];l?l(e,3,C):e(...C),O=M}finally{Ii=V}}}else h.run()};return a&&a(x),h=new VC(d),h.scheduler=o?()=>o(x,!1):x,g=D=>tL(D,!1,h),f=h.onStop=()=>{const D=qh.get(h);if(D){if(l)l(D,4);else for(const M of D)M();qh.delete(h)}},e?r?x(!0):O=h.run():o?o(x.bind(null,!0),!0):h.run(),N.pause=h.pause.bind(h),N.resume=h.resume.bind(h),N.stop=N,N}function is(t,e=1/0,n){if(e<=0||!Ke(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,dt(t))is(t.value,e,n);else if(he(t))for(let r=0;r<t.length;r++)is(t[r],e,n);else if(nf(t)||zo(t))t.forEach(r=>{is(r,e,n)});else if(NC(t)){for(const r in t)is(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&is(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vc(t,e,n,r){try{return r?t(...r):t()}catch(s){Ua(s,e,n)}}function Tr(t,e,n,r){if(ge(t)){const s=Vc(t,e,n,r);return s&&kC(s)&&s.catch(i=>{Ua(i,e,n)}),s}if(he(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Tr(t[i],e,n,r));return s}}function Ua(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||He;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,l,c)===!1)return}a=a.parent}if(i){ui(),Vc(i,null,10,[t,l,c]),hi();return}}rL(t,n,s,r,o)}function rL(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const hn=[];let Pr=-1;const Ko=[];let Ms=null,No=0;const e0=Promise.resolve();let zh=null;function t0(t){const e=zh||e0;return t?e.then(this?t.bind(this):t):e}function sL(t){let e=Pr+1,n=hn.length;for(;e<n;){const r=e+n>>>1,s=hn[r],i=mc(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function z_(t){if(!(t.flags&1)){const e=mc(t),n=hn[hn.length-1];!n||!(t.flags&2)&&e>=mc(n)?hn.push(t):hn.splice(sL(e),0,t),t.flags|=1,n0()}}function n0(){zh||(zh=e0.then(s0))}function Gh(t){he(t)?Ko.push(...t):Ms&&t.id===-1?Ms.splice(No+1,0,t):t.flags&1||(Ko.push(t),t.flags|=1),n0()}function SE(t,e,n=Pr+1){for(;n<hn.length;n++){const r=hn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;hn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function r0(t){if(Ko.length){const e=[...new Set(Ko)].sort((n,r)=>mc(n)-mc(r));if(Ko.length=0,Ms){Ms.push(...e);return}for(Ms=e,No=0;No<Ms.length;No++){const n=Ms[No];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ms=null,No=0}}const mc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function s0(t){try{for(Pr=0;Pr<hn.length;Pr++){const e=hn[Pr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Pr<hn.length;Pr++){const e=hn[Pr];e&&(e.flags&=-2)}Pr=-1,hn.length=0,r0(),zh=null,(hn.length||Ko.length)&&s0()}}let Ot=null,i0=null;function Kh(t){const e=Ot;return Ot=t,i0=t&&t.type.__scopeId||null,e}function iL(t,e=Ot,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&$E(-1);const i=Kh(e);let o;try{o=t(...s)}finally{Kh(i),r._d&&$E(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function jJ(t,e){if(Ot===null)return t;const n=gf(Ot),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=He]=e[s];i&&(ge(i)&&(i={mounted:i,updated:i}),i.deep&&is(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ei(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ui(),Tr(l,n,8,[t.el,a,t,e]),hi())}}const o0=Symbol("_vte"),a0=t=>t.__isTeleport,zl=t=>t&&(t.disabled||t.disabled===""),AE=t=>t&&(t.defer||t.defer===""),CE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,IE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,eg=(t,e)=>{const n=t&&t.to;return ot(n)?e?e(n):null:n},l0={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,c){const{mc:h,pc:d,pbc:f,o:{insert:g,querySelector:_,createText:y,createComment:T}}=c,N=zl(e.props);let{shapeFlag:O,children:x,dynamicChildren:D}=e;if(t==null){const M=e.el=y(""),V=e.anchor=y("");g(M,n,r),g(V,n,r);const C=(w,A)=>{O&16&&(s&&s.isCE&&(s.ce._teleportTarget=w),h(x,w,A,s,i,o,a,l))},E=()=>{const w=e.target=eg(e.props,_),A=c0(w,e,y,g);w&&(o!=="svg"&&CE(w)?o="svg":o!=="mathml"&&IE(w)&&(o="mathml"),N||(C(w,A),mh(e,!1)))};N&&(C(n,V),mh(e,!0)),AE(e.props)?cn(()=>{E(),e.el.__isMounted=!0},i):E()}else{if(AE(e.props)&&!t.el.__isMounted){cn(()=>{l0.process(t,e,n,r,s,i,o,a,l,c),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,V=e.target=t.target,C=e.targetAnchor=t.targetAnchor,E=zl(t.props),w=E?n:V,A=E?M:C;if(o==="svg"||CE(V)?o="svg":(o==="mathml"||IE(V))&&(o="mathml"),D?(f(t.dynamicChildren,D,w,s,i,o,a),Y_(t,e,!0)):l||d(t,e,w,A,s,i,o,a,!1),N)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Vu(e,n,M,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=eg(e.props,_);k&&Vu(e,k,null,c,0)}else E&&Vu(e,V,C,c,1);mh(e,N)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:h,target:d,props:f}=t;if(d&&(s(c),s(h)),i&&s(l),o&16){const g=i||!zl(f);for(let _=0;_<a.length;_++){const y=a[_];r(y,e,n,g,!!y.dynamicChildren)}}},move:Vu,hydrate:oL};function Vu(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:h}=t,d=i===2;if(d&&r(o,e,n),(!d||zl(h))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,n,2);d&&r(a,e,n)}function oL(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:h}},d){const f=e.target=eg(e.props,l);if(f){const g=zl(e.props),_=f._lpa||f.firstChild;if(e.shapeFlag&16)if(g)e.anchor=d(o(t),e,a(t),n,r,s,i),e.targetStart=_,e.targetAnchor=_&&o(_);else{e.anchor=o(t);let y=_;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||c0(f,e,h,c),d(_&&o(_),e,f,n,r,s,i)}mh(e,g)}return e.anchor&&o(e.anchor)}const WJ=l0;function mh(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function c0(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[o0]=i,t&&(r(s,t),r(i,t)),i}const Vs=Symbol("_leaveCb"),Fu=Symbol("_enterCb");function aL(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $c(()=>{t.isMounted=!0}),_0(()=>{t.isUnmounting=!0}),t}const Qn=[Function,Array],u0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qn,onEnter:Qn,onAfterEnter:Qn,onEnterCancelled:Qn,onBeforeLeave:Qn,onLeave:Qn,onAfterLeave:Qn,onLeaveCancelled:Qn,onBeforeAppear:Qn,onAppear:Qn,onAfterAppear:Qn,onAppearCancelled:Qn},h0=t=>{const e=t.subTree;return e.component?h0(e.component):e},lL={name:"BaseTransition",props:u0,setup(t,{slots:e}){const n=io(),r=aL();return()=>{const s=e.default&&p0(e.default(),!0);if(!s||!s.length)return;const i=d0(s),o=Fe(t),{mode:a}=o;if(r.isLeaving)return Wp(i);const l=RE(i);if(!l)return Wp(i);let c=tg(l,o,r,n,d=>c=d);l.type!==Ht&&gc(l,c);let h=n.subTree&&RE(n.subTree);if(h&&h.type!==Ht&&!Or(l,h)&&h0(n).type!==Ht){let d=tg(h,o,r,n);if(gc(h,d),a==="out-in"&&l.type!==Ht)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},Wp(i);a==="in-out"&&l.type!==Ht?d.delayLeave=(f,g,_)=>{const y=f0(r,h);y[String(h.key)]=h,f[Vs]=()=>{g(),f[Vs]=void 0,delete c.delayedLeave,h=void 0},c.delayedLeave=()=>{_(),delete c.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function d0(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ht){e=n;break}}return e}const cL=lL;function f0(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function tg(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:g,onAfterLeave:_,onLeaveCancelled:y,onBeforeAppear:T,onAppear:N,onAfterAppear:O,onAppearCancelled:x}=e,D=String(t.key),M=f0(n,t),V=(w,A)=>{w&&Tr(w,r,9,A)},C=(w,A)=>{const k=A[1];V(w,A),he(w)?w.every(I=>I.length<=1)&&k():w.length<=1&&k()},E={mode:o,persisted:a,beforeEnter(w){let A=l;if(!n.isMounted)if(i)A=T||l;else return;w[Vs]&&w[Vs](!0);const k=M[D];k&&Or(t,k)&&k.el[Vs]&&k.el[Vs](),V(A,[w])},enter(w){let A=c,k=h,I=d;if(!n.isMounted)if(i)A=N||c,k=O||h,I=x||d;else return;let S=!1;const we=w[Fu]=Me=>{S||(S=!0,Me?V(I,[w]):V(k,[w]),E.delayedLeave&&E.delayedLeave(),w[Fu]=void 0)};A?C(A,[w,we]):we()},leave(w,A){const k=String(t.key);if(w[Fu]&&w[Fu](!0),n.isUnmounting)return A();V(f,[w]);let I=!1;const S=w[Vs]=we=>{I||(I=!0,A(),we?V(y,[w]):V(_,[w]),w[Vs]=void 0,M[k]===t&&delete M[k])};M[k]=t,g?C(g,[w,S]):S()},clone(w){const A=tg(w,e,n,r,s);return s&&s(A),A}};return E}function Wp(t){if(Fc(t))return t=Qs(t),t.children=null,t}function RE(t){if(!Fc(t))return a0(t.type)&&t.children?d0(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ge(n.default))return n.default()}}function gc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,gc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function p0(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===An?(o.patchFlag&128&&s++,r=r.concat(p0(o.children,e,a))):(e||o.type!==Ht)&&r.push(a!=null?Qs(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function uL(t,e){return ge(t)?It({name:t.name},e,{setup:t}):t}function G_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Yh(t,e,n,r,s=!1){if(he(t)){t.forEach((_,y)=>Yh(_,e&&(he(e)?e[y]:e),n,r,s));return}if(Yo(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Yh(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?gf(r.component):r.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,h=a.refs===He?a.refs={}:a.refs,d=a.setupState,f=Fe(d),g=d===He?()=>!1:_=>We(f,_);if(c!=null&&c!==l&&(ot(c)?(h[c]=null,g(c)&&(d[c]=null)):dt(c)&&(c.value=null)),ge(l))Vc(l,a,12,[o,h]);else{const _=ot(l),y=dt(l);if(_||y){const T=()=>{if(t.f){const N=_?g(l)?d[l]:h[l]:l.value;s?he(N)&&V_(N,i):he(N)?N.includes(i)||N.push(i):_?(h[l]=[i],g(l)&&(d[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else _?(h[l]=o,g(l)&&(d[l]=o)):y&&(l.value=o,t.k&&(h[t.k]=o))};o?(T.id=-1,cn(T,n)):T()}}}const kE=t=>t.nodeType===8;of().requestIdleCallback;of().cancelIdleCallback;function hL(t,e){if(kE(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(kE(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Yo=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function vn(t){ge(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,h,d=0;const f=()=>(d++,c=null,g()),g=()=>{let _;return c||(_=c=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((T,N)=>{l(y,()=>T(f()),()=>N(y),d+1)});throw y}).then(y=>_!==c&&c?c:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),h=y,y)))};return uL({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(_,y,T){const N=i?()=>{const O=i(T,x=>hL(_,x));O&&(y.bum||(y.bum=[])).push(O)}:T;h?N():g().then(()=>!y.isUnmounted&&N())},get __asyncResolved(){return h},setup(){const _=Nt;if(G_(_),h)return()=>qp(h,_);const y=x=>{c=null,Ua(x,_,13,!r)};if(a&&_.suspense||ha)return g().then(x=>()=>qp(x,_)).catch(x=>(y(x),()=>r?yt(r,{error:x}):null));const T=bt(!1),N=bt(),O=bt(!!s);return s&&setTimeout(()=>{O.value=!1},s),o!=null&&setTimeout(()=>{if(!T.value&&!N.value){const x=new Error(`Async component timed out after ${o}ms.`);y(x),N.value=x}},o),g().then(()=>{T.value=!0,_.parent&&Fc(_.parent.vnode)&&_.parent.update()}).catch(x=>{y(x),N.value=x}),()=>{if(T.value&&h)return qp(h,_);if(N.value&&r)return yt(r,{error:N.value});if(n&&!O.value)return yt(n)}}})}function qp(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=yt(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Fc=t=>t.type.__isKeepAlive;function dL(t,e){m0(t,"a",e)}function fL(t,e){m0(t,"da",e)}function m0(t,e,n=Nt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(hf(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Fc(s.parent.vnode)&&pL(r,e,n,s),s=s.parent}}function pL(t,e,n,r){const s=hf(e,t,r,!0);Bc(()=>{V_(r[e],s)},n)}function hf(t,e,n=Nt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ui();const a=Uc(n),l=Tr(e,n,t,o);return a(),hi(),l});return r?s.unshift(i):s.push(i),i}}const Is=t=>(e,n=Nt)=>{(!ha||t==="sp")&&hf(t,(...r)=>e(...r),n)},mL=Is("bm"),$c=Is("m"),g0=Is("bu"),gL=Is("u"),_0=Is("bum"),Bc=Is("um"),df=Is("sp"),_L=Is("rtg"),yL=Is("rtc");function wL(t,e=Nt){hf("ec",t,e)}const vL="components",y0=Symbol.for("v-ndc");function EL(t){return ot(t)?bL(vL,t,!1)||t:t||y0}function bL(t,e,n=!0,r=!1){const s=Ot||Nt;if(s){const i=s.type;{const a=mM(i,!1);if(a&&(a===e||a===Un(e)||a===sf(Un(e))))return i}const o=PE(s[t]||i[t],e)||PE(s.appContext[t],e);return!o&&r?i:o}}function PE(t,e){return t&&(t[e]||t[Un(e)]||t[sf(Un(e))])}function qJ(t,e,n,r){let s;const i=n,o=he(t);if(o||ot(t)){const a=o&&Go(t);let l=!1;a&&(l=!er(t),t=cf(t)),s=new Array(t.length);for(let c=0,h=t.length;c<h;c++)s[c]=e(l?Jt(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Ke(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}function zJ(t,e,n={},r,s){if(Ot.ce||Ot.parent&&Yo(Ot.parent)&&Ot.parent.ce)return e!=="default"&&(n.name=e),hr(),Zo(An,null,[yt("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),hr();const o=i&&w0(i(n)),a=n.key||o&&o.key,l=Zo(An,{key:(a&&!br(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function w0(t){return t.some(e=>ua(e)?!(e.type===Ht||e.type===An&&!w0(e.children)):!0)?t:null}function GJ(t,e){const n={};for(const r in t)n[/[A-Z]/.test(r)?`on:${r}`:fh(r)]=t[r];return n}const ng=t=>t?U0(t)?gf(t):ng(t.parent):null,Gl=It(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ng(t.parent),$root:t=>ng(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>E0(t),$forceUpdate:t=>t.f||(t.f=()=>{z_(t.update)}),$nextTick:t=>t.n||(t.n=t0.bind(t.proxy)),$watch:t=>qL.bind(t)}),zp=(t,e)=>t!==He&&!t.__isScriptSetup&&We(t,e),TL={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(zp(r,e))return o[e]=1,r[e];if(s!==He&&We(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&We(c,e))return o[e]=3,i[e];if(n!==He&&We(n,e))return o[e]=4,n[e];rg&&(o[e]=0)}}const h=Gl[e];let d,f;if(h)return e==="$attrs"&&Qt(t.attrs,"get",""),h(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==He&&We(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,We(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return zp(s,e)?(s[e]=n,!0):r!==He&&We(r,e)?(r[e]=n,!0):We(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==He&&We(t,o)||zp(e,o)||(a=i[0])&&We(a,o)||We(r,o)||We(Gl,o)||We(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:We(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Xh(t){return he(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function KJ(t,e){return!t||!e?t||e:he(t)&&he(e)?t.concat(e):It({},Xh(t),Xh(e))}let rg=!0;function SL(t){const e=E0(t),n=t.proxy,r=t.ctx;rg=!1,e.beforeCreate&&NE(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:g,updated:_,activated:y,deactivated:T,beforeDestroy:N,beforeUnmount:O,destroyed:x,unmounted:D,render:M,renderTracked:V,renderTriggered:C,errorCaptured:E,serverPrefetch:w,expose:A,inheritAttrs:k,components:I,directives:S,filters:we}=e;if(c&&AL(c,r,null),o)for(const b in o){const H=o[b];ge(H)&&(r[b]=H.bind(n))}if(s){const b=s.call(n,n);Ke(b)&&(t.data=uf(b))}if(rg=!0,i)for(const b in i){const H=i[b],Q=ge(H)?H.bind(n,n):ge(H.get)?H.get.bind(n,n):gr,ee=!ge(H)&&ge(H.set)?H.set.bind(n):gr,Se=pt({get:Q,set:ee});Object.defineProperty(r,b,{enumerable:!0,configurable:!0,get:()=>Se.value,set:ie=>Se.value=ie})}if(a)for(const b in a)v0(a[b],r,n,b);if(l){const b=ge(l)?l.call(n):l;Reflect.ownKeys(b).forEach(H=>{xo(H,b[H])})}h&&NE(h,t,"c");function Te(b,H){he(H)?H.forEach(Q=>b(Q.bind(n))):H&&b(H.bind(n))}if(Te(mL,d),Te($c,f),Te(g0,g),Te(gL,_),Te(dL,y),Te(fL,T),Te(wL,E),Te(yL,V),Te(_L,C),Te(_0,O),Te(Bc,D),Te(df,w),he(A))if(A.length){const b=t.exposed||(t.exposed={});A.forEach(H=>{Object.defineProperty(b,H,{get:()=>n[H],set:Q=>n[H]=Q})})}else t.exposed||(t.exposed={});M&&t.render===gr&&(t.render=M),k!=null&&(t.inheritAttrs=k),I&&(t.components=I),S&&(t.directives=S),w&&G_(t)}function AL(t,e,n=gr){he(t)&&(t=sg(t));for(const r in t){const s=t[r];let i;Ke(s)?"default"in s?i=Qo(s.from||r,s.default,!0):i=Qo(s.from||r):i=Qo(s),dt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function NE(t,e,n){Tr(he(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function v0(t,e,n,r){let s=r.includes(".")?O0(n,r):()=>n[r];if(ot(t)){const i=e[t];ge(i)&&ls(s,i)}else if(ge(t))ls(s,t.bind(n));else if(Ke(t))if(he(t))t.forEach(i=>v0(i,e,n,r));else{const i=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(i)&&ls(s,i,t)}}function E0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>Qh(l,c,o,!0)),Qh(l,e,o)),Ke(e)&&i.set(e,l),l}function Qh(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Qh(t,i,n,!0),s&&s.forEach(o=>Qh(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=CL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const CL={data:xE,props:OE,emits:OE,methods:xl,computed:xl,beforeCreate:ln,created:ln,beforeMount:ln,mounted:ln,beforeUpdate:ln,updated:ln,beforeDestroy:ln,beforeUnmount:ln,destroyed:ln,unmounted:ln,activated:ln,deactivated:ln,errorCaptured:ln,serverPrefetch:ln,components:xl,directives:xl,watch:RL,provide:xE,inject:IL};function xE(t,e){return e?t?function(){return It(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function IL(t,e){return xl(sg(t),sg(e))}function sg(t){if(he(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ln(t,e){return t?[...new Set([].concat(t,e))]:e}function xl(t,e){return t?It(Object.create(null),t,e):e}function OE(t,e){return t?he(t)&&he(e)?[...new Set([...t,...e])]:It(Object.create(null),Xh(t),Xh(e??{})):e}function RL(t,e){if(!t)return e;if(!e)return t;const n=It(Object.create(null),t);for(const r in e)n[r]=ln(t[r],e[r]);return n}function b0(){return{app:null,config:{isNativeTag:u2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kL=0;function PL(t,e){return function(r,s=null){ge(r)||(r=It({},r)),s!=null&&!Ke(s)&&(s=null);const i=b0(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:kL++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:yM,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&ge(h.install)?(o.add(h),h.install(c,...d)):ge(h)&&(o.add(h),h(c,...d))),c},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),c},component(h,d){return d?(i.components[h]=d,c):i.components[h]},directive(h,d){return d?(i.directives[h]=d,c):i.directives[h]},mount(h,d,f){if(!l){const g=c._ceVNode||yt(r,s);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(g,h,f),l=!0,c._container=h,h.__vue_app__=c,gf(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(Tr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(h,d){return i.provides[h]=d,c},runWithContext(h){const d=Xo;Xo=c;try{return h()}finally{Xo=d}}};return c}}let Xo=null;function xo(t,e){if(Nt){let n=Nt.provides;const r=Nt.parent&&Nt.parent.provides;r===n&&(n=Nt.provides=Object.create(r)),n[t]=e}}function Qo(t,e,n=!1){const r=Nt||Ot;if(r||Xo){const s=Xo?Xo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e}}const T0={},S0=()=>Object.create(T0),A0=t=>Object.getPrototypeOf(t)===T0;function NL(t,e,n,r=!1){const s={},i=S0();t.propsDefaults=Object.create(null),C0(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:W2(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function xL(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Fe(s),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(pf(t.emitsOptions,f))continue;const g=e[f];if(l)if(We(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const _=Un(f);s[_]=ig(l,a,_,g,t,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{C0(t,e,s,i)&&(c=!0);let h;for(const d in a)(!e||!We(e,d)&&((h=Cs(d))===d||!We(e,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=ig(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!We(e,d))&&(delete i[d],c=!0)}c&&ss(t.attrs,"set","")}function C0(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(jl(l))continue;const c=e[l];let h;s&&We(s,h=Un(l))?!i||!i.includes(h)?n[h]=c:(a||(a={}))[h]=c:pf(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Fe(n),c=a||He;for(let h=0;h<i.length;h++){const d=i[h];n[d]=ig(s,l,d,c[d],t,!We(c,d))}}return o}function ig(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=We(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ge(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const h=Uc(s);r=c[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Cs(n))&&(r=!0))}return r}const OL=new WeakMap;function I0(t,e,n=!1){const r=n?OL:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!ge(t)){const h=d=>{l=!0;const[f,g]=I0(d,e,!0);It(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return Ke(t)&&r.set(t,qo),qo;if(he(i))for(let h=0;h<i.length;h++){const d=Un(i[h]);DE(d)&&(o[d]=He)}else if(i)for(const h in i){const d=Un(h);if(DE(d)){const f=i[h],g=o[d]=he(f)||ge(f)?{type:f}:It({},f),_=g.type;let y=!1,T=!0;if(he(_))for(let N=0;N<_.length;++N){const O=_[N],x=ge(O)&&O.name;if(x==="Boolean"){y=!0;break}else x==="String"&&(T=!1)}else y=ge(_)&&_.name==="Boolean";g[0]=y,g[1]=T,(y||We(g,"default"))&&a.push(d)}}const c=[o,a];return Ke(t)&&r.set(t,c),c}function DE(t){return t[0]!=="$"&&!jl(t)}const R0=t=>t[0]==="_"||t==="$stable",K_=t=>he(t)?t.map(dr):[dr(t)],DL=(t,e,n)=>{if(e._n)return e;const r=iL((...s)=>K_(e(...s)),n);return r._c=!1,r},k0=(t,e,n)=>{const r=t._ctx;for(const s in t){if(R0(s))continue;const i=t[s];if(ge(i))e[s]=DL(s,i,r);else if(i!=null){const o=K_(i);e[s]=()=>o}}},P0=(t,e)=>{const n=K_(e);t.slots.default=()=>n},N0=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},LL=(t,e,n)=>{const r=t.slots=S0();if(t.vnode.shapeFlag&32){const s=e._;s?(N0(r,e,n),n&&xC(r,"_",s,!0)):k0(e,r)}else e&&P0(t,e)},ML=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=He;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:N0(s,e,n):(i=!e.$stable,k0(e,s)),o=e}else e&&(P0(t,e),o={default:1});if(i)for(const a in s)!R0(a)&&o[a]==null&&delete s[a]},cn=nM;function VL(t){return FL(t)}function FL(t,e){const n=of();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:g=gr,insertStaticContent:_}=t,y=(R,P,$,q=null,W=null,K=null,te=void 0,J=null,X=!!P.dynamicChildren)=>{if(R===P)return;R&&!Or(R,P)&&(q=Rt(R),ie(R,W,K,!0),R=null),P.patchFlag===-2&&(X=!1,P.dynamicChildren=null);const{type:z,ref:le,shapeFlag:ne}=P;switch(z){case mf:T(R,P,$,q);break;case Ht:N(R,P,$,q);break;case Kl:R==null&&O(P,$,q,te);break;case An:I(R,P,$,q,W,K,te,J,X);break;default:ne&1?M(R,P,$,q,W,K,te,J,X):ne&6?S(R,P,$,q,W,K,te,J,X):(ne&64||ne&128)&&z.process(R,P,$,q,W,K,te,J,X,yn)}le!=null&&W&&Yh(le,R&&R.ref,K,P||R,!P)},T=(R,P,$,q)=>{if(R==null)r(P.el=a(P.children),$,q);else{const W=P.el=R.el;P.children!==R.children&&c(W,P.children)}},N=(R,P,$,q)=>{R==null?r(P.el=l(P.children||""),$,q):P.el=R.el},O=(R,P,$,q)=>{[R.el,R.anchor]=_(R.children,P,$,q,R.el,R.anchor)},x=({el:R,anchor:P},$,q)=>{let W;for(;R&&R!==P;)W=f(R),r(R,$,q),R=W;r(P,$,q)},D=({el:R,anchor:P})=>{let $;for(;R&&R!==P;)$=f(R),s(R),R=$;s(P)},M=(R,P,$,q,W,K,te,J,X)=>{P.type==="svg"?te="svg":P.type==="math"&&(te="mathml"),R==null?V(P,$,q,W,K,te,J,X):w(R,P,W,K,te,J,X)},V=(R,P,$,q,W,K,te,J)=>{let X,z;const{props:le,shapeFlag:ne,transition:oe,dirs:pe}=R;if(X=R.el=o(R.type,K,le&&le.is,le),ne&8?h(X,R.children):ne&16&&E(R.children,X,null,q,W,Gp(R,K),te,J),pe&&Ei(R,null,q,"created"),C(X,R,R.scopeId,te,q),le){for(const ve in le)ve!=="value"&&!jl(ve)&&i(X,ve,null,le[ve],K,q);"value"in le&&i(X,"value",null,le.value,K),(z=le.onVnodeBeforeMount)&&Rr(z,q,R)}pe&&Ei(R,null,q,"beforeMount");const ce=$L(W,oe);ce&&oe.beforeEnter(X),r(X,P,$),((z=le&&le.onVnodeMounted)||ce||pe)&&cn(()=>{z&&Rr(z,q,R),ce&&oe.enter(X),pe&&Ei(R,null,q,"mounted")},W)},C=(R,P,$,q,W)=>{if($&&g(R,$),q)for(let K=0;K<q.length;K++)g(R,q[K]);if(W){let K=W.subTree;if(P===K||M0(K.type)&&(K.ssContent===P||K.ssFallback===P)){const te=W.vnode;C(R,te,te.scopeId,te.slotScopeIds,W.parent)}}},E=(R,P,$,q,W,K,te,J,X=0)=>{for(let z=X;z<R.length;z++){const le=R[z]=J?Fs(R[z]):dr(R[z]);y(null,le,P,$,q,W,K,te,J)}},w=(R,P,$,q,W,K,te)=>{const J=P.el=R.el;let{patchFlag:X,dynamicChildren:z,dirs:le}=P;X|=R.patchFlag&16;const ne=R.props||He,oe=P.props||He;let pe;if($&&bi($,!1),(pe=oe.onVnodeBeforeUpdate)&&Rr(pe,$,P,R),le&&Ei(P,R,$,"beforeUpdate"),$&&bi($,!0),(ne.innerHTML&&oe.innerHTML==null||ne.textContent&&oe.textContent==null)&&h(J,""),z?A(R.dynamicChildren,z,J,$,q,Gp(P,W),K):te||H(R,P,J,null,$,q,Gp(P,W),K,!1),X>0){if(X&16)k(J,ne,oe,$,W);else if(X&2&&ne.class!==oe.class&&i(J,"class",null,oe.class,W),X&4&&i(J,"style",ne.style,oe.style,W),X&8){const ce=P.dynamicProps;for(let ve=0;ve<ce.length;ve++){const Re=ce[ve],qt=ne[Re],Mt=oe[Re];(Mt!==qt||Re==="value")&&i(J,Re,qt,Mt,W,$)}}X&1&&R.children!==P.children&&h(J,P.children)}else!te&&z==null&&k(J,ne,oe,$,W);((pe=oe.onVnodeUpdated)||le)&&cn(()=>{pe&&Rr(pe,$,P,R),le&&Ei(P,R,$,"updated")},q)},A=(R,P,$,q,W,K,te)=>{for(let J=0;J<P.length;J++){const X=R[J],z=P[J],le=X.el&&(X.type===An||!Or(X,z)||X.shapeFlag&70)?d(X.el):$;y(X,z,le,null,q,W,K,te,!0)}},k=(R,P,$,q,W)=>{if(P!==$){if(P!==He)for(const K in P)!jl(K)&&!(K in $)&&i(R,K,P[K],null,W,q);for(const K in $){if(jl(K))continue;const te=$[K],J=P[K];te!==J&&K!=="value"&&i(R,K,J,te,W,q)}"value"in $&&i(R,"value",P.value,$.value,W)}},I=(R,P,$,q,W,K,te,J,X)=>{const z=P.el=R?R.el:a(""),le=P.anchor=R?R.anchor:a("");let{patchFlag:ne,dynamicChildren:oe,slotScopeIds:pe}=P;pe&&(J=J?J.concat(pe):pe),R==null?(r(z,$,q),r(le,$,q),E(P.children||[],$,le,W,K,te,J,X)):ne>0&&ne&64&&oe&&R.dynamicChildren?(A(R.dynamicChildren,oe,$,W,K,te,J),(P.key!=null||W&&P===W.subTree)&&Y_(R,P,!0)):H(R,P,$,le,W,K,te,J,X)},S=(R,P,$,q,W,K,te,J,X)=>{P.slotScopeIds=J,R==null?P.shapeFlag&512?W.ctx.activate(P,$,q,te,X):we(P,$,q,W,K,te,X):Me(R,P,X)},we=(R,P,$,q,W,K,te)=>{const J=R.component=uM(R,q,W);if(Fc(R)&&(J.ctx.renderer=yn),hM(J,!1,te),J.asyncDep){if(W&&W.registerDep(J,Te,te),!R.el){const X=J.subTree=yt(Ht);N(null,X,P,$)}}else Te(J,R,P,$,W,K,te)},Me=(R,P,$)=>{const q=P.component=R.component;if(XL(R,P,$))if(q.asyncDep&&!q.asyncResolved){b(q,P,$);return}else q.next=P,q.update();else P.el=R.el,q.vnode=P},Te=(R,P,$,q,W,K,te)=>{const J=()=>{if(R.isMounted){let{next:ne,bu:oe,u:pe,parent:ce,vnode:ve}=R;{const zt=x0(R);if(zt){ne&&(ne.el=ve.el,b(R,ne,te)),zt.asyncDep.then(()=>{R.isUnmounted||J()});return}}let Re=ne,qt;bi(R,!1),ne?(ne.el=ve.el,b(R,ne,te)):ne=ve,oe&&ph(oe),(qt=ne.props&&ne.props.onVnodeBeforeUpdate)&&Rr(qt,ce,ne,ve),bi(R,!0);const Mt=ME(R),Yn=R.subTree;R.subTree=Mt,y(Yn,Mt,d(Yn.el),Rt(Yn),R,W,K),ne.el=Mt.el,Re===null&&X_(R,Mt.el),pe&&cn(pe,W),(qt=ne.props&&ne.props.onVnodeUpdated)&&cn(()=>Rr(qt,ce,ne,ve),W)}else{let ne;const{el:oe,props:pe}=P,{bm:ce,m:ve,parent:Re,root:qt,type:Mt}=R,Yn=Yo(P);bi(R,!1),ce&&ph(ce),!Yn&&(ne=pe&&pe.onVnodeBeforeMount)&&Rr(ne,Re,P),bi(R,!0);{qt.ce&&qt.ce._injectChildStyle(Mt);const zt=R.subTree=ME(R);y(null,zt,$,q,R,W,K),P.el=zt.el}if(ve&&cn(ve,W),!Yn&&(ne=pe&&pe.onVnodeMounted)){const zt=P;cn(()=>Rr(ne,Re,zt),W)}(P.shapeFlag&256||Re&&Yo(Re.vnode)&&Re.vnode.shapeFlag&256)&&R.a&&cn(R.a,W),R.isMounted=!0,P=$=q=null}};R.scope.on();const X=R.effect=new VC(J);R.scope.off();const z=R.update=X.run.bind(X),le=R.job=X.runIfDirty.bind(X);le.i=R,le.id=R.uid,X.scheduler=()=>z_(le),bi(R,!0),z()},b=(R,P,$)=>{P.component=R;const q=R.vnode.props;R.vnode=P,R.next=null,xL(R,P.props,q,$),ML(R,P.children,$),ui(),SE(R),hi()},H=(R,P,$,q,W,K,te,J,X=!1)=>{const z=R&&R.children,le=R?R.shapeFlag:0,ne=P.children,{patchFlag:oe,shapeFlag:pe}=P;if(oe>0){if(oe&128){ee(z,ne,$,q,W,K,te,J,X);return}else if(oe&256){Q(z,ne,$,q,W,K,te,J,X);return}}pe&8?(le&16&&mt(z,W,K),ne!==z&&h($,ne)):le&16?pe&16?ee(z,ne,$,q,W,K,te,J,X):mt(z,W,K,!0):(le&8&&h($,""),pe&16&&E(ne,$,q,W,K,te,J,X))},Q=(R,P,$,q,W,K,te,J,X)=>{R=R||qo,P=P||qo;const z=R.length,le=P.length,ne=Math.min(z,le);let oe;for(oe=0;oe<ne;oe++){const pe=P[oe]=X?Fs(P[oe]):dr(P[oe]);y(R[oe],pe,$,null,W,K,te,J,X)}z>le?mt(R,W,K,!0,!1,ne):E(P,$,q,W,K,te,J,X,ne)},ee=(R,P,$,q,W,K,te,J,X)=>{let z=0;const le=P.length;let ne=R.length-1,oe=le-1;for(;z<=ne&&z<=oe;){const pe=R[z],ce=P[z]=X?Fs(P[z]):dr(P[z]);if(Or(pe,ce))y(pe,ce,$,null,W,K,te,J,X);else break;z++}for(;z<=ne&&z<=oe;){const pe=R[ne],ce=P[oe]=X?Fs(P[oe]):dr(P[oe]);if(Or(pe,ce))y(pe,ce,$,null,W,K,te,J,X);else break;ne--,oe--}if(z>ne){if(z<=oe){const pe=oe+1,ce=pe<le?P[pe].el:q;for(;z<=oe;)y(null,P[z]=X?Fs(P[z]):dr(P[z]),$,ce,W,K,te,J,X),z++}}else if(z>oe)for(;z<=ne;)ie(R[z],W,K,!0),z++;else{const pe=z,ce=z,ve=new Map;for(z=ce;z<=oe;z++){const Vt=P[z]=X?Fs(P[z]):dr(P[z]);Vt.key!=null&&ve.set(Vt.key,z)}let Re,qt=0;const Mt=oe-ce+1;let Yn=!1,zt=0;const ks=new Array(Mt);for(z=0;z<Mt;z++)ks[z]=0;for(z=pe;z<=ne;z++){const Vt=R[z];if(qt>=Mt){ie(Vt,W,K,!0);continue}let Xn;if(Vt.key!=null)Xn=ve.get(Vt.key);else for(Re=ce;Re<=oe;Re++)if(ks[Re-ce]===0&&Or(Vt,P[Re])){Xn=Re;break}Xn===void 0?ie(Vt,W,K,!0):(ks[Xn-ce]=z+1,Xn>=zt?zt=Xn:Yn=!0,y(Vt,P[Xn],$,null,W,K,te,J,X),qt++)}const ll=Yn?BL(ks):qo;for(Re=ll.length-1,z=Mt-1;z>=0;z--){const Vt=ce+z,Xn=P[Vt],_u=Vt+1<le?P[Vt+1].el:q;ks[z]===0?y(null,Xn,$,_u,W,K,te,J,X):Yn&&(Re<0||z!==ll[Re]?Se(Xn,$,_u,2):Re--)}}},Se=(R,P,$,q,W=null)=>{const{el:K,type:te,transition:J,children:X,shapeFlag:z}=R;if(z&6){Se(R.component.subTree,P,$,q);return}if(z&128){R.suspense.move(P,$,q);return}if(z&64){te.move(R,P,$,yn);return}if(te===An){r(K,P,$);for(let ne=0;ne<X.length;ne++)Se(X[ne],P,$,q);r(R.anchor,P,$);return}if(te===Kl){x(R,P,$);return}if(q!==2&&z&1&&J)if(q===0)J.beforeEnter(K),r(K,P,$),cn(()=>J.enter(K),W);else{const{leave:ne,delayLeave:oe,afterLeave:pe}=J,ce=()=>r(K,P,$),ve=()=>{ne(K,()=>{ce(),pe&&pe()})};oe?oe(K,ce,ve):ve()}else r(K,P,$)},ie=(R,P,$,q=!1,W=!1)=>{const{type:K,props:te,ref:J,children:X,dynamicChildren:z,shapeFlag:le,patchFlag:ne,dirs:oe,cacheIndex:pe}=R;if(ne===-2&&(W=!1),J!=null&&Yh(J,null,$,R,!0),pe!=null&&(P.renderCache[pe]=void 0),le&256){P.ctx.deactivate(R);return}const ce=le&1&&oe,ve=!Yo(R);let Re;if(ve&&(Re=te&&te.onVnodeBeforeUnmount)&&Rr(Re,P,R),le&6)Qe(R.component,$,q);else{if(le&128){R.suspense.unmount($,q);return}ce&&Ei(R,null,P,"beforeUnmount"),le&64?R.type.remove(R,P,$,yn,q):z&&!z.hasOnce&&(K!==An||ne>0&&ne&64)?mt(z,P,$,!1,!0):(K===An&&ne&384||!W&&le&16)&&mt(X,P,$),q&&ye(R)}(ve&&(Re=te&&te.onVnodeUnmounted)||ce)&&cn(()=>{Re&&Rr(Re,P,R),ce&&Ei(R,null,P,"unmounted")},$)},ye=R=>{const{type:P,el:$,anchor:q,transition:W}=R;if(P===An){it($,q);return}if(P===Kl){D(R);return}const K=()=>{s($),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(R.shapeFlag&1&&W&&!W.persisted){const{leave:te,delayLeave:J}=W,X=()=>te($,K);J?J(R.el,K,X):X()}else K()},it=(R,P)=>{let $;for(;R!==P;)$=f(R),s(R),R=$;s(P)},Qe=(R,P,$)=>{const{bum:q,scope:W,job:K,subTree:te,um:J,m:X,a:z}=R;LE(X),LE(z),q&&ph(q),W.stop(),K&&(K.flags|=8,ie(te,R,P,$)),J&&cn(J,P),cn(()=>{R.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},mt=(R,P,$,q=!1,W=!1,K=0)=>{for(let te=K;te<R.length;te++)ie(R[te],P,$,q,W)},Rt=R=>{if(R.shapeFlag&6)return Rt(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const P=f(R.anchor||R.el),$=P&&P[o0];return $?f($):P};let Lt=!1;const Pn=(R,P,$)=>{R==null?P._vnode&&ie(P._vnode,null,null,!0):y(P._vnode||null,R,P,null,null,null,$),P._vnode=R,Lt||(Lt=!0,SE(),r0(),Lt=!1)},yn={p:y,um:ie,m:Se,r:ye,mt:we,mc:E,pc:H,pbc:A,n:Rt,o:t};return{render:Pn,hydrate:void 0,createApp:PL(Pn)}}function Gp({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function bi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $L(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Y_(t,e,n=!1){const r=t.children,s=e.children;if(he(r)&&he(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Fs(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Y_(o,a)),a.type===mf&&(a.el=o.el)}}function BL(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function x0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:x0(e)}function LE(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const UL=Symbol.for("v-scx"),HL=()=>Qo(UL);function jL(t,e){return ff(t,null,e)}function WL(t,e){return ff(t,null,{flush:"sync"})}function ls(t,e,n){return ff(t,e,n)}function ff(t,e,n=He){const{immediate:r,deep:s,flush:i,once:o}=n,a=It({},n),l=e&&r||!e&&i!=="post";let c;if(ha){if(i==="sync"){const g=HL();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=gr,g.resume=gr,g.pause=gr,g}}const h=Nt;a.call=(g,_,y)=>Tr(g,h,_,y);let d=!1;i==="post"?a.scheduler=g=>{cn(g,h&&h.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,_)=>{_?g():z_(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const f=nL(t,e,a);return ha&&(c?c.push(f):l&&f()),f}function qL(t,e,n){const r=this.proxy,s=ot(t)?t.includes(".")?O0(r,t):()=>r[t]:t.bind(r,r);let i;ge(e)?i=e:(i=e.handler,n=e);const o=Uc(this),a=ff(s,i.bind(r),n);return o(),a}function O0(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function YJ(t,e,n=He){const r=io(),s=Un(e),i=Cs(e),o=D0(t,s),a=Y2((l,c)=>{let h,d=He,f;return WL(()=>{const g=t[s];Sn(h,g)&&(h=g,c())}),{get(){return l(),n.get?n.get(h):h},set(g){const _=n.set?n.set(g):g;if(!Sn(_,h)&&!(d!==He&&Sn(g,d)))return;const y=r.vnode.props;y&&(e in y||s in y||i in y)&&(`onUpdate:${e}`in y||`onUpdate:${s}`in y||`onUpdate:${i}`in y)||(h=g,c()),r.emit(`update:${e}`,_),Sn(g,_)&&Sn(g,d)&&!Sn(_,f)&&c(),d=g,f=_}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||He:a,done:!1}:{done:!0}}}},a}const D0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Un(e)}Modifiers`]||t[`${Cs(e)}Modifiers`];function zL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||He;let s=n;const i=e.startsWith("update:"),o=i&&D0(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>ot(h)?h.trim():h)),o.number&&(s=n.map(jh)));let a,l=r[a=fh(e)]||r[a=fh(Un(e))];!l&&i&&(l=r[a=fh(Cs(e))]),l&&Tr(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Tr(c,t,6,s)}}function L0(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!ge(t)){const l=c=>{const h=L0(c,e,!0);h&&(a=!0,It(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ke(t)&&r.set(t,null),null):(he(i)?i.forEach(l=>o[l]=null):It(o,i),Ke(t)&&r.set(t,o),o)}function pf(t,e){return!t||!tf(e)?!1:(e=e.slice(2).replace(/Once$/,""),We(t,e[0].toLowerCase()+e.slice(1))||We(t,Cs(e))||We(t,e))}function ME(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:d,data:f,setupState:g,ctx:_,inheritAttrs:y}=t,T=Kh(t);let N,O;try{if(n.shapeFlag&4){const D=s||r,M=D;N=dr(c.call(M,D,h,d,g,f,_)),O=a}else{const D=e;N=dr(D.length>1?D(d,{attrs:a,slots:o,emit:l}):D(d,null)),O=e.props?a:KL(a)}}catch(D){Yl.length=0,Ua(D,t,1),N=yt(Ht)}let x=N;if(O&&y!==!1){const D=Object.keys(O),{shapeFlag:M}=x;D.length&&M&7&&(i&&D.some(M_)&&(O=YL(O,i)),x=Qs(x,O,!1,!0))}return n.dirs&&(x=Qs(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&gc(x,n.transition),N=x,Kh(T),N}function GL(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(ua(s)){if(s.type!==Ht||s.children==="v-if"){if(n)return;n=s}}else return}return n}const KL=t=>{let e;for(const n in t)(n==="class"||n==="style"||tf(n))&&((e||(e={}))[n]=t[n]);return e},YL=(t,e)=>{const n={};for(const r in t)(!M_(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function XL(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?VE(r,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(o[f]!==r[f]&&!pf(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?VE(r,o,c):!0:!!o;return!1}function VE(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!pf(n,i))return!0}return!1}function X_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const M0=t=>t.__isSuspense;let og=0;const QL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,l,c){if(t==null)JL(e,n,r,s,i,o,a,l,c);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}ZL(t,e,n,r,s,o,a,l,c)}},hydrate:eM,normalize:tM},XJ=QL;function _c(t,e){const n=t.props&&t.props[e];ge(n)&&n()}function JL(t,e,n,r,s,i,o,a,l){const{p:c,o:{createElement:h}}=l,d=h("div"),f=t.suspense=V0(t,s,r,e,d,n,i,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,r,f,i,o),f.deps>0?(_c(t,"onPending"),_c(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,i,o),Jo(f,t.ssFallback)):f.resolve(!1,!0)}function ZL(t,e,n,r,s,i,o,a,{p:l,um:c,o:{createElement:h}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,g=e.ssFallback,{activeBranch:_,pendingBranch:y,isInFallback:T,isHydrating:N}=d;if(y)d.pendingBranch=f,Or(f,y)?(l(y,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():T&&(N||(l(_,g,n,r,s,null,i,o,a),Jo(d,g)))):(d.pendingId=og++,N?(d.isHydrating=!1,d.activeBranch=y):c(y,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),T?(l(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0?d.resolve():(l(_,g,n,r,s,null,i,o,a),Jo(d,g))):_&&Or(f,_)?(l(_,f,n,r,s,d,i,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0&&d.resolve()));else if(_&&Or(f,_))l(_,f,n,r,s,d,i,o,a),Jo(d,f);else if(_c(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=og++,l(null,f,d.hiddenContainer,null,s,d,i,o,a),d.deps<=0)d.resolve();else{const{timeout:O,pendingId:x}=d;O>0?setTimeout(()=>{d.pendingId===x&&d.fallback(g)},O):O===0&&d.fallback(g)}}function V0(t,e,n,r,s,i,o,a,l,c,h=!1){const{p:d,m:f,um:g,n:_,o:{parentNode:y,remove:T}}=c;let N;const O=rM(t);O&&e&&e.pendingBranch&&(N=e.pendingId,e.deps++);const x=t.props?OC(t.props.timeout):void 0,D=i,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:og++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(V=!1,C=!1){const{vnode:E,activeBranch:w,pendingBranch:A,pendingId:k,effects:I,parentComponent:S,container:we}=M;let Me=!1;M.isHydrating?M.isHydrating=!1:V||(Me=w&&A.transition&&A.transition.mode==="out-in",Me&&(w.transition.afterLeave=()=>{k===M.pendingId&&(f(A,we,i===D?_(w):i,0),Gh(I))}),w&&(y(w.el)===we&&(i=_(w)),g(w,S,M,!0)),Me||f(A,we,i,0)),Jo(M,A),M.pendingBranch=null,M.isInFallback=!1;let Te=M.parent,b=!1;for(;Te;){if(Te.pendingBranch){Te.effects.push(...I),b=!0;break}Te=Te.parent}!b&&!Me&&Gh(I),M.effects=[],O&&e&&e.pendingBranch&&N===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),_c(E,"onResolve")},fallback(V){if(!M.pendingBranch)return;const{vnode:C,activeBranch:E,parentComponent:w,container:A,namespace:k}=M;_c(C,"onFallback");const I=_(E),S=()=>{M.isInFallback&&(d(null,V,A,I,w,null,k,a,l),Jo(M,V))},we=V.transition&&V.transition.mode==="out-in";we&&(E.transition.afterLeave=S),M.isInFallback=!0,g(E,w,null,!0),we||S()},move(V,C,E){M.activeBranch&&f(M.activeBranch,V,C,E),M.container=V},next(){return M.activeBranch&&_(M.activeBranch)},registerDep(V,C,E){const w=!!M.pendingBranch;w&&M.deps++;const A=V.vnode.el;V.asyncDep.catch(k=>{Ua(k,V,0)}).then(k=>{if(V.isUnmounted||M.isUnmounted||M.pendingId!==V.suspenseId)return;V.asyncResolved=!0;const{vnode:I}=V;lg(V,k),A&&(I.el=A);const S=!A&&V.subTree.el;C(V,I,y(A||V.subTree.el),A?null:_(V.subTree),M,o,E),S&&T(S),X_(V,I.el),w&&--M.deps===0&&M.resolve()})},unmount(V,C){M.isUnmounted=!0,M.activeBranch&&g(M.activeBranch,n,V,C),M.pendingBranch&&g(M.pendingBranch,n,V,C)}};return M}function eM(t,e,n,r,s,i,o,a,l){const c=e.suspense=V0(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,c.pendingBranch=e.ssContent,n,c,i,o);return c.deps===0&&c.resolve(!1,!0),h}function tM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=FE(r?n.default:n),t.ssFallback=r?FE(n.fallback):yt(Ht)}function FE(t){let e;if(ge(t)){const n=ca&&t._c;n&&(t._d=!1,hr()),t=t(),n&&(t._d=!0,e=In,F0())}return he(t)&&(t=GL(t)),t=dr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function nM(t,e){e&&e.pendingBranch?he(t)?e.effects.push(...t):e.effects.push(t):Gh(t)}function Jo(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,X_(r,s))}function rM(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const An=Symbol.for("v-fgt"),mf=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),Kl=Symbol.for("v-stc"),Yl=[];let In=null;function hr(t=!1){Yl.push(In=t?null:[])}function F0(){Yl.pop(),In=Yl[Yl.length-1]||null}let ca=1;function $E(t,e=!1){ca+=t,t<0&&In&&e&&(In.hasOnce=!0)}function $0(t){return t.dynamicChildren=ca>0?In||qo:null,F0(),ca>0&&In&&In.push(t),t}function $u(t,e,n,r,s,i){return $0(Jh(t,e,n,r,s,i,!0))}function Zo(t,e,n,r,s){return $0(yt(t,e,n,r,s,!0))}function ua(t){return t?t.__v_isVNode===!0:!1}function Or(t,e){return t.type===e.type&&t.key===e.key}const B0=({key:t})=>t??null,gh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||dt(t)||ge(t)?{i:Ot,r:t,k:e,f:!!n}:t:null);function Jh(t,e=null,n=null,r=0,s=null,i=t===An?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&B0(e),ref:e&&gh(e),scopeId:i0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ot};return a?(Q_(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),ca>0&&!o&&In&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&In.push(l),l}const yt=sM;function sM(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===y0)&&(t=Ht),ua(t)){const a=Qs(t,e,!0);return n&&Q_(a,n),ca>0&&!i&&In&&(a.shapeFlag&6?In[In.indexOf(t)]=a:In.push(a)),a.patchFlag=-2,a}if(gM(t)&&(t=t.__vccOpts),e){e=iM(e);let{class:a,style:l}=e;a&&!ot(a)&&(e.class=dc(a)),Ke(l)&&(q_(l)&&!he(l)&&(l=It({},l)),e.style=$_(l))}const o=ot(t)?1:M0(t)?128:a0(t)?64:Ke(t)?4:ge(t)?2:0;return Jh(t,e,n,r,s,o,i,!0)}function iM(t){return t?q_(t)||A0(t)?It({},t):t:null}function Qs(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?aM(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&B0(c),ref:e&&e.ref?n&&i?he(i)?i.concat(gh(e)):[i,gh(e)]:gh(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==An?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qs(t.ssContent),ssFallback:t.ssFallback&&Qs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&gc(h,l.clone(h)),h}function oM(t=" ",e=0){return yt(mf,null,t,e)}function QJ(t,e){const n=yt(Kl,null,t);return n.staticCount=e,n}function BE(t="",e=!1){return e?(hr(),Zo(Ht,null,t)):yt(Ht,null,t)}function dr(t){return t==null||typeof t=="boolean"?yt(Ht):he(t)?yt(An,null,t.slice()):ua(t)?Fs(t):yt(mf,null,String(t))}function Fs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qs(t)}function Q_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(he(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Q_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!A0(e)?e._ctx=Ot:s===3&&Ot&&(Ot.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:Ot},n=32):(e=String(e),r&64?(n=16,e=[oM(e)]):n=8);t.children=e,t.shapeFlag|=n}function aM(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=dc([e.class,r.class]));else if(s==="style")e.style=$_([e.style,r.style]);else if(tf(s)){const i=e[s],o=r[s];o&&i!==o&&!(he(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Rr(t,e,n,r=null){Tr(t,e,7,[n,r])}const lM=b0();let cM=0;function uM(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||lM,i={uid:cM++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new S2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:I0(r,s),emitsOptions:L0(r,s),emit:null,emitted:null,propsDefaults:He,inheritAttrs:r.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=zL.bind(null,i),t.ce&&t.ce(i),i}let Nt=null;const io=()=>Nt||Ot;let Zh,ag;{const t=of(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Zh=e("__VUE_INSTANCE_SETTERS__",n=>Nt=n),ag=e("__VUE_SSR_SETTERS__",n=>ha=n)}const Uc=t=>{const e=Nt;return Zh(t),t.scope.on(),()=>{t.scope.off(),Zh(e)}},UE=()=>{Nt&&Nt.scope.off(),Zh(null)};function U0(t){return t.vnode.shapeFlag&4}let ha=!1;function hM(t,e=!1,n=!1){e&&ag(e);const{props:r,children:s}=t.vnode,i=U0(t);NL(t,r,i,e),LL(t,s,n);const o=i?dM(t,e):void 0;return e&&ag(!1),o}function dM(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,TL);const{setup:r}=n;if(r){ui();const s=t.setupContext=r.length>1?pM(t):null,i=Uc(t),o=Vc(r,t,0,[t.props,s]),a=kC(o);if(hi(),i(),(a||t.sp)&&!Yo(t)&&G_(t),a){if(o.then(UE,UE),e)return o.then(l=>{lg(t,l)}).catch(l=>{Ua(l,t,0)});t.asyncDep=o}else lg(t,o)}else H0(t)}function lg(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ke(e)&&(t.setupState=ZC(e)),H0(t)}function H0(t,e,n){const r=t.type;t.render||(t.render=r.render||gr);{const s=Uc(t);ui();try{SL(t)}finally{hi(),s()}}}const fM={get(t,e){return Qt(t,"get",""),t[e]}};function pM(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,fM),slots:t.slots,emit:t.emit,expose:e}}function gf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ZC(q2(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gl)return Gl[n](t)},has(e,n){return n in e||n in Gl}})):t.proxy}function mM(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function gM(t){return ge(t)&&"__vccOpts"in t}const pt=(t,e)=>eL(t,e,ha);function _M(t,e,n){const r=arguments.length;return r===2?Ke(e)&&!he(e)?ua(e)?yt(t,null,[e]):yt(t,e):yt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ua(n)&&(n=[n]),yt(t,e,n))}const yM="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cg;const HE=typeof window<"u"&&window.trustedTypes;if(HE)try{cg=HE.createPolicy("vue",{createHTML:t=>t})}catch{}const j0=cg?t=>cg.createHTML(t):t=>t,wM="http://www.w3.org/2000/svg",vM="http://www.w3.org/1998/Math/MathML",es=typeof document<"u"?document:null,jE=es&&es.createElement("template"),EM={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?es.createElementNS(wM,t):e==="mathml"?es.createElementNS(vM,t):n?es.createElement(t,{is:n}):es.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>es.createTextNode(t),createComment:t=>es.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>es.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{jE.innerHTML=j0(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=jE.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ds="transition",bl="animation",yc=Symbol("_vtc"),W0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bM=It({},u0,W0),TM=t=>(t.displayName="Transition",t.props=bM,t),JJ=TM((t,{slots:e})=>_M(cL,SM(t),e)),Ti=(t,e=[])=>{he(t)?t.forEach(n=>n(...e)):t&&t(...e)},WE=t=>t?he(t)?t.some(e=>e.length>1):t.length>1:!1;function SM(t){const e={};for(const I in t)I in W0||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,_=AM(s),y=_&&_[0],T=_&&_[1],{onBeforeEnter:N,onEnter:O,onEnterCancelled:x,onLeave:D,onLeaveCancelled:M,onBeforeAppear:V=N,onAppear:C=O,onAppearCancelled:E=x}=e,w=(I,S,we,Me)=>{I._enterCancelled=Me,Si(I,S?h:a),Si(I,S?c:o),we&&we()},A=(I,S)=>{I._isLeaving=!1,Si(I,d),Si(I,g),Si(I,f),S&&S()},k=I=>(S,we)=>{const Me=I?C:O,Te=()=>w(S,I,we);Ti(Me,[S,Te]),qE(()=>{Si(S,I?l:i),Zr(S,I?h:a),WE(Me)||zE(S,r,y,Te)})};return It(e,{onBeforeEnter(I){Ti(N,[I]),Zr(I,i),Zr(I,o)},onBeforeAppear(I){Ti(V,[I]),Zr(I,l),Zr(I,c)},onEnter:k(!1),onAppear:k(!0),onLeave(I,S){I._isLeaving=!0;const we=()=>A(I,S);Zr(I,d),I._enterCancelled?(Zr(I,f),YE()):(YE(),Zr(I,f)),qE(()=>{I._isLeaving&&(Si(I,d),Zr(I,g),WE(D)||zE(I,r,T,we))}),Ti(D,[I,we])},onEnterCancelled(I){w(I,!1,void 0,!0),Ti(x,[I])},onAppearCancelled(I){w(I,!0,void 0,!0),Ti(E,[I])},onLeaveCancelled(I){A(I),Ti(M,[I])}})}function AM(t){if(t==null)return null;if(Ke(t))return[Kp(t.enter),Kp(t.leave)];{const e=Kp(t);return[e,e]}}function Kp(t){return OC(t)}function Zr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[yc]||(t[yc]=new Set)).add(e)}function Si(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[yc];n&&(n.delete(e),n.size||(t[yc]=void 0))}function qE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let CM=0;function zE(t,e,n,r){const s=t._endId=++CM,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=IM(t,e);if(!o)return r();const c=o+"end";let h=0;const d=()=>{t.removeEventListener(c,f),i()},f=g=>{g.target===t&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},a+1),t.addEventListener(c,f)}function IM(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),s=r(`${Ds}Delay`),i=r(`${Ds}Duration`),o=GE(s,i),a=r(`${bl}Delay`),l=r(`${bl}Duration`),c=GE(a,l);let h=null,d=0,f=0;e===Ds?o>0&&(h=Ds,d=o,f=i.length):e===bl?c>0&&(h=bl,d=c,f=l.length):(d=Math.max(o,c),h=d>0?o>c?Ds:bl:null,f=h?h===Ds?i.length:l.length:0);const g=h===Ds&&/\b(transform|all)(,|$)/.test(r(`${Ds}Property`).toString());return{type:h,timeout:d,propCount:f,hasTransform:g}}function GE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>KE(n)+KE(t[r])))}function KE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function YE(){return document.body.offsetHeight}function RM(t,e,n){const r=t[yc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ed=Symbol("_vod"),q0=Symbol("_vsh"),ZJ={beforeMount(t,{value:e},{transition:n}){t[ed]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Tl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Tl(t,!0),r.enter(t)):r.leave(t,()=>{Tl(t,!1)}):Tl(t,e))},beforeUnmount(t,{value:e}){Tl(t,e)}};function Tl(t,e){t.style.display=e?t[ed]:"none",t[q0]=!e}const z0=Symbol("");function eZ(t){const e=io();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>td(i,s))},r=()=>{const s=t(e.proxy);e.ce?td(e.ce,s):ug(e.subTree,s),n(s)};g0(()=>{Gh(r)}),$c(()=>{ls(r,gr,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),Bc(()=>s.disconnect())})}function ug(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ug(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)td(t.el,e);else if(t.type===An)t.children.forEach(n=>ug(n,e));else if(t.type===Kl){let{el:n,anchor:r}=t;for(;n&&(td(n,e),n!==r);)n=n.nextSibling}}function td(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[z0]=r}}const kM=/(^|;)\s*display\s*:/;function PM(t,e,n){const r=t.style,s=ot(n);let i=!1;if(n&&!s){if(e)if(ot(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&_h(r,a,"")}else for(const o in e)n[o]==null&&_h(r,o,"");for(const o in n)o==="display"&&(i=!0),_h(r,o,n[o])}else if(s){if(e!==n){const o=r[z0];o&&(n+=";"+o),r.cssText=n,i=kM.test(n)}}else e&&t.removeAttribute("style");ed in t&&(t[ed]=i?r.display:"",t[q0]&&(r.display="none"))}const XE=/\s*!important$/;function _h(t,e,n){if(he(n))n.forEach(r=>_h(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=NM(t,e);XE.test(n)?t.setProperty(Cs(r),n.replace(XE,""),"important"):t[r]=n}}const QE=["Webkit","Moz","ms"],Yp={};function NM(t,e){const n=Yp[e];if(n)return n;let r=Un(e);if(r!=="filter"&&r in t)return Yp[e]=r;r=sf(r);for(let s=0;s<QE.length;s++){const i=QE[s]+r;if(i in t)return Yp[e]=i}return e}const JE="http://www.w3.org/1999/xlink";function ZE(t,e,n,r,s,i=v2(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(JE,e.slice(6,e.length)):t.setAttributeNS(JE,e,n):n==null||i&&!DC(n)?t.removeAttribute(e):t.setAttribute(e,i?"":br(n)?String(n):n)}function eb(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?j0(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=DC(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Bs(t,e,n,r){t.addEventListener(e,n,r)}function xM(t,e,n,r){t.removeEventListener(e,n,r)}const tb=Symbol("_vei");function OM(t,e,n,r,s=null){const i=t[tb]||(t[tb]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=DM(e);if(r){const c=i[e]=VM(r,s);Bs(t,a,c,l)}else o&&(xM(t,a,o,l),i[e]=void 0)}}const nb=/(?:Once|Passive|Capture)$/;function DM(t){let e;if(nb.test(t)){e={};let r;for(;r=t.match(nb);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cs(t.slice(2)),e]}let Xp=0;const LM=Promise.resolve(),MM=()=>Xp||(LM.then(()=>Xp=0),Xp=Date.now());function VM(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Tr(FM(r,n.value),e,5,[r])};return n.value=t,n.attached=MM(),n}function FM(t,e){if(he(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const rb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$M=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?RM(t,r,o):e==="style"?PM(t,n,r):tf(e)?M_(e)||OM(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):BM(t,e,r,o))?(eb(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ZE(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ot(r))?eb(t,Un(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ZE(t,e,r,o))};function BM(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&rb(e)&&ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return rb(e)&&ot(n)?!1:e in t}const da=t=>{const e=t.props["onUpdate:modelValue"]||!1;return he(e)?n=>ph(e,n):e};function UM(t){t.target.composing=!0}function sb(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cs=Symbol("_assign"),tZ={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[cs]=da(s);const i=r||s.props&&s.props.type==="number";Bs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=jh(a)),t[cs](a)}),n&&Bs(t,"change",()=>{t.value=t.value.trim()}),e||(Bs(t,"compositionstart",UM),Bs(t,"compositionend",sb),Bs(t,"change",sb))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[cs]=da(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?jh(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},nZ={created(t,{value:e},n){t.checked=la(e,n.props.value),t[cs]=da(n),Bs(t,"change",()=>{t[cs](wc(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[cs]=da(r),e!==n&&(t.checked=la(e,r.props.value))}},rZ={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=nf(e);Bs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?jh(wc(o)):wc(o));t[cs](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,t0(()=>{t._assigning=!1})}),t[cs]=da(r)},mounted(t,{value:e}){ib(t,e)},beforeUpdate(t,e,n){t[cs]=da(n)},updated(t,{value:e}){t._assigning||ib(t,e)}};function ib(t,e){const n=t.multiple,r=he(e);if(!(n&&!r&&!nf(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=wc(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=b2(e,a)>-1}else o.selected=e.has(a);else if(la(wc(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function wc(t){return"_value"in t?t._value:t.value}const HM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},sZ=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Cs(s.key);if(e.some(o=>o===i||HM[o]===i))return t(s)})},jM=It({patchProp:$M},EM);let ob;function WM(){return ob||(ob=VL(jM))}const qM=(...t)=>{const e=WM().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=GM(r);if(!s)return;const i=e._component;!ge(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,zM(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function zM(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function GM(t){return ot(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Map,YM={activated:!1,tokenObservers:[]};function Sr(t){return KM.get(t)||Object.assign({},YM)}const ab={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,s,i){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=s,s>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new cc,this.pending.promise.catch(n=>{}),await QM(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new cc,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function QM(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},nd=new $a("appCheck","AppCheck",JM);function G0(t){if(!Sr(t).activated)throw nd.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="firebase-app-check-database",eV=1,hg="firebase-app-check-store";let Bu=null;function tV(){return Bu||(Bu=new Promise((t,e)=>{try{const n=indexedDB.open(ZM,eV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(nd.create("storage-open",{originalErrorMessage:(s=r.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=r=>{const s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(hg,{keyPath:"compositeKey"})}}}catch(n){e(nd.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Bu)}function nV(t,e){return rV(sV(t),e)}async function rV(t,e){const r=(await tV()).transaction(hg,"readwrite"),i=r.objectStore(hg).put({compositeKey:t,value:e});return new Promise((o,a)=>{i.onsuccess=l=>{o()},r.onerror=l=>{var c;a(nd.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})}function sV(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Oc("@firebase/app-check");function lb(t,e){return lC()?nV(t,e).catch(n=>{dg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={error:"UNKNOWN_ERROR"};function oV(t){return Qd.encodeString(JSON.stringify(t),!1)}async function fg(t,e=!1,n=!1){const r=t.app;G0(r);const s=Sr(r);let i=s.token,o;if(i&&!Ol(i)&&(s.token=void 0,i=void 0),!i){const c=await s.cachedTokenPromise;c&&(Ol(c)?i=c:await lb(r,void 0))}if(!e&&i&&Ol(i))return{token:i.token};let a=!1;try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),a=!0),i=await Sr(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?dg.warn(c.message):n&&dg.error(c),o=c}let l;return i?o?Ol(i)?l={token:i.token,internalError:o}:l=ub(o):(l={token:i.token},s.token=i,await lb(r,i)):l=ub(o),a&&uV(r,l),l}async function aV(t){const e=t.app;G0(e);const{provider:n}=Sr(e);{const{token:r}=await n.getToken();return{token:r}}}function lV(t,e,n,r){const{app:s}=t,i=Sr(s),o={next:n,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,o],i.token&&Ol(i.token)){const a=i.token;Promise.resolve().then(()=>{n({token:a.token}),cb(t)}).catch(()=>{})}i.cachedTokenPromise.then(()=>cb(t))}function K0(t,e){const n=Sr(t),r=n.tokenObservers.filter(s=>s.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function cb(t){const{app:e}=t,n=Sr(e);let r=n.tokenRefresher;r||(r=cV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function cV(t){const{app:e}=t;return new XM(async()=>{const n=Sr(e);let r;if(n.token?r=await fg(t,!0):r=await fg(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Sr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},ab.RETRIAL_MIN_WAIT,ab.RETRIAL_MAX_WAIT)}function uV(t,e){const n=Sr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ol(t){return t.expireTimeMillis-Date.now()>0}function ub(t){return{token:oV(iV),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Sr(this.app);for(const n of e)K0(this.app,n.next);return Promise.resolve()}}function dV(t,e){return new hV(t,e)}function fV(t){return{getToken:e=>fg(t,e),getLimitedUseToken:()=>aV(t),addTokenListener:e=>lV(t,"INTERNAL",e),removeTokenListener:e=>K0(t.app,e)}}const pV="@firebase/app-check",mV="0.10.0",gV="app-check",hb="app-check-internal";function _V(){Wr(new Er(gV,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return dV(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(hb).initialize()})),Wr(new Er(hb,t=>{const e=t.getProvider("app-check").getImmediate();return fV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Vn(pV,mV)}_V();var yV="firebase",wV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(yV,wV,"app");const Y0=Symbol("firebaseApp");function Hc(t){return io()&&Qo(Y0,null)||O_(t)}const Dn=()=>{};function J_(t,e){return e.split(".").reduce((n,r)=>n&&n[r],t)}function vV(t,e,n){const r=(""+e).split("."),s=r.pop(),i=r.reduce((o,a)=>o&&o[a],t);if(i!=null)return Array.isArray(i)?i.splice(Number(s),1,n):i[s]=n}function oo(t){return!!t&&typeof t=="object"}const EV=Object.prototype;function bV(t){return oo(t)&&Object.getPrototypeOf(t)===EV}function Z_(t){return oo(t)&&t.type==="document"}function TV(t){return oo(t)&&t.type==="collection"}function SV(t){return Z_(t)||TV(t)}function AV(t){return oo(t)&&t.type==="query"}function CV(t){return oo(t)&&"ref"in t}function IV(t){return oo(t)&&typeof t.bucket=="string"}function RV(t,e){let n;return()=>{if(!n)return n=!0,t(e())}}const kV=Symbol.for("v-scx");function PV(){return!!Qo(kV,0)}var db={};const fb="@firebase/database",pb="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0="";function NV(t){X0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ut(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return As(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xV(e)}}catch{}return new OV},Pi=Q0("localStorage"),DV=Q0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Oc("@firebase/database"),LV=function(){let t=1;return function(){return t++}}(),J0=function(t){const e=w1(t),n=new p1;n.update(e);const r=n.digest();return Qd.encodeByteArray(r)},jc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=jc.apply(null,r):typeof r=="object"?e+=Ut(r):e+=r,e+=" "}return e};let Xl=null,mb=!0;const MV=function(t,e){re(!0,"Can't turn on custom loggers persistently."),ea.logLevel=Pe.VERBOSE,Xl=ea.log.bind(ea)},Zt=function(...t){if(mb===!0&&(mb=!1,Xl===null&&DV.get("logging_enabled")===!0&&MV()),Xl){const e=jc.apply(null,t);Xl(e)}},Wc=function(t){return function(...e){Zt(t,...e)}},pg=function(...t){const e="FIREBASE INTERNAL ERROR: "+jc(...t);ea.error(e)},ji=function(...t){const e=`FIREBASE FATAL ERROR: ${jc(...t)}`;throw ea.error(e),new Error(e)},Fn=function(...t){const e="FIREBASE WARNING: "+jc(...t);ea.warn(e)},VV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Z0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},FV=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fa="[MIN_NAME]",Wi="[MAX_NAME]",Ha=function(t,e){if(t===e)return 0;if(t===fa||e===Wi)return-1;if(e===fa||t===Wi)return 1;{const n=gb(t),r=gb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},$V=function(t,e){return t===e?0:t<e?-1:1},Sl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ut(e))},ey=function(t){if(typeof t!="object"||t===null)return Ut(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ut(e[r]),n+=":",n+=ey(t[e[r]]);return n+="}",n},eI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function sr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tI=function(t){re(!Z0(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const h=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(h.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},BV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},HV=new RegExp("^-?(0*)\\d{1,10}$"),jV=-2147483648,WV=2147483647,gb=function(t){if(HV.test(t)){const e=Number(t);if(e>=jV&&e<=WV)return e}return null},qc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fn("Exception was thrown by user callback.",n),e},Math.floor(0))}},qV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ql=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,rs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Fn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fn(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="5",nI="v",rI="s",sI="r",iI="f",oI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aI="ls",lI="p",mg="ac",cI="websocket",uI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function YV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hI(t,e,n){re(typeof e=="string","typeof type must == string"),re(typeof n=="object","typeof params must == object");let r;if(e===cI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===uI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YV(t)&&(n.ns=t.namespace);const s=[];return sr(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.counters_={}}incrementCounter(e,n=1){As(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return GO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={},Jp={};function ny(t){const e=t.toString();return Qp[e]||(Qp[e]=new XV),Qp[e]}function QV(t,e){const n=t.toString();return Jp[n]||(Jp[n]=e()),Jp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&qc(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="start",ZV="close",eF="pLPCommand",tF="pRTLPCB",dI="id",fI="pw",pI="ser",nF="cb",rF="seg",sF="ts",iF="d",oF="dframe",mI=1870,gI=30,aF=mI-gI,lF=25e3,cF=3e4;class Bo{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wc(e),this.stats_=ny(n),this.urlFn=l=>(this.appCheckToken&&(l[mg]=this.appCheckToken),hI(n,uI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cF)),FV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ry((...i)=>{const[o,a,l,c,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_b)this.id=a,this.password=l;else if(o===ZV)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_b]="t",r[pI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[nI]=ty,this.transportSessionId&&(r[rI]=this.transportSessionId),this.lastSessionId&&(r[aI]=this.lastSessionId),this.applicationId&&(r[lI]=this.applicationId),this.appCheckToken&&(r[mg]=this.appCheckToken),typeof location<"u"&&location.hostname&&oI.test(location.hostname)&&(r[sI]=iI);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return Bo.forceAllow_?!0:!Bo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BV()&&!UV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eC(n),s=eI(r,aF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[oF]="t",r[dI]=e,r[fI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ry{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LV(),window[eF+this.uniqueCallbackIdentifier]=e,window[tF+this.uniqueCallbackIdentifier]=n,this.myIFrame=ry.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Zt("frame writing exception"),a.stack&&Zt(a.stack),Zt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dI]=this.myID,e[fI]=this.myPW,e[pI]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gI+r.length<=mI;){const o=this.pendingSegs.shift();r=r+"&"+rF+s+"="+o.seg+"&"+sF+s+"="+o.ts+"&"+iF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(lF)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=16384,hF=45e3;let rd=null;typeof MozWebSocket<"u"?rd=MozWebSocket:typeof WebSocket<"u"&&(rd=WebSocket);class fr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wc(this.connId),this.stats_=ny(n),this.connURL=fr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[nI]=ty,typeof location<"u"&&location.hostname&&oI.test(location.hostname)&&(o[sI]=iI),n&&(o[rI]=n),r&&(o[aI]=r),s&&(o[mg]=s),i&&(o[lI]=i),hI(e,cI,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pi.set("previous_websocket_failure",!0);try{let r;o1(),this.mySock=new rd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){fr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rd!==null&&!fr.forceDisallow_}static previouslyFailed(){return Pi.isInMemoryStorage||Pi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=uc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(re(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eI(n,uF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fr.responsesRequiredToBeHealthy=2;fr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{static get ALL_TRANSPORTS(){return[Bo,fr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=fr&&fr.isAvailable();let r=n&&!fr.previouslyFailed();if(e.webSocketOnly&&(n||Fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fr];else{const s=this.transports_=[];for(const i of vc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);vc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=6e4,fF=5e3,pF=10*1024,mF=100*1024,Zp="t",yb="d",gF="s",wb="r",_F="e",vb="o",Eb="a",bb="n",Tb="p",yF="h";class wF{constructor(e,n,r,s,i,o,a,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wc("c:"+this.id+":"),this.transportManager_=new vc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Zp in e){const n=e[Zp];n===Eb?this.upgradeIfSecondaryHealthy_():n===wb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===vb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sl("t",e),r=Sl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Tb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Eb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sl("t",e),r=Sl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sl(Zp,e);if(yb in e){const r=e[yb];if(n===yF){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===bb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gF?this.onConnectionShutdown_(r):n===wb?this.onReset_(r):n===_F?pg("Server Error: "+r):n===vb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ty!==r&&Fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Tb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yI=class{constructor(e){this.allowedEvents_=e,this.listeners_={},re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){re(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends yI{static getInstance(){return new sd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!P_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return re(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=32,Ab=768;class rt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ge(){return new rt("")}function De(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Js(t){return t.pieces_.length-t.pieceNum_}function nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new rt(t.pieces_,e)}function wI(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vI(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function EI(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new rt(e,0)}function xt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof rt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new rt(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Zn(t,e){const n=De(t),r=De(e);if(n===null)return e;if(n===r)return Zn(nt(t),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function bI(t,e){if(Js(t)!==Js(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Js(t)>Js(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class EF{constructor(e,n){this.errorPrefix_=n,this.parts_=vI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zd(this.parts_[r]);TI(this)}}function bF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zd(e),TI(t)}function TF(t){const e=t.parts_.pop();t.byteLength_-=Zd(e),t.parts_.length>0&&(t.byteLength_-=1)}function TI(t){if(t.byteLength_>Ab)throw new Error(t.errorPrefix_+"has a key path longer than "+Ab+" bytes ("+t.byteLength_+").");if(t.parts_.length>Sb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Sb+") or object contains a cycle "+Ri(t))}function Ri(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends yI{static getInstance(){return new sy}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return re(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=1e3,SF=60*5*1e3,Cb=30*1e3,AF=1.3,CF=3e4,IF="server_kill",Ib=3;class us extends _I{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=us.nextPersistentConnectionId_++,this.log_=Wc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Al,this.maxReconnectDelay_=SF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Ut(i)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new cc,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;us.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&As(e,"w")){const r=aa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||f1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=d1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),re(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ut(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pg("Unrecognized action received from server: "+Ut(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Al,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Al,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CF&&(this.reconnectDelay_=Al),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+us.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){re(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Zt("getToken() completed but was canceled"):(Zt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new wF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Fn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(IF)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Fn(d),l())}}}interrupt(e){Zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tE(this.interruptReasons_)&&(this.reconnectDelay_=Al,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>ey(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new rt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Zt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ib&&(this.reconnectDelay_=Cb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Zt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ib&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+X0.replace(/\./g,"-")]=1,P_()?e["framework.cordova"]=1:aC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sd.getInstance().currentlyOnline();return tE(this.interruptReasons_)&&e}}us.nextPersistentConnectionId_=0;us.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Le(fa,e),s=new Le(fa,n);return this.compare(r,s)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu;class SI extends _f{static get __EMPTY_NODE(){return Uu}static set __EMPTY_NODE(e){Uu=e}compare(e,n){return Ha(e.name,n.name)}isDefinedOn(e){throw Va("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(Wi,Uu)}makePost(e,n){return re(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,Uu)}toString(){return".key"}}const ta=new SI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=class{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},xn=class Dl{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Dl.RED,this.left=s??Mr.EMPTY_NODE,this.right=i??Mr.EMPTY_NODE}copy(e,n,r,s,i){return new Dl(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Mr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Dl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Dl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};xn.RED=!0;xn.BLACK=!1;class RF{copy(e,n,r,s,i){return this}insert(e,n,r){return new xn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Mr=class yh{constructor(e,n=yh.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yh(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xn.BLACK,null,null))}remove(e){return new yh(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hu(this.root_,null,this.comparator_,!0,e)}};Mr.EMPTY_NODE=new RF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e){return Ha(t.name,e.name)}function iy(t,e){return Ha(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg;function PF(t){gg=t}const AI=function(t){return typeof t=="number"?"number:"+tI(t):"string:"+t},CI=function(t){if(t.isLeafNode()){const e=t.val();re(typeof e=="string"||typeof e=="number"||typeof e=="object"&&As(e,".sv"),"Priority must be a string or number.")}else re(t===gg||t.isEmpty(),"priority of unexpected type.");re(t===gg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb;class kt{static set __childrenNodeConstructor(e){Rb=e}static get __childrenNodeConstructor(){return Rb}constructor(e,n=kt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,re(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CI(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new kt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:kt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:De(e)===".priority"?this.priorityNode_:kt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:kt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=De(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(re(r!==".priority"||Js(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,kt.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+AI(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tI(this.value_):e+=this.value_,this.lazyHash_=J0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===kt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof kt.__childrenNodeConstructor?-1:(re(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=kt.VALUE_TYPE_ORDER.indexOf(n),i=kt.VALUE_TYPE_ORDER.indexOf(r);return re(s>=0,"Unknown leaf type: "+n),re(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}kt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let II,RI;function NF(t){II=t}function xF(t){RI=t}class OF extends _f{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ha(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(Wi,new kt("[PRIORITY-POST]",RI))}makePost(e,n){const r=II(e);return new Le(n,new kt("[PRIORITY-POST]",r))}toString(){return".priority"}}const rn=new OF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=Math.log(2);class LF{constructor(e){const n=i=>parseInt(Math.log(i)/DF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const id=function(t,e,n,r){t.sort(e);const s=function(l,c){const h=c-l;let d,f;if(h===0)return null;if(h===1)return d=t[l],f=n?n(d):d,new xn(f,d.node,xn.BLACK,null,null);{const g=parseInt(h/2,10)+l,_=s(l,g),y=s(g+1,c);return d=t[g],f=n?n(d):d,new xn(f,d.node,xn.BLACK,_,y)}},i=function(l){let c=null,h=null,d=t.length;const f=function(_,y){const T=d-_,N=d;d-=_;const O=s(T+1,N),x=t[T],D=n?n(x):x;g(new xn(D,x.node,y,null,O))},g=function(_){c?(c.left=_,c=_):(h=_,c=_)};for(let _=0;_<l.count;++_){const y=l.nextBitIsOne(),T=Math.pow(2,l.count-(_+1));y?f(T,xn.BLACK):(f(T,xn.BLACK),f(T,xn.RED))}return h},o=new LF(t.length),a=i(o);return new Mr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em;const Io={};class as{static get Default(){return re(Io&&rn,"ChildrenNode.ts has not been loaded"),em=em||new as({".priority":Io},{".priority":rn}),em}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=aa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mr?n:null}hasIndex(e){return As(this.indexSet_,e.toString())}addIndex(e,n){re(e!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Le.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=id(r,e.getCompare()):a=Io;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const h=Object.assign({},this.indexes_);return h[l]=a,new as(h,c)}addToIndexes(e,n){const r=Mh(this.indexes_,(s,i)=>{const o=aa(this.indexSet_,i);if(re(o,"Missing index implementation for "+i),s===Io)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Le.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),id(a,o.getCompare())}else return Io;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Le(e.name,a))),l.insert(e,e.node)}});return new as(r,this.indexSet_)}removeFromIndexes(e,n){const r=Mh(this.indexes_,s=>{if(s===Io)return s;{const i=n.get(e.name);return i?s.remove(new Le(e.name,i)):s}});return new as(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl;class qe{static get EMPTY_NODE(){return Cl||(Cl=new qe(new Mr(iy),null,as.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CI(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cl}updatePriority(e){return this.children_.isEmpty()?this:new qe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Cl:n}}getChild(e){const n=De(e);return n===null?this:this.getImmediateChild(n).getChild(nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(re(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Le(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Cl:this.priorityNode_;return new qe(s,o,i)}}updateChild(e,n){const r=De(e);if(r===null)return n;{re(De(e)!==".priority"||Js(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(nt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(rn,(o,a)=>{n[o]=a.val(e),r++,i&&qe.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+AI(this.getPriority().val())+":"),this.forEachChild(rn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":J0(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Le(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Le.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zc?-1:0}withIndex(e){if(e===ta||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new qe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ta||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(rn),s=n.getIterator(rn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ta?null:this.indexMap_.get(e.toString())}}qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MF extends qe{constructor(){super(new Mr(iy),qe.EMPTY_NODE,as.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}}const zc=new MF;Object.defineProperties(Le,{MIN:{value:new Le(fa,qe.EMPTY_NODE)},MAX:{value:new Le(Wi,zc)}});SI.__EMPTY_NODE=qe.EMPTY_NODE;kt.__childrenNodeConstructor=qe;PF(zc);xF(zc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=!0;function en(t,e=null){if(t===null)return qe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),re(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new kt(n,en(e))}if(!(t instanceof Array)&&VF){const n=[];let r=!1;if(sr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=en(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Le(o,l)))}}),n.length===0)return qe.EMPTY_NODE;const i=id(n,kF,o=>o.name,iy);if(r){const o=id(n,rn.getCompare());return new qe(i,en(e),new as({".priority":o},{".priority":rn}))}else return new qe(i,en(e),as.Default)}else{let n=qe.EMPTY_NODE;return sr(t,(r,s)=>{if(As(t,r)&&r.substring(0,1)!=="."){const i=en(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(en(e))}}NF(en);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF extends _f{constructor(e){super(),this.indexPath_=e,re(!xe(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ha(e.name,n.name):i}makePost(e,n){const r=en(e),s=qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Le(n,s)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,zc);return new Le(Wi,e)}toString(){return vI(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F extends _f{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ha(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){const r=en(e);return new Le(n,r)}toString(){return".value"}}const BF=new $F;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){return{type:"value",snapshotNode:t}}function HF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function kb(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function WF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new oy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Pb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===rn?n="$priority":t.index_===BF?n="$value":t.index_===ta?n="$key":(re(t.index_ instanceof FF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ut(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ut(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ut(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ut(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Nb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==rn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends _I{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Wc("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=od.getListenId_(e,r),a={};this.listens_[o]=a;const l=Pb(e._queryParams);this.restRequest_(i+".json",l,(c,h)=>{let d=h;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),aa(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=od.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Pb(e._queryParams),r=e._path.toString(),s=new cc;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+N_(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=uc(a.responseText)}catch{Fn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Fn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(){return{value:null,children:new Map}}function kI(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=De(e);t.children.has(r)||t.children.set(r,ad());const s=t.children.get(r);e=nt(e),kI(s,e,n)}}function _g(t,e,n){t.value!==null?n(e,t.value):zF(t,(r,s)=>{const i=new rt(e.toString()+"/"+r);_g(s,i,n)})}function zF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&sr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=10*1e3,KF=30*1e3,YF=5*60*1e3;class XF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GF(e);const r=xb+(KF-xb)*Math.random();Ql(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;sr(e,(s,i)=>{i>0&&As(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*YF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vr||(Vr={}));function PI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function NI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vr.ACK_USER_WRITE,this.source=PI()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new rt(e));return new ld(Ge(),n,this.revert)}}else return re(De(this.path)===e,"operationForChild called for unrelated child."),new ld(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vr.OVERWRITE}operationForChild(e){return xe(this.path)?new qi(this.source,Ge(),this.snap.getImmediateChild(e)):new qi(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vr.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new rt(e));return n.isEmpty()?null:n.value?new qi(this.source,Ge(),n.value):new Ec(this.source,Ge(),n)}else return re(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ec(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=De(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function QF(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(WF(o.childName,o.snapshotNode))}),Il(t,s,"child_removed",e,r,n),Il(t,s,"child_added",e,r,n),Il(t,s,"child_moved",i,r,n),Il(t,s,"child_changed",e,r,n),Il(t,s,"value",e,r,n),s}function Il(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>ZF(t,a,l)),o.forEach(a=>{const l=JF(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function JF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZF(t,e,n){if(e.childName==null||n.childName==null)throw Va("Should only compare child_ events.");const r=new Le(e.childName,e.snapshotNode),s=new Le(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){return{eventCache:t,serverCache:e}}function Jl(t,e,n,r){return OI(new ay(e,n,r),t.serverCache)}function DI(t,e,n,r){return OI(t.eventCache,new ay(e,n,r))}function yg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm;const e$=()=>(tm||(tm=new Mr($V)),tm);class tt{static fromObject(e){let n=new tt(null);return sr(e,(r,s)=>{n=n.set(new rt(r),s)}),n}constructor(e,n=e$()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ge(),value:this.value};if(xe(e))return null;{const r=De(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(nt(e),n);return i!=null?{path:xt(new rt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=De(e),r=this.children.get(n);return r!==null?r.subtree(nt(e)):new tt(null)}}set(e,n){if(xe(e))return new tt(n,this.children);{const r=De(e),i=(this.children.get(r)||new tt(null)).set(nt(e),n),o=this.children.insert(r,i);return new tt(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new tt(null):new tt(null,this.children);{const n=De(e),r=this.children.get(n);if(r){const s=r.remove(nt(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new tt(null):new tt(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=De(e),r=this.children.get(n);return r?r.get(nt(e)):null}}setTree(e,n){if(xe(e))return n;{const r=De(e),i=(this.children.get(r)||new tt(null)).setTree(nt(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new tt(this.value,o)}}fold(e){return this.fold_(Ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ge(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=De(e),o=this.children.get(i);return o?o.findOnPath_(nt(e),xt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ge(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=De(e),i=this.children.get(s);return i?i.foreachOnPath_(nt(e),xt(n,s),r):new tt(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.writeTree_=e}static empty(){return new yr(new tt(null))}}function Zl(t,e,n){if(xe(e))return new yr(new tt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Zn(s,e);return i=i.updateChild(o,n),new yr(t.writeTree_.set(s,i))}else{const s=new tt(n),i=t.writeTree_.setTree(e,s);return new yr(i)}}}function Ob(t,e,n){let r=t;return sr(n,(s,i)=>{r=Zl(r,xt(e,s),i)}),r}function Db(t,e){if(xe(e))return yr.empty();{const n=t.writeTree_.setTree(e,new tt(null));return new yr(n)}}function wg(t,e){return ao(t,e)!=null}function ao(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Zn(n.path,e)):null}function Lb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(rn,(r,s)=>{e.push(new Le(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Le(r,s.value))}),e}function Ks(t,e){if(xe(e))return t;{const n=ao(t,e);return n!=null?new yr(new tt(n)):new yr(t.writeTree_.subtree(e))}}function vg(t){return t.writeTree_.isEmpty()}function pa(t,e){return LI(Ge(),t.writeTree_,e)}function LI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(re(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=LI(xt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e){return UI(e,t)}function t$(t,e,n,r,s){re(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Zl(t.visibleWrites,e,n)),t.lastWriteId=r}function n$(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function r$(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);re(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&s$(a,r.path)?s=!1:pr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return i$(t),!0;if(r.snap)t.visibleWrites=Db(t.visibleWrites,r.path);else{const a=r.children;sr(a,l=>{t.visibleWrites=Db(t.visibleWrites,xt(r.path,l))})}return!0}else return!1}function s$(t,e){if(t.snap)return pr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pr(xt(t.path,n),e))return!0;return!1}function i$(t){t.visibleWrites=VI(t.allWrites,o$,Ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function o$(t){return t.visible}function VI(t,e,n){let r=yr.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)pr(n,o)?(a=Zn(n,o),r=Zl(r,a,i.snap)):pr(o,n)&&(a=Zn(o,n),r=Zl(r,Ge(),i.snap.getChild(a)));else if(i.children){if(pr(n,o))a=Zn(n,o),r=Ob(r,a,i.children);else if(pr(o,n))if(a=Zn(o,n),xe(a))r=Ob(r,Ge(),i.children);else{const l=aa(i.children,De(a));if(l){const c=l.getChild(nt(a));r=Zl(r,Ge(),c)}}}else throw Va("WriteRecord should have .snap or .children")}}return r}function FI(t,e,n,r,s){if(!r&&!s){const i=ao(t.visibleWrites,e);if(i!=null)return i;{const o=Ks(t.visibleWrites,e);if(vg(o))return n;if(n==null&&!wg(o,Ge()))return null;{const a=n||qe.EMPTY_NODE;return pa(o,a)}}}else{const i=Ks(t.visibleWrites,e);if(!s&&vg(i))return n;if(!s&&n==null&&!wg(i,Ge()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(pr(c.path,e)||pr(e,c.path))},a=VI(t.allWrites,o,e),l=n||qe.EMPTY_NODE;return pa(a,l)}}}function a$(t,e,n){let r=qe.EMPTY_NODE;const s=ao(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(rn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Ks(t.visibleWrites,e);return n.forEachChild(rn,(o,a)=>{const l=pa(Ks(i,new rt(o)),a);r=r.updateImmediateChild(o,l)}),Lb(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Ks(t.visibleWrites,e);return Lb(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function l$(t,e,n,r,s){re(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xt(e,n);if(wg(t.visibleWrites,i))return null;{const o=Ks(t.visibleWrites,i);return vg(o)?s.getChild(n):pa(o,s.getChild(n))}}function c$(t,e,n,r){const s=xt(e,n),i=ao(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Ks(t.visibleWrites,s);return pa(o,r.getNode().getImmediateChild(n))}else return null}function u$(t,e){return ao(t.visibleWrites,e)}function h$(t,e,n,r,s,i,o){let a;const l=Ks(t.visibleWrites,e),c=ao(l,Ge());if(c!=null)a=c;else if(n!=null)a=pa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&h.length<s;)d(g,r)!==0&&h.push(g),g=f.getNext();return h}else return[]}function d$(){return{visibleWrites:yr.empty(),allWrites:[],lastWriteId:-1}}function Eg(t,e,n,r){return FI(t.writeTree,t.treePath,e,n,r)}function $I(t,e){return a$(t.writeTree,t.treePath,e)}function Mb(t,e,n,r){return l$(t.writeTree,t.treePath,e,n,r)}function cd(t,e){return u$(t.writeTree,xt(t.treePath,e))}function f$(t,e,n,r,s,i){return h$(t.writeTree,t.treePath,e,n,r,s,i)}function ly(t,e,n){return c$(t.writeTree,t.treePath,e,n)}function BI(t,e){return UI(xt(t.treePath,e),t.writeTree)}function UI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;re(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),re(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,kb(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,jF(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,HF(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,kb(r,e.snapshotNode,s.oldSnap));else throw Va("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const HI=new m$;class cy{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ay(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ly(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zi(this.viewCache_),i=f$(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function g$(t,e){re(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),re(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _$(t,e,n,r,s){const i=new p$;let o,a;if(n.type===Vr.OVERWRITE){const c=n;c.source.fromUser?o=bg(t,e,c.path,c.snap,r,s,i):(re(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=ud(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===Vr.MERGE){const c=n;c.source.fromUser?o=w$(t,e,c.path,c.children,r,s,i):(re(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Tg(t,e,c.path,c.children,r,s,a,i))}else if(n.type===Vr.ACK_USER_WRITE){const c=n;c.revert?o=b$(t,e,c.path,r,s,i):o=v$(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Vr.LISTEN_COMPLETE)o=E$(t,e,n.path,r,i);else throw Va("Unknown operation type: "+n.type);const l=i.getChanges();return y$(e,o,l),{viewCache:o,changes:l}}function y$(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=yg(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(UF(yg(e)))}}function jI(t,e,n,r,s,i){const o=e.eventCache;if(cd(r,n)!=null)return e;{let a,l;if(xe(n))if(re(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=zi(e),h=c instanceof qe?c:qe.EMPTY_NODE,d=$I(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Eg(r,zi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=De(n);if(c===".priority"){re(Js(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const d=Mb(r,n,h,l);d!=null?a=t.filter.updatePriority(h,d):a=o.getNode()}else{const h=nt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Mb(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(h,f):d=o.getNode().getImmediateChild(c)}else d=ly(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,h,s,i):a=o.getNode()}}return Jl(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function ud(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=h.updateFullNode(l.getNode(),g,null)}else{const g=De(n);if(!l.isCompleteForPath(n)&&Js(n)>1)return e;const _=nt(n),T=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?c=h.updatePriority(l.getNode(),T):c=h.updateChild(l.getNode(),g,T,_,HI,null)}const d=DI(e,c,l.isFullyInitialized()||xe(n),h.filtersNodes()),f=new cy(s,d,i);return jI(t,d,n,s,f,a)}function bg(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const h=new cy(s,e,i);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Jl(e,c,!0,t.filter.filtersNodes());else{const d=De(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Jl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=nt(n),g=a.getNode().getImmediateChild(d);let _;if(xe(f))_=r;else{const y=h.getCompleteChild(d);y!=null?wI(f)===".priority"&&y.getChild(EI(f)).isEmpty()?_=y:_=y.updateChild(f,r):_=qe.EMPTY_NODE}if(g.equals(_))l=e;else{const y=t.filter.updateChild(a.getNode(),d,_,f,h,o);l=Jl(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Vb(t,e){return t.eventCache.isCompleteForChild(e)}function w$(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const h=xt(n,l);Vb(e,De(h))&&(a=bg(t,a,h,c,s,i,o))}),r.foreach((l,c)=>{const h=xt(n,l);Vb(e,De(h))||(a=bg(t,a,h,c,s,i,o))}),a}function Fb(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Tg(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new tt(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),_=Fb(t,g,f);l=ud(t,l,new rt(d),_,s,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const g=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!g){const _=e.serverCache.getNode().getImmediateChild(d),y=Fb(t,_,f);l=ud(t,l,new rt(d),y,s,i,o,a)}}),l}function v$(t,e,n,r,s,i,o){if(cd(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ud(t,e,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let c=new tt(null);return l.getNode().forEachChild(ta,(h,d)=>{c=c.set(new rt(h),d)}),Tg(t,e,n,c,s,i,a,o)}else return e}else{let c=new tt(null);return r.foreach((h,d)=>{const f=xt(n,h);l.isCompleteForPath(f)&&(c=c.set(h,l.getNode().getChild(f)))}),Tg(t,e,n,c,s,i,a,o)}}function E$(t,e,n,r,s){const i=e.serverCache,o=DI(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return jI(t,o,n,r,HI,s)}function b$(t,e,n,r,s,i){let o;if(cd(r,n)!=null)return e;{const a=new cy(r,e,s),l=e.eventCache.getNode();let c;if(xe(n)||De(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Eg(r,zi(e));else{const d=e.serverCache.getNode();re(d instanceof qe,"serverChildren would be complete if leaf node"),h=$I(r,d)}h=h,c=t.filter.updateFullNode(l,h,i)}else{const h=De(n);let d=ly(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),d!=null?c=t.filter.updateChild(l,h,d,nt(n),a,i):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,qe.EMPTY_NODE,nt(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Eg(r,zi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||cd(r,Ge())!=null,Jl(e,c,o,t.filter.filtersNodes())}}function T$(t,e){const n=zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(De(e)).isEmpty())?n.getChild(e):null}function $b(t,e,n,r){e.type===Vr.MERGE&&e.source.queryId!==null&&(re(zi(t.viewCache_),"We should always have a full cache before handling merges"),re(yg(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=_$(t.processor_,s,e,n,r);return g$(t.processor_,i.viewCache),re(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,S$(t,i.changes,i.viewCache.eventCache.getNode())}function S$(t,e,n,r){const s=t.eventRegistrations_;return QF(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb;function A$(t){re(!Bb,"__referenceConstructor has already been defined"),Bb=t}function uy(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return re(i!=null,"SyncTree gave us an op for an invalid query."),$b(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat($b(o,e,n,r));return i}}function hy(t,e){let n=null;for(const r of t.views.values())n=n||T$(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub;function C$(t){re(!Ub,"__referenceConstructor has already been defined"),Ub=t}class Hb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=d$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I$(t,e,n,r,s){return t$(t.pendingWriteTree_,e,n,r,s),s?wf(t,new qi(PI(),e,n)):[]}function Uo(t,e,n=!1){const r=n$(t.pendingWriteTree_,e);if(r$(t.pendingWriteTree_,e)){let i=new tt(null);return r.snap!=null?i=i.set(Ge(),!0):sr(r.children,o=>{i=i.set(new rt(o),!0)}),wf(t,new ld(r.path,i,n))}else return[]}function yf(t,e,n){return wf(t,new qi(NI(),e,n))}function R$(t,e,n){const r=tt.fromObject(n);return wf(t,new Ec(NI(),e,r))}function k$(t,e,n,r){const s=GI(t,r);if(s!=null){const i=KI(s),o=i.path,a=i.queryId,l=Zn(o,e),c=new qi(xI(a),l,n);return YI(t,o,c)}else return[]}function P$(t,e,n,r){const s=GI(t,r);if(s){const i=KI(s),o=i.path,a=i.queryId,l=Zn(o,e),c=tt.fromObject(n),h=new Ec(xI(a),l,c);return YI(t,o,h)}else return[]}function WI(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Zn(o,e),c=hy(a,l);if(c)return c});return FI(s,e,i,n,!0)}function wf(t,e){return qI(e,t.syncPointTree_,null,MI(t.pendingWriteTree_,Ge()))}function qI(t,e,n,r){if(xe(t.path))return zI(t,e,n,r);{const s=e.get(Ge());n==null&&s!=null&&(n=hy(s,Ge()));let i=[];const o=De(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,h=BI(r,o);i=i.concat(qI(a,l,c,h))}return s&&(i=i.concat(uy(s,t,r,n))),i}}function zI(t,e,n,r){const s=e.get(Ge());n==null&&s!=null&&(n=hy(s,Ge()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=BI(r,o),h=t.operationForChild(o);h&&(i=i.concat(zI(h,a,l,c)))}),s&&(i=i.concat(uy(s,t,r,n))),i}function GI(t,e){return t.tagToQueryMap.get(e)}function KI(t){const e=t.indexOf("$");return re(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new rt(t.substr(0,e))}}function YI(t,e,n){const r=t.syncPointTree_.get(e);re(r,"Missing sync point for query tag that we're tracking");const s=MI(t.pendingWriteTree_,e);return uy(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new dy(n)}node(){return this.node_}}class fy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xt(this.path_,e);return new fy(this.syncTree_,n)}node(){return WI(this.syncTree_,this.path_)}}const N$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},jb=function(t,e,n){if(!t||typeof t!="object")return t;if(re(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return x$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return O$(t[".sv"],e);re(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},x$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:re(!1,"Unexpected server value: "+t)}},O$=function(t,e,n){t.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&re(!1,"Unexpected increment value: "+r);const s=e.node();if(re(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},D$=function(t,e,n,r){return py(e,new fy(n,t),r)},L$=function(t,e,n){return py(t,new dy(e),n)};function py(t,e,n){const r=t.getPriority().val(),s=jb(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=jb(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new kt(a,en(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new kt(s))),o.forEachChild(rn,(a,l)=>{const c=py(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function gy(t,e){let n=e instanceof rt?e:new rt(e),r=t,s=De(n);for(;s!==null;){const i=aa(r.node.children,s)||{children:{},childCount:0};r=new my(s,r,i),n=nt(n),s=De(n)}return r}function ja(t){return t.node.value}function XI(t,e){t.node.value=e,Sg(t)}function QI(t){return t.node.childCount>0}function M$(t){return ja(t)===void 0&&!QI(t)}function vf(t,e){sr(t.node.children,(n,r)=>{e(new my(n,t,r))})}function JI(t,e,n,r){n&&e(t),vf(t,s=>{JI(s,e,!0)})}function V$(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gc(t){return new rt(t.parent===null?t.name:Gc(t.parent)+"/"+t.name)}function Sg(t){t.parent!==null&&F$(t.parent,t.name,t)}function F$(t,e,n){const r=M$(n),s=As(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Sg(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Sg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=/[\[\].#$\/\u0000-\u001F\u007F]/,B$=/[\[\].#$\u0000-\u001F\u007F]/,nm=10*1024*1024,ZI=function(t){return typeof t=="string"&&t.length!==0&&!$$.test(t)},U$=function(t){return typeof t=="string"&&t.length!==0&&!B$.test(t)},H$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),U$(t)},eR=function(t,e,n){const r=n instanceof rt?new EF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ri(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ri(r)+" with contents = "+e.toString());if(Z0(e))throw new Error(t+"contains "+e.toString()+" "+Ri(r));if(typeof e=="string"&&e.length>nm/3&&Zd(e)>nm)throw new Error(t+"contains a string greater than "+nm+" utf8 bytes "+Ri(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(sr(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!ZI(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ri(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bF(r,o),eR(t,a,r),TF(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ri(r)+" in addition to actual children.")}},j$=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ZI(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!H$(n))throw new Error(y1(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function q$(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!bI(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function lo(t,e,n){q$(t,n),z$(t,r=>pr(r,e)||pr(e,r))}function z$(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(G$(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function G$(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Xl&&Zt("event: "+n.toString()),qc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="repo_interrupt",Y$=25;class X${constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new W$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ad(),this.transactionQueueTree_=new my,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Q$(t,e,n){if(t.stats_=ny(t.repoInfo_),t.forceRestClient_||qV())t.server_=new od(t.repoInfo_,(r,s,i,o)=>{Wb(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new us(t.repoInfo_,e,(r,s,i,o)=>{Wb(t,r,s,i,o)},r=>{qb(t,r)},r=>{Z$(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=QV(t.repoInfo_,()=>new XF(t.stats_,t.server_)),t.infoData_=new qF,t.infoSyncTree_=new Hb({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=yf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),_y(t,"connected",!1),t.serverSyncTree_=new Hb({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);lo(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function J$(t){const n=t.infoData_.getNode(new rt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function tR(t){return N$({timestamp:J$(t)})}function Wb(t,e,n,r,s){t.dataUpdateCount++;const i=new rt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Mh(n,c=>en(c));o=P$(t.serverSyncTree_,i,l,s)}else{const l=en(n);o=k$(t.serverSyncTree_,i,l,s)}else if(r){const l=Mh(n,c=>en(c));o=R$(t.serverSyncTree_,i,l)}else{const l=en(n);o=yf(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=wy(t,i)),lo(t.eventQueue_,a,o)}function qb(t,e){_y(t,"connected",e),e===!1&&tB(t)}function Z$(t,e){sr(e,(n,r)=>{_y(t,n,r)})}function _y(t,e,n){const r=new rt("/.info/"+e),s=en(n);t.infoData_.updateSnapshot(r,s);const i=yf(t.infoSyncTree_,r,s);lo(t.eventQueue_,r,i)}function eB(t){return t.nextWriteId_++}function tB(t){nR(t,"onDisconnectEvents");const e=tR(t),n=ad();_g(t.onDisconnect_,Ge(),(s,i)=>{const o=D$(s,i,t.serverSyncTree_,e);kI(n,s,o)});let r=[];_g(n,Ge(),(s,i)=>{r=r.concat(yf(t.serverSyncTree_,s,i));const o=iB(t,s);wy(t,o)}),t.onDisconnect_=ad(),lo(t.eventQueue_,Ge(),r)}function nB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K$)}function nR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Zt(n,...e)}function rR(t,e,n){return WI(t.serverSyncTree_,e,n)||qe.EMPTY_NODE}function yy(t,e=t.transactionQueueTree_){if(e||Ef(t,e),ja(e)){const n=iR(t,e);re(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&rB(t,Gc(e),n)}else QI(e)&&vf(e,n=>{yy(t,n)})}function rB(t,e,n){const r=n.map(c=>c.currentWriteId),s=rR(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const h=n[c];re(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Zn(e,h.path);i=i.updateChild(d,h.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{nR(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Uo(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ef(t,gy(t.transactionQueueTree_,e)),yy(t,t.transactionQueueTree_),lo(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)qc(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Fn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}wy(t,e)}},o)}function wy(t,e){const n=sR(t,e),r=Gc(n),s=iR(t,n);return sB(t,s,r),r}function sB(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Zn(n,l.path);let h=!1,d;if(re(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,d=l.abortReason,s=s.concat(Uo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Y$)h=!0,d="maxretry",s=s.concat(Uo(t.serverSyncTree_,l.currentWriteId,!0));else{const f=rR(t,l.path,o);l.currentInputSnapshot=f;const g=e[a].update(f.val());if(g!==void 0){eR("transaction failed: Data returned ",g,l.path);let _=en(g);typeof g=="object"&&g!=null&&As(g,".priority")||(_=_.updatePriority(f.getPriority()));const T=l.currentWriteId,N=tR(t),O=L$(_,f,N);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=O,l.currentWriteId=eB(t),o.splice(o.indexOf(T),1),s=s.concat(I$(t.serverSyncTree_,l.path,O,l.currentWriteId,l.applyLocally)),s=s.concat(Uo(t.serverSyncTree_,T,!0))}else h=!0,d="nodata",s=s.concat(Uo(t.serverSyncTree_,l.currentWriteId,!0))}lo(t.eventQueue_,n,s),s=[],h&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ef(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)qc(r[a]);yy(t,t.transactionQueueTree_)}function sR(t,e){let n,r=t.transactionQueueTree_;for(n=De(e);n!==null&&ja(r)===void 0;)r=gy(r,n),e=nt(e),n=De(e);return r}function iR(t,e){const n=[];return oR(t,e,n),n.sort((r,s)=>r.order-s.order),n}function oR(t,e,n){const r=ja(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);vf(e,s=>{oR(t,s,n)})}function Ef(t,e){const n=ja(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,XI(e,n.length>0?n:void 0)}vf(e,r=>{Ef(t,r)})}function iB(t,e){const n=Gc(sR(t,e)),r=gy(t.transactionQueueTree_,e);return V$(r,s=>{rm(t,s)}),rm(t,r),JI(r,s=>{rm(t,s)}),n}function rm(t,e){const n=ja(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(re(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(re(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Uo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?XI(e,void 0):n.length=i+1,lo(t.eventQueue_,Gc(e),s);for(let o=0;o<r.length;o++)qc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function aB(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Fn(`Invalid query segment '${n}' in query '${t}'`)}return e}const zb=function(t,e){const n=lB(t),r=n.namespace;n.domain==="firebase.com"&&ji(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ji("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||VV();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KV(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new rt(n.pathString)}},lB=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(s=oB(t.substring(h,d)));const f=aB(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:wI(this._path)}get ref(){return new Wa(this._repo,this._path)}get _queryIdentifier(){const e=Nb(this._queryParams),n=ey(e);return n==="{}"?"default":n}get _queryObject(){return Nb(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof vy))return!1;const n=this._repo===e._repo,r=bI(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+vF(this._path)}}class Wa extends vy{constructor(e,n){super(e,n,new oy,!1)}get parent(){const e=EI(this._path);return e===null?null:new Wa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}A$(Wa);C$(Wa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="FIREBASE_DATABASE_EMULATOR_HOST",Ag={};let uB=!1;function hB(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||ji("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=zb(i,s),a=o.repoInfo,l;typeof process<"u"&&db&&(l=db[cB]),l?(i=`http://${l}?ns=${a.namespace}`,o=zb(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new GV(t.name,t.options,e);j$("Invalid Firebase Database URL",o),xe(o.path)||ji("Database URL must point to the root of a Firebase Database (not including a child path).");const h=fB(a,t,c,new zV(t,n));return new pB(h,t)}function dB(t,e){const n=Ag[e];(!n||n[t.key]!==t)&&ji(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nB(t),delete n[t.key]}function fB(t,e,n,r){let s=Ag[e.name];s||(s={},Ag[e.name]=s);let i=s[t.toURLString()];return i&&ji("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new X$(t,uB,n,r),s[t.toURLString()]=i,i}class pB{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Q$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wa(this._repo,Ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ji("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){NV(Ba),Wr(new Er("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return hB(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Vn(fb,pb,t),Vn(fb,pb,"esm2017")}us.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};us.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mB();var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,aR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function w(){}w.prototype=E.prototype,C.D=E.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(A,k,I){for(var S=Array(arguments.length-2),we=2;we<arguments.length;we++)S[we-2]=arguments[we];return E.prototype[k].apply(A,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,E,w){w||(w=0);var A=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)A[k]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(k=0;16>k;++k)A[k]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=C.g[0],w=C.g[1],k=C.g[2];var I=C.g[3],S=E+(I^w&(k^I))+A[0]+3614090360&4294967295;E=w+(S<<7&4294967295|S>>>25),S=I+(k^E&(w^k))+A[1]+3905402710&4294967295,I=E+(S<<12&4294967295|S>>>20),S=k+(w^I&(E^w))+A[2]+606105819&4294967295,k=I+(S<<17&4294967295|S>>>15),S=w+(E^k&(I^E))+A[3]+3250441966&4294967295,w=k+(S<<22&4294967295|S>>>10),S=E+(I^w&(k^I))+A[4]+4118548399&4294967295,E=w+(S<<7&4294967295|S>>>25),S=I+(k^E&(w^k))+A[5]+1200080426&4294967295,I=E+(S<<12&4294967295|S>>>20),S=k+(w^I&(E^w))+A[6]+2821735955&4294967295,k=I+(S<<17&4294967295|S>>>15),S=w+(E^k&(I^E))+A[7]+4249261313&4294967295,w=k+(S<<22&4294967295|S>>>10),S=E+(I^w&(k^I))+A[8]+1770035416&4294967295,E=w+(S<<7&4294967295|S>>>25),S=I+(k^E&(w^k))+A[9]+2336552879&4294967295,I=E+(S<<12&4294967295|S>>>20),S=k+(w^I&(E^w))+A[10]+4294925233&4294967295,k=I+(S<<17&4294967295|S>>>15),S=w+(E^k&(I^E))+A[11]+2304563134&4294967295,w=k+(S<<22&4294967295|S>>>10),S=E+(I^w&(k^I))+A[12]+1804603682&4294967295,E=w+(S<<7&4294967295|S>>>25),S=I+(k^E&(w^k))+A[13]+4254626195&4294967295,I=E+(S<<12&4294967295|S>>>20),S=k+(w^I&(E^w))+A[14]+2792965006&4294967295,k=I+(S<<17&4294967295|S>>>15),S=w+(E^k&(I^E))+A[15]+1236535329&4294967295,w=k+(S<<22&4294967295|S>>>10),S=E+(k^I&(w^k))+A[1]+4129170786&4294967295,E=w+(S<<5&4294967295|S>>>27),S=I+(w^k&(E^w))+A[6]+3225465664&4294967295,I=E+(S<<9&4294967295|S>>>23),S=k+(E^w&(I^E))+A[11]+643717713&4294967295,k=I+(S<<14&4294967295|S>>>18),S=w+(I^E&(k^I))+A[0]+3921069994&4294967295,w=k+(S<<20&4294967295|S>>>12),S=E+(k^I&(w^k))+A[5]+3593408605&4294967295,E=w+(S<<5&4294967295|S>>>27),S=I+(w^k&(E^w))+A[10]+38016083&4294967295,I=E+(S<<9&4294967295|S>>>23),S=k+(E^w&(I^E))+A[15]+3634488961&4294967295,k=I+(S<<14&4294967295|S>>>18),S=w+(I^E&(k^I))+A[4]+3889429448&4294967295,w=k+(S<<20&4294967295|S>>>12),S=E+(k^I&(w^k))+A[9]+568446438&4294967295,E=w+(S<<5&4294967295|S>>>27),S=I+(w^k&(E^w))+A[14]+3275163606&4294967295,I=E+(S<<9&4294967295|S>>>23),S=k+(E^w&(I^E))+A[3]+4107603335&4294967295,k=I+(S<<14&4294967295|S>>>18),S=w+(I^E&(k^I))+A[8]+1163531501&4294967295,w=k+(S<<20&4294967295|S>>>12),S=E+(k^I&(w^k))+A[13]+2850285829&4294967295,E=w+(S<<5&4294967295|S>>>27),S=I+(w^k&(E^w))+A[2]+4243563512&4294967295,I=E+(S<<9&4294967295|S>>>23),S=k+(E^w&(I^E))+A[7]+1735328473&4294967295,k=I+(S<<14&4294967295|S>>>18),S=w+(I^E&(k^I))+A[12]+2368359562&4294967295,w=k+(S<<20&4294967295|S>>>12),S=E+(w^k^I)+A[5]+4294588738&4294967295,E=w+(S<<4&4294967295|S>>>28),S=I+(E^w^k)+A[8]+2272392833&4294967295,I=E+(S<<11&4294967295|S>>>21),S=k+(I^E^w)+A[11]+1839030562&4294967295,k=I+(S<<16&4294967295|S>>>16),S=w+(k^I^E)+A[14]+4259657740&4294967295,w=k+(S<<23&4294967295|S>>>9),S=E+(w^k^I)+A[1]+2763975236&4294967295,E=w+(S<<4&4294967295|S>>>28),S=I+(E^w^k)+A[4]+1272893353&4294967295,I=E+(S<<11&4294967295|S>>>21),S=k+(I^E^w)+A[7]+4139469664&4294967295,k=I+(S<<16&4294967295|S>>>16),S=w+(k^I^E)+A[10]+3200236656&4294967295,w=k+(S<<23&4294967295|S>>>9),S=E+(w^k^I)+A[13]+681279174&4294967295,E=w+(S<<4&4294967295|S>>>28),S=I+(E^w^k)+A[0]+3936430074&4294967295,I=E+(S<<11&4294967295|S>>>21),S=k+(I^E^w)+A[3]+3572445317&4294967295,k=I+(S<<16&4294967295|S>>>16),S=w+(k^I^E)+A[6]+76029189&4294967295,w=k+(S<<23&4294967295|S>>>9),S=E+(w^k^I)+A[9]+3654602809&4294967295,E=w+(S<<4&4294967295|S>>>28),S=I+(E^w^k)+A[12]+3873151461&4294967295,I=E+(S<<11&4294967295|S>>>21),S=k+(I^E^w)+A[15]+530742520&4294967295,k=I+(S<<16&4294967295|S>>>16),S=w+(k^I^E)+A[2]+3299628645&4294967295,w=k+(S<<23&4294967295|S>>>9),S=E+(k^(w|~I))+A[0]+4096336452&4294967295,E=w+(S<<6&4294967295|S>>>26),S=I+(w^(E|~k))+A[7]+1126891415&4294967295,I=E+(S<<10&4294967295|S>>>22),S=k+(E^(I|~w))+A[14]+2878612391&4294967295,k=I+(S<<15&4294967295|S>>>17),S=w+(I^(k|~E))+A[5]+4237533241&4294967295,w=k+(S<<21&4294967295|S>>>11),S=E+(k^(w|~I))+A[12]+1700485571&4294967295,E=w+(S<<6&4294967295|S>>>26),S=I+(w^(E|~k))+A[3]+2399980690&4294967295,I=E+(S<<10&4294967295|S>>>22),S=k+(E^(I|~w))+A[10]+4293915773&4294967295,k=I+(S<<15&4294967295|S>>>17),S=w+(I^(k|~E))+A[1]+2240044497&4294967295,w=k+(S<<21&4294967295|S>>>11),S=E+(k^(w|~I))+A[8]+1873313359&4294967295,E=w+(S<<6&4294967295|S>>>26),S=I+(w^(E|~k))+A[15]+4264355552&4294967295,I=E+(S<<10&4294967295|S>>>22),S=k+(E^(I|~w))+A[6]+2734768916&4294967295,k=I+(S<<15&4294967295|S>>>17),S=w+(I^(k|~E))+A[13]+1309151649&4294967295,w=k+(S<<21&4294967295|S>>>11),S=E+(k^(w|~I))+A[4]+4149444226&4294967295,E=w+(S<<6&4294967295|S>>>26),S=I+(w^(E|~k))+A[11]+3174756917&4294967295,I=E+(S<<10&4294967295|S>>>22),S=k+(E^(I|~w))+A[2]+718787259&4294967295,k=I+(S<<15&4294967295|S>>>17),S=w+(I^(k|~E))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var w=E-this.blockSize,A=this.B,k=this.h,I=0;I<E;){if(k==0)for(;I<=w;)s(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<E;)if(A[k++]=C.charCodeAt(I++),k==this.blockSize){s(this,A),k=0;break}}else for(;I<E;)if(A[k++]=C[I++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var w=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=w&255,w/=256;for(this.u(C),C=Array(16),E=w=0;4>E;++E)for(var A=0;32>A;A+=8)C[w++]=this.g[E]>>>A&255;return C};function i(C,E){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=E(C)}function o(C,E){this.h=E;for(var w=[],A=!0,k=C.length-1;0<=k;k--){var I=C[k]|0;A&&I==E||(w[k]=I,A=!1)}this.g=w}var a={};function l(C){return-128<=C&&128>C?i(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return T(c(-C));for(var E=[],w=1,A=0;C>=w;A++)E[A]=C/w|0,w*=4294967296;return new o(E,0)}function h(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return T(h(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(E,8)),A=d,k=0;k<C.length;k+=8){var I=Math.min(8,C.length-k),S=parseInt(C.substring(k,k+I),E);8>I?(I=c(Math.pow(E,I)),A=A.j(I).add(c(S))):(A=A.j(w),A=A.add(c(S)))}return A}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var C=0,E=1,w=0;w<this.g.length;w++){var A=this.i(w);C+=(0<=A?A:4294967296+A)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(y(this))return"-"+T(this).toString(C);for(var E=c(Math.pow(C,6)),w=this,A="";;){var k=D(w,E).g;w=N(w,k.j(E));var I=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=k,_(w))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=N(this,C),y(C)?-1:_(C)?0:1};function T(C){for(var E=C.g.length,w=[],A=0;A<E;A++)w[A]=~C.g[A];return new o(w,~C.h).add(f)}t.abs=function(){return y(this)?T(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],A=0,k=0;k<=E;k++){var I=A+(this.i(k)&65535)+(C.i(k)&65535),S=(I>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);A=S>>>16,I&=65535,S&=65535,w[k]=S<<16|I}return new o(w,w[w.length-1]&-2147483648?-1:0)};function N(C,E){return C.add(T(E))}t.j=function(C){if(_(this)||_(C))return d;if(y(this))return y(C)?T(this).j(T(C)):T(T(this).j(C));if(y(C))return T(this.j(T(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var E=this.g.length+C.g.length,w=[],A=0;A<2*E;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<C.g.length;k++){var I=this.i(A)>>>16,S=this.i(A)&65535,we=C.i(k)>>>16,Me=C.i(k)&65535;w[2*A+2*k]+=S*Me,O(w,2*A+2*k),w[2*A+2*k+1]+=I*Me,O(w,2*A+2*k+1),w[2*A+2*k+1]+=S*we,O(w,2*A+2*k+1),w[2*A+2*k+2]+=I*we,O(w,2*A+2*k+2)}for(A=0;A<E;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=E;A<2*E;A++)w[A]=0;return new o(w,0)};function O(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function x(C,E){this.g=C,this.h=E}function D(C,E){if(_(E))throw Error("division by zero");if(_(C))return new x(d,d);if(y(C))return E=D(T(C),E),new x(T(E.g),T(E.h));if(y(E))return E=D(C,T(E)),new x(T(E.g),E.h);if(30<C.g.length){if(y(C)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var w=f,A=E;0>=A.l(C);)w=M(w),A=M(A);var k=V(w,1),I=V(A,1);for(A=V(A,2),w=V(w,2);!_(A);){var S=I.add(A);0>=S.l(C)&&(k=k.add(w),I=S),A=V(A,1),w=V(w,1)}return E=N(C,k.j(E)),new x(k,E)}for(k=d;0<=C.l(E);){for(w=Math.max(1,Math.floor(C.m()/E.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=c(w),S=I.j(E);y(S)||0<S.l(C);)w-=A,I=c(w),S=I.j(E);_(I)&&(I=f),k=k.add(I),C=N(C,S)}return new x(k,C)}t.A=function(C){return D(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],A=0;A<E;A++)w[A]=this.i(A)&C.i(A);return new o(w,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],A=0;A<E;A++)w[A]=this.i(A)|C.i(A);return new o(w,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),w=[],A=0;A<E;A++)w[A]=this.i(A)^C.i(A);return new o(w,this.h^C.h)};function M(C){for(var E=C.g.length+1,w=[],A=0;A<E;A++)w[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(w,C.h)}function V(C,E){var w=E>>5;E%=32;for(var A=C.g.length-w,k=[],I=0;I<A;I++)k[I]=0<E?C.i(I+w)>>>E|C.i(I+w+1)<<32-E:C.i(I+w);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Ys=o}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lR,Ll,cR,wh,Cg,uR,hR,dR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var m=r;u=u.split(".");for(var v=0;v<u.length-1;v++){var L=u[v];if(!(L in m))break e;m=m[L]}u=u[u.length-1],v=m[u],p=p(v),p!=v&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var m=0,v=!1,L={next:function(){if(!v&&m<u.length){var F=m++;return{value:p(F,u[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,m){return u.call.apply(u.bind,arguments)}function d(u,p,m){if(!u)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),u.apply(this,v)}}function _(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(v,L,F){for(var Z=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Z[Ye-2]=arguments[Ye];return p.prototype[L].apply(v,Z)}}function y(u){const p=u.length;if(0<p){const m=Array(p);for(let v=0;v<p;v++)m[v]=u[v];return m}return[]}function T(u,p){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(l(v)){const L=u.length||0,F=v.length||0;u.length=L+F;for(let Z=0;Z<F;Z++)u[L+Z]=v[Z]}else u.push(v)}}class N{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function O(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function D(u){return D[" "](u),u}D[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function V(u,p,m){for(const v in u)p.call(m,u[v],v,u)}function C(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function E(u){const p={};for(const m in u)p[m]=u[m];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let m,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(m in v)u[m]=v[m];for(let F=0;F<w.length;F++)m=w[F],Object.prototype.hasOwnProperty.call(v,m)&&(u[m]=v[m])}}function k(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function I(u){a.setTimeout(()=>{throw u},0)}function S(){var u=Q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class we{constructor(){this.h=this.g=null}add(p,m){const v=Me.get();v.set(p,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Me=new N(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let b,H=!1,Q=new we,ee=()=>{const u=a.Promise.resolve(void 0);b=()=>{u.then(Se)}};var Se=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(m){I(m)}var p=Me;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}H=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Qe(u,p){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,v=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(M){e:{try{D(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qe.aa.h.call(this)}}_(Qe,ye);var mt={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Pn(u,p,m,v,L){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!v,this.ha=L,this.key=++Lt,this.da=this.fa=!1}function yn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wn(u){this.src=u,this.g={},this.h=0}wn.prototype.add=function(u,p,m,v,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var Z=P(u,p,v,L);return-1<Z?(p=u[Z],m||(p.fa=!1)):(p=new Pn(p,this.src,F,!!v,L),p.fa=m,u.push(p)),p};function R(u,p){var m=p.type;if(m in u.g){var v=u.g[m],L=Array.prototype.indexOf.call(v,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(v,L,1),F&&(yn(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function P(u,p,m,v){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==v)return L}return-1}var $="closure_lm_"+(1e6*Math.random()|0),q={};function W(u,p,m,v,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)W(u,p[F],m,v,L);return null}return m=pe(m),u&&u[Rt]?u.K(p,m,c(v)?!!v.capture:!1,L):K(u,p,m,!1,v,L)}function K(u,p,m,v,L,F){if(!p)throw Error("Invalid event type");var Z=c(L)?!!L.capture:!!L,Ye=ne(u);if(Ye||(u[$]=Ye=new wn(u)),m=Ye.add(p,m,v,Z,F),m.proxy)return m;if(v=te(),m.proxy=v,v.src=u,v.listener=m,u.addEventListener)it||(L=Z),L===void 0&&(L=!1),u.addEventListener(p.toString(),v,L);else if(u.attachEvent)u.attachEvent(z(p.toString()),v);else if(u.addListener&&u.removeListener)u.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function te(){function u(m){return p.call(u.src,u.listener,m)}const p=le;return u}function J(u,p,m,v,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)J(u,p[F],m,v,L);else v=c(v)?!!v.capture:!!v,m=pe(m),u&&u[Rt]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],m=P(F,m,v,L),-1<m&&(yn(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=ne(u))&&(p=u.g[p.toString()],u=-1,p&&(u=P(p,m,v,L)),(m=-1<u?p[u]:null)&&X(m))}function X(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Rt])R(p.i,u);else{var m=u.type,v=u.proxy;p.removeEventListener?p.removeEventListener(m,v,u.capture):p.detachEvent?p.detachEvent(z(m),v):p.addListener&&p.removeListener&&p.removeListener(v),(m=ne(p))?(R(m,u),m.h==0&&(m.src=null,p[$]=null)):yn(u)}}}function z(u){return u in q?q[u]:q[u]="on"+u}function le(u,p){if(u.da)u=!0;else{p=new Qe(p,this);var m=u.listener,v=u.ha||u.src;u.fa&&X(u),u=m.call(v,p)}return u}function ne(u){return u=u[$],u instanceof wn?u:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(u){return typeof u=="function"?u:(u[oe]||(u[oe]=function(p){return u.handleEvent(p)}),u[oe])}function ce(){ie.call(this),this.i=new wn(this),this.M=this,this.F=null}_(ce,ie),ce.prototype[Rt]=!0,ce.prototype.removeEventListener=function(u,p,m,v){J(this,u,p,m,v)};function ve(u,p){var m,v=u.F;if(v)for(m=[];v;v=v.F)m.push(v);if(u=u.M,v=p.type||p,typeof p=="string")p=new ye(p,u);else if(p instanceof ye)p.target=p.target||u;else{var L=p;p=new ye(v,u),A(p,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var Z=p.g=m[F];L=Re(Z,v,!0,p)&&L}if(Z=p.g=u,L=Re(Z,v,!0,p)&&L,L=Re(Z,v,!1,p)&&L,m)for(F=0;F<m.length;F++)Z=p.g=m[F],L=Re(Z,v,!1,p)&&L}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],v=0;v<m.length;v++)yn(m[v]);delete u.g[p],u.h--}}this.F=null},ce.prototype.K=function(u,p,m,v){return this.i.add(String(u),p,!1,m,v)},ce.prototype.L=function(u,p,m,v){return this.i.add(String(u),p,!0,m,v)};function Re(u,p,m,v){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var Z=p[F];if(Z&&!Z.da&&Z.capture==m){var Ye=Z.listener,Ft=Z.ha||Z.src;Z.fa&&R(u.i,Z),L=Ye.call(Ft,v)!==!1&&L}}return L&&!v.defaultPrevented}function qt(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Mt(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,Mt(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Yn extends ie{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(u){ie.call(this),this.h=u,this.g={}}_(zt,ie);var ks=[];function ll(u){V(u.g,function(p,m){this.g.hasOwnProperty(m)&&X(p)},u),u.g={}}zt.prototype.N=function(){zt.aa.N.call(this),ll(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,Xn=a.JSON.parse,_u=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function yp(){}yp.prototype.h=null;function lv(u){return u.h||(u.h=u.i())}function cv(){}var cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wp(){ye.call(this,"d")}_(wp,ye);function vp(){ye.call(this,"c")}_(vp,ye);var _i={},uv=null;function yu(){return uv=uv||new ce}_i.La="serverreachability";function hv(u){ye.call(this,_i.La,u)}_(hv,ye);function ul(u){const p=yu();ve(p,new hv(p))}_i.STAT_EVENT="statevent";function dv(u,p){ye.call(this,_i.STAT_EVENT,u),this.stat=p}_(dv,ye);function on(u){const p=yu();ve(p,new dv(p,u))}_i.Ma="timingevent";function fv(u,p){ye.call(this,_i.Ma,u),this.size=p}_(fv,ye);function hl(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function dl(){this.g=!0}dl.prototype.xa=function(){this.g=!1};function vO(u,p,m,v,L,F){u.info(function(){if(u.g)if(F)for(var Z="",Ye=F.split("&"),Ft=0;Ft<Ye.length;Ft++){var Ve=Ye[Ft].split("=");if(1<Ve.length){var Gt=Ve[0];Ve=Ve[1];var Kt=Gt.split("_");Z=2<=Kt.length&&Kt[1]=="type"?Z+(Gt+"="+Ve+"&"):Z+(Gt+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+p+`
`+m+`
`+Z})}function EO(u,p,m,v,L,F,Z){u.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+p+`
`+m+`
`+F+" "+Z})}function bo(u,p,m,v){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+TO(u,m)+(v?" "+v:"")})}function bO(u,p){u.info(function(){return"TIMEOUT: "+p})}dl.prototype.info=function(){};function TO(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var v=m[u];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return Vt(m)}catch{return p}}var wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ep;function vu(){}_(vu,yp),vu.prototype.g=function(){return new XMLHttpRequest},vu.prototype.i=function(){return{}},Ep=new vu;function Ps(u,p,m,v){this.j=u,this.i=p,this.l=m,this.R=v||1,this.U=new zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mv}function mv(){this.i=null,this.g="",this.h=!1}var gv={},bp={};function Tp(u,p,m){u.L=1,u.v=Su(Xr(p)),u.m=m,u.P=!0,_v(u,null)}function _v(u,p){u.F=Date.now(),Eu(u),u.A=Xr(u.v);var m=u.A,v=u.R;Array.isArray(v)||(v=[String(v)]),Nv(m.i,"t",v),u.C=0,m=u.j.J,u.h=new mv,u.g=Yv(u.j,m?p:null,!u.m),0<u.O&&(u.M=new Yn(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,v=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ks[0]=L.toString()),L=ks);for(var F=0;F<L.length;F++){var Z=W(m,L[F],v||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ul(),vO(u.i,u.u,u.A,u.l,u.R,u.m)}Ps.prototype.ca=function(u){u=u.target;const p=this.M;p&&Qr(u)==3?p.j():this.Y(u)},Ps.prototype.Y=function(u){try{if(u==this.g)e:{const Kt=Qr(this.g);var p=this.g.Ba();const Ao=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Fv(this.g)))){this.J||Kt!=4||p==7||(p==8||0>=Ao?ul(3):ul(2)),Sp(this);var m=this.g.Z();this.X=m;t:if(yv(this)){var v=Fv(this.g);u="";var L=v.length,F=Qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),fl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(v[p],{stream:!(F&&p==L-1)});v.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=m==200,EO(this.i,this.u,this.A,this.l,this.R,Kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ft=this.g;if((Ye=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ye)){var Ve=Ye;break t}}Ve=null}if(m=Ve)bo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ap(this,m);else{this.o=!1,this.s=3,on(12),yi(this),fl(this);break e}}if(this.P){m=!0;let ur;for(;!this.J&&this.C<Z.length;)if(ur=SO(this,Z),ur==bp){Kt==4&&(this.s=4,on(14),m=!1),bo(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==gv){this.s=4,on(15),bo(this.i,this.l,Z,"[Invalid Chunk]"),m=!1;break}else bo(this.i,this.l,ur,null),Ap(this,ur);if(yv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Z.length!=0||this.h.h||(this.s=1,on(16),m=!1),this.o=this.o&&m,!m)bo(this.i,this.l,Z,"[Invalid Chunked Response]"),yi(this),fl(this);else if(0<Z.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Np(Gt),Gt.M=!0,on(11))}}else bo(this.i,this.l,Z,null),Ap(this,Z);Kt==4&&yi(this),this.o&&!this.J&&(Kt==4?qv(this.j,this):(this.o=!1,Eu(this)))}else UO(this.g),m==400&&0<Z.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),yi(this),fl(this)}}}catch{}finally{}};function yv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function SO(u,p){var m=u.C,v=p.indexOf(`
`,m);return v==-1?bp:(m=Number(p.substring(m,v)),isNaN(m)?gv:(v+=1,v+m>p.length?bp:(p=p.slice(v,v+m),u.C=v+m,p)))}Ps.prototype.cancel=function(){this.J=!0,yi(this)};function Eu(u){u.S=Date.now()+u.I,wv(u,u.I)}function wv(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=hl(f(u.ba,u),p)}function Sp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ps.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bO(this.i,this.A),this.L!=2&&(ul(),on(17)),yi(this),this.s=2,fl(this)):wv(this,this.S-u)};function fl(u){u.j.G==0||u.J||qv(u.j,u)}function yi(u){Sp(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ll(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ap(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Cp(m.h,u))){if(!u.K&&Cp(m.h,u)&&m.G==3){try{var v=m.Da.g.parse(p)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Pu(m),Ru(m);else break e;Pp(m),on(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=hl(f(m.Za,m),6e3));if(1>=bv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else vi(m,11)}else if((u.K||m.g==u)&&Pu(m),!O(p))for(L=m.Da.g.parse(p),p=0;p<L.length;p++){let Ve=L[p];if(m.T=Ve[0],Ve=Ve[1],m.G==2)if(Ve[0]=="c"){m.K=Ve[1],m.ia=Ve[2];const Gt=Ve[3];Gt!=null&&(m.la=Gt,m.j.info("VER="+m.la));const Kt=Ve[4];Kt!=null&&(m.Aa=Kt,m.j.info("SVER="+m.Aa));const Ao=Ve[5];Ao!=null&&typeof Ao=="number"&&0<Ao&&(v=1.5*Ao,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const ur=u.g;if(ur){const xu=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var F=v.h;F.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ip(F,F.h),F.h=null))}if(v.D){const xp=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;xp&&(v.ya=xp,et(v.I,v.D,xp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var Z=u;if(v.qa=Kv(v,v.J?v.ia:null,v.W),Z.K){Tv(v.h,Z);var Ye=Z,Ft=v.L;Ft&&(Ye.I=Ft),Ye.B&&(Sp(Ye),Eu(Ye)),v.g=Z}else jv(v);0<m.i.length&&ku(m)}else Ve[0]!="stop"&&Ve[0]!="close"||vi(m,7);else m.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?vi(m,7):kp(m):Ve[0]!="noop"&&m.l&&m.l.ta(Ve),m.v=0)}}ul(4)}catch{}}var AO=class{constructor(u,p){this.g=u,this.map=p}};function vv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ev(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bv(u){return u.h?1:u.g?u.g.size:0}function Cp(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ip(u,p){u.g?u.g.add(p):u.h=p}function Tv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}vv.prototype.cancel=function(){if(this.i=Sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return y(u.i)}function CO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,v=0;v<m;v++)p.push(u[v]);return p}p=[],m=0;for(v in u)p[m++]=u[v];return p}function IO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const v in u)p[m++]=v;return p}}}function Av(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=IO(u),v=CO(u),L=v.length,F=0;F<L;F++)p.call(void 0,v[F],m&&m[F],u)}var Cv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RO(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var v=u[m].indexOf("="),L=null;if(0<=v){var F=u[m].substring(0,v);L=u[m].substring(v+1)}else F=u[m];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function wi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof wi){this.h=u.h,bu(this,u.j),this.o=u.o,this.g=u.g,Tu(this,u.s),this.l=u.l;var p=u.i,m=new gl;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Iv(this,m),this.m=u.m}else u&&(p=String(u).match(Cv))?(this.h=!1,bu(this,p[1]||"",!0),this.o=pl(p[2]||""),this.g=pl(p[3]||"",!0),Tu(this,p[4]),this.l=pl(p[5]||"",!0),Iv(this,p[6]||"",!0),this.m=pl(p[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}wi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ml(p,Rv,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ml(p,Rv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ml(m,m.charAt(0)=="/"?NO:PO,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ml(m,OO)),u.join("")};function Xr(u){return new wi(u)}function bu(u,p,m){u.j=m?pl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Tu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Iv(u,p,m){p instanceof gl?(u.i=p,DO(u.i,u.h)):(m||(p=ml(p,xO)),u.i=new gl(p,u.h))}function et(u,p,m){u.i.set(p,m)}function Su(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ml(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,kO),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rv=/[#\/\?@]/g,PO=/[#\?:]/g,NO=/[#\?]/g,xO=/[#\?@]/g,OO=/#/g;function gl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ns(u){u.g||(u.g=new Map,u.h=0,u.i&&RO(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=gl.prototype,t.add=function(u,p){Ns(this),this.i=null,u=To(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function kv(u,p){Ns(u),p=To(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Pv(u,p){return Ns(u),p=To(u,p),u.g.has(p)}t.forEach=function(u,p){Ns(this),this.g.forEach(function(m,v){m.forEach(function(L){u.call(p,L,v,this)},this)},this)},t.na=function(){Ns(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let v=0;v<p.length;v++){const L=u[v];for(let F=0;F<L.length;F++)m.push(p[v])}return m},t.V=function(u){Ns(this);let p=[];if(typeof u=="string")Pv(this,u)&&(p=p.concat(this.g.get(To(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Ns(this),this.i=null,u=To(this,u),Pv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Nv(u,p,m){kv(u,p),0<m.length&&(u.i=null,u.g.set(To(u,p),y(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var v=p[m];const F=encodeURIComponent(String(v)),Z=this.V(v);for(v=0;v<Z.length;v++){var L=F;Z[v]!==""&&(L+="="+encodeURIComponent(String(Z[v]))),u.push(L)}}return this.i=u.join("&")};function To(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function DO(u,p){p&&!u.j&&(Ns(u),u.i=null,u.g.forEach(function(m,v){var L=v.toLowerCase();v!=L&&(kv(this,v),Nv(this,L,m))},u)),u.j=p}function LO(u,p){const m=new dl;if(a.Image){const v=new Image;v.onload=g(xs,m,"TestLoadImage: loaded",!0,p,v),v.onerror=g(xs,m,"TestLoadImage: error",!1,p,v),v.onabort=g(xs,m,"TestLoadImage: abort",!1,p,v),v.ontimeout=g(xs,m,"TestLoadImage: timeout",!1,p,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=u}else p(!1)}function MO(u,p){const m=new dl,v=new AbortController,L=setTimeout(()=>{v.abort(),xs(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:v.signal}).then(F=>{clearTimeout(L),F.ok?xs(m,"TestPingServer: ok",!0,p):xs(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),xs(m,"TestPingServer: error",!1,p)})}function xs(u,p,m,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(m)}catch{}}function VO(){this.g=new _u}function FO(u,p,m){const v=m||"";try{Av(u,function(L,F){let Z=L;c(L)&&(Z=Vt(L)),p.push(v+F+"="+encodeURIComponent(Z))})}catch(L){throw p.push(v+"type="+encodeURIComponent("_badmap")),L}}function Au(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Au,yp),Au.prototype.g=function(){return new Cu(this.l,this.j)},Au.prototype.i=function(u){return function(){return u}}({});function Cu(u,p){ce.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Cu,ce),t=Cu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,yl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_l(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yl(this)),this.g&&(this.readyState=3,yl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?_l(this):yl(this),this.readyState==3&&xv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,_l(this))},t.Qa=function(u){this.g&&(this.response=u,_l(this))},t.ga=function(){this.g&&_l(this)};function _l(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function yl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ov(u){let p="";return V(u,function(m,v){p+=v,p+=":",p+=m,p+=`\r
`}),p}function Rp(u,p,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Ov(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):et(u,p,m))}function ut(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ut,ce);var $O=/^https?$/i,BO=["POST","PUT"];t=ut.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ep.g(),this.v=this.o?lv(this.o):lv(Ep),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Dv(this,F);return}if(u=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)m.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())m.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BO,p,void 0))||v||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of m)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vv(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Dv(this,F)}};function Dv(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Lv(u),Iu(u)}function Lv(u){u.A||(u.A=!0,ve(u,"complete"),ve(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ve(this,"complete"),ve(this,"abort"),Iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Iu(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mv(this):this.bb())},t.bb=function(){Mv(this)};function Mv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Qr(u)!=4||u.Z()!=2)){if(u.u&&Qr(u)==4)qt(u.Ea,0,u);else if(ve(u,"readystatechange"),Qr(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var v;if(v=Z===0){var L=String(u.D).match(Cv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),v=!$O.test(L?L.toLowerCase():"")}m=v}if(m)ve(u,"complete"),ve(u,"success");else{u.m=6;try{var F=2<Qr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Lv(u)}}finally{Iu(u)}}}}function Iu(u,p){if(u.g){Vv(u);const m=u.g,v=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ve(u,"ready");try{m.onreadystatechange=v}catch{}}}function Vv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Qr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Xn(p)}};function Fv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function UO(u){const p={};u=(u.g&&2<=Qr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<u.length;v++){if(O(u[v]))continue;var m=k(u[v]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=p[L]||[];p[L]=F,F.push(m)}C(p,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function $v(u){this.Aa=0,this.i=[],this.j=new dl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wl("baseRetryDelayMs",5e3,u),this.cb=wl("retryDelaySeedMs",1e4,u),this.Wa=wl("forwardChannelMaxRetries",2,u),this.wa=wl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(u&&u.concurrentRequestLimit),this.Da=new VO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$v.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,v){on(0),this.W=u,this.H=p||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Kv(this,null,this.W),ku(this)};function kp(u){if(Bv(u),u.G==3){var p=u.U++,m=Xr(u.I);if(et(m,"SID",u.K),et(m,"RID",p),et(m,"TYPE","terminate"),vl(u,m),p=new Ps(u,u.j,p),p.L=2,p.v=Su(Xr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=Yv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Eu(p)}Gv(u)}function Ru(u){u.g&&(Np(u),u.g.cancel(),u.g=null)}function Bv(u){Ru(u),u.u&&(a.clearTimeout(u.u),u.u=null),Pu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ku(u){if(!Ev(u.h)&&!u.s){u.s=!0;var p=u.Ga;b||ee(),H||(b(),H=!0),Q.add(p,u),u.B=0}}function HO(u,p){return bv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=hl(f(u.Ga,u,p),zv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ps(this,this.j,u);let F=this.o;if(this.S&&(F?(F=E(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(p+=v,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=Hv(this,L,p),m=Xr(this.I),et(m,"RID",u),et(m,"CVER",22),this.D&&et(m,"X-HTTP-Session-Id",this.D),vl(this,m),F&&(this.O?p="headers="+encodeURIComponent(String(Ov(F)))+"&"+p:this.m&&Rp(m,this.m,F)),Ip(this.h,L),this.Ua&&et(m,"TYPE","init"),this.P?(et(m,"$req",p),et(m,"SID","null"),L.T=!0,Tp(L,m,null)):Tp(L,m,p),this.G=2}}else this.G==3&&(u?Uv(this,u):this.i.length==0||Ev(this.h)||Uv(this))};function Uv(u,p){var m;p?m=p.l:m=u.U++;const v=Xr(u.I);et(v,"SID",u.K),et(v,"RID",m),et(v,"AID",u.T),vl(u,v),u.m&&u.o&&Rp(v,u.m,u.o),m=new Ps(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Hv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ip(u.h,m),Tp(m,v,p)}function vl(u,p){u.H&&V(u.H,function(m,v){et(p,v,m)}),u.l&&Av({},function(m,v){et(p,v,m)})}function Hv(u,p,m){m=Math.min(u.i.length,m);var v=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const Z=["count="+m];F==-1?0<m?(F=L[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let Ye=!0;for(let Ft=0;Ft<m;Ft++){let Ve=L[Ft].g;const Gt=L[Ft].map;if(Ve-=F,0>Ve)F=Math.max(0,L[Ft].g-100),Ye=!1;else try{FO(Gt,Z,"req"+Ve+"_")}catch{v&&v(Gt)}}if(Ye){v=Z.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,v}function jv(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;b||ee(),H||(b(),H=!0),Q.add(p,u),u.v=0}}function Pp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=hl(f(u.Fa,u),zv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=hl(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),Ru(this),Wv(this))};function Np(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Wv(u){u.g=new Ps(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Xr(u.qa);et(p,"RID","rpc"),et(p,"SID",u.K),et(p,"AID",u.T),et(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(p,"TO",u.ja),et(p,"TYPE","xmlhttp"),vl(u,p),u.m&&u.o&&Rp(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Su(Xr(p)),m.m=null,m.P=!0,_v(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Ru(this),Pp(this),on(19))};function Pu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function qv(u,p){var m=null;if(u.g==p){Pu(u),Np(u),u.g=null;var v=2}else if(Cp(u.h,p))m=p.D,Tv(u.h,p),v=1;else return;if(u.G!=0){if(p.o)if(v==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;v=yu(),ve(v,new fv(v,m)),ku(u)}else jv(u);else if(L=p.s,L==3||L==0&&0<p.X||!(v==1&&HO(u,p)||v==2&&Pp(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function zv(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function vi(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),v=u.Xa;const L=!v;v=new wi(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bu(v,"https"),Su(v),L?LO(v.toString(),m):MO(v.toString(),m)}else on(2);u.G=0,u.l&&u.l.sa(p),Gv(u),Bv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function Gv(u){if(u.G=0,u.ka=[],u.l){const p=Sv(u.h);(p.length!=0||u.i.length!=0)&&(T(u.ka,p),T(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Kv(u,p,m){var v=m instanceof wi?Xr(m):new wi(m);if(v.g!="")p&&(v.g=p+"."+v.g),Tu(v,v.s);else{var L=a.location;v=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new wi(null);v&&bu(F,v),p&&(F.g=p),L&&Tu(F,L),m&&(F.l=m),v=F}return m=u.D,p=u.ya,m&&p&&et(v,m,p),et(v,"VER",u.la),vl(u,v),v}function Yv(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ut(new Au({eb:m})):new ut(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xv(){}t=Xv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(u,p){return new Nn(u,p)};function Nn(u,p){ce.call(this),this.g=new $v(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!O(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!O(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new So(this)}_(Nn,ce),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){kp(this.g)},Nn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Vt(u),u=m);p.i.push(new AO(p.Ya++,u)),p.G==3&&ku(p)},Nn.prototype.N=function(){this.g.l=null,delete this.j,kp(this.g),delete this.g,Nn.aa.N.call(this)};function Qv(u){wp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(Qv,wp);function Jv(){vp.call(this),this.status=1}_(Jv,vp);function So(u){this.g=u}_(So,Xv),So.prototype.ua=function(){ve(this.g,"a")},So.prototype.ta=function(u){ve(this.g,new Qv(u))},So.prototype.sa=function(u){ve(this.g,new Jv)},So.prototype.ra=function(){ve(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,dR=function(){return new Nu},hR=function(){return yu()},uR=_i,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wu.NO_ERROR=0,wu.TIMEOUT=8,wu.HTTP_ERROR=6,wh=wu,pv.COMPLETE="complete",cR=pv,cv.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Ll=cv,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,lR=ut}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Kb="@firebase/firestore",Yb="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Oc("@firebase/firestore");function Oo(){return Gi.logLevel}function se(t,...e){if(Gi.logLevel<=Pe.DEBUG){const n=e.map(Ey);Gi.debug(`Firestore (${qa}): ${t}`,...n)}}function Es(t,...e){if(Gi.logLevel<=Pe.ERROR){const n=e.map(Ey);Gi.error(`Firestore (${qa}): ${t}`,...n)}}function ma(t,...e){if(Gi.logLevel<=Pe.WARN){const n=e.map(Ey);Gi.warn(`Firestore (${qa}): ${t}`,...n)}}function Ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fR(t,r,n)}function fR(t,e,n){let r=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Es(r),new Error(r)}function ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fR(e,s,r)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class _B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yB{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new pR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class wB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=bB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Ig(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ie(r,s);{const i=mR(),o=TB(i.encode(Qb(t,n)),i.encode(Qb(e,n)));return o!==0?o:Ie(r,s)}}n+=r>65535?2:1}return Ie(t.length,e.length)}function Qb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ie(t[n],e[n]);return Ie(t.length,e.length)}function ga(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=-62135596800,Zb=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zb);return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jb)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zb}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Tt(0,0))}static max(){return new Ee(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="__name__";class Nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Nr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Nr.isNumericId(e),s=Nr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):Ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class ht extends Nr{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const SB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Nr{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return SB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eT}static keyField(){return new jt([eT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ht.fromString(e))}static fromName(e){return new me(ht.fromString(e).popFirst(5))}static empty(){return new me(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function AB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Zs(s,me.empty(),e)}function CB(t){return new Zs(t.readTime,t.key,bc)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(Ee.min(),me.empty(),bc)}static max(){return new Zs(Ee.max(),me.empty(),bc)}}function IB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==RB)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}bf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function Tf(t){return t==null}function hd(t){return t===0&&1/t==-1/0}function NB(t){return typeof t=="number"&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="";function xB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tT(e)),e=OB(t.get(n),e);return tT(e)}function OB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case _R:n+="";break;default:n+=i}}return n}function tT(t){return t+_R+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=i??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Ct(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wR("Invalid base64 string: "+i):i}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=DB.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="server_timestamp",ER="__type__",bR="__previous_value__",TR="__local_write_time__";function Ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ER])===null||n===void 0?void 0:n.stringValue)===vR}function Sf(t){const e=t.mapValue.fields[bR];return Ty(e)?Sf(e):e}function Tc(t){const e=ei(t.mapValue.fields[TR].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const dd="(default)";class Sc{constructor(e,n){this.projectId=e,this.database=n||dd}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===dd}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="__type__",MB="__max__",qu={mapValue:{}},AR="__vector__",fd="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:FB(t)?9007199254740991:VB(t)?10:11:_e(28295,{value:t})}function qr(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ei(s.timestampValue),a=ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ti(s.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return _t(s.geoPointValue.latitude)===_t(i.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return _t(s.integerValue)===_t(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=_t(s.doubleValue),a=_t(i.doubleValue);return o===a?hd(o)===hd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(nT(o)!==nT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qr(o[l],a[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function Ac(t,e){return(t.values||[]).find(n=>qr(n,e))!==void 0}function _a(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=_t(i.integerValue||i.doubleValue),l=_t(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return sT(t.timestampValue,e.timestampValue);case 4:return sT(Tc(t),Tc(e));case 5:return Ig(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ti(i),l=ti(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ie(a[c],l[c]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(_t(i.latitude),_t(o.latitude));return a!==0?a:Ie(_t(i.longitude),_t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const d=i.fields||{},f=o.fields||{},g=(a=d[fd])===null||a===void 0?void 0:a.arrayValue,_=(l=f[fd])===null||l===void 0?void 0:l.arrayValue,y=Ie(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:iT(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qu.mapValue&&o===qu.mapValue)return 0;if(i===qu.mapValue)return 1;if(o===qu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Ig(l[d],h[d]);if(f!==0)return f;const g=_a(a[l[d]],c[h[d]]);if(g!==0)return g}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function sT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=ei(t),r=ei(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function iT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=_a(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function ya(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rg(n.fields[o])}`;return s+"}"}(t.mapValue):_e(61005,{value:t})}function vh(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(t);return e?16+vh(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+vh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return di(r.fields,(i,o)=>{s+=i.length+vh(o)}),s}(t.mapValue);default:throw _e(13486,{value:t})}}function kg(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function oT(t){return!!t&&"nullValue"in t}function aT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eh(t){return!!t&&"mapValue"in t}function VB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SR])===null||n===void 0?void 0:n.stringValue)===AR}function ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=jt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ec(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Eh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new On(ec(this.value))}}function CR(t){const e=[];return di(t.fields,(n,r)=>{const s=new jt([n]);if(Eh(r)){const i=CR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,Ee.min(),Ee.min(),Ee.min(),On.empty(),0)}static newFoundDocument(e,n,r,s){return new tn(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new tn(e,2,n,Ee.min(),Ee.min(),On.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ee.min(),Ee.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.position=e,this.inclusive=n}}function lT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=_a(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function cT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n="asc"){this.field=e,this.dir=n}}function $B(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{}class At extends IR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UB(e,n,r):n==="array-contains"?new WB(e,r):n==="in"?new qB(e,r):n==="not-in"?new zB(e,r):n==="array-contains-any"?new GB(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HB(e,r):new jB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_a(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends IR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new zr(e,n)}matches(e){return RR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function RR(t){return t.op==="and"}function kR(t){return BB(t)&&RR(t)}function BB(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function Pg(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(kR(t))return t.filters.map(e=>Pg(e)).join(",");{const e=t.filters.map(n=>Pg(n)).join(",");return`${t.op}(${e})`}}function PR(t,e){return t instanceof At?function(r,s){return s instanceof At&&r.op===s.op&&r.field.isEqual(s.field)&&qr(r.value,s.value)}(t,e):t instanceof zr?function(r,s){return s instanceof zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&PR(o,s.filters[a]),!0):!1}(t,e):void _e(19439)}function NR(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(NR).join(" ,")+"}"}(t):"Filter"}class UB extends At{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class HB extends At{constructor(e,n){super(e,"in",n),this.keys=xR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jB extends At{constructor(e,n){super(e,"not-in",n),this.keys=xR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class WB extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sy(n)&&Ac(n.arrayValue,this.value)}}class qB extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class zB extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class GB extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function uT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new KB(t,e,n,r,s,i,o)}function Ay(t){const e=be(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.Ie=n}return e.Ie}function Cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$B(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cT(t.startAt,e.startAt)&&cT(t.endAt,e.endAt)}function Ng(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YB(t,e,n,r,s,i,o,a){return new Af(t,e,n,r,s,i,o,a)}function Cf(t){return new Af(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XB(t){return t.collectionGroup!==null}function tc(t){const e=be(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ct(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new md(i,r))}),n.has(jt.keyField().canonicalString())||e.Ee.push(new md(jt.keyField(),r))}return e.Ee}function $r(t){const e=be(t);return e.de||(e.de=QB(e,tc(t))),e.de}function QB(t,e){if(t.limitType==="F")return uT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new md(s.field,i)});const n=t.endAt?new pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pd(t.startAt.position,t.startAt.inclusive):null;return uT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xg(t,e,n){return new Af(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return Cy($r(t),$r(e))&&t.limitType===e.limitType}function OR(t){return`${Ay($r(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>NR(s)).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ya(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ya(s)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function Rf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of tc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=lT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,tc(r),s)||r.endAt&&!function(o,a,l){const c=lT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,tc(r),s))}(t,e)}function JB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DR(t){return(e,n)=>{let r=!1;for(const s of tc(t)){const i=ZB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function ZB(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?_a(l,c):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=new at(me.comparator);function bs(){return eU}const LR=new at(me.comparator);function Ml(...t){let e=LR;for(const n of t)e=e.insert(n.key,n);return e}function MR(t){let e=LR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return nc()}function VR(){return nc()}function nc(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const tU=new at(me.comparator),nU=new Ct(me.comparator);function Ne(...t){let e=nU;for(const n of t)e=e.add(n);return e}const rU=new Ct(Ie);function sU(){return rU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function FR(t){return{integerValue:""+t}}function iU(t,e){return NB(e)?FR(e):Iy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function oU(t,e,n){return t instanceof gd?function(s,i){const o={fields:{[ER]:{stringValue:vR},[TR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ty(i)&&(i=Sf(i)),i&&(o.fields[bR]=i),{mapValue:o}}(n,e):t instanceof Cc?BR(t,e):t instanceof Ic?UR(t,e):function(s,i){const o=$R(s,i),a=dT(o)+dT(s.Re);return kg(o)&&kg(s.Re)?FR(a):Iy(s.serializer,a)}(t,e)}function aU(t,e,n){return t instanceof Cc?BR(t,e):t instanceof Ic?UR(t,e):n}function $R(t,e){return t instanceof _d?function(r){return kg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gd extends kf{}class Cc extends kf{constructor(e){super(),this.elements=e}}function BR(t,e){const n=HR(e);for(const r of t.elements)n.some(s=>qr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ic extends kf{constructor(e){super(),this.elements=e}}function UR(t,e){let n=HR(e);for(const r of t.elements)n=n.filter(s=>!qr(s,r));return{arrayValue:{values:n}}}class _d extends kf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function dT(t){return _t(t.integerValue||t.doubleValue)}function HR(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Cc&&s instanceof Cc||r instanceof Ic&&s instanceof Ic?ga(r.elements,s.elements,qr):r instanceof _d&&s instanceof _d?qr(r.Re,s.Re):r instanceof gd&&s instanceof gd}(t.transform,e.transform)}class cU{constructor(e,n){this.version=e,this.transformResults=n}}class ds{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function jR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qR(t.key,ds.none()):new Nf(t.key,t.data,ds.none());{const n=t.data,r=On.empty();let s=new Ct(jt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new uo(t.key,r,new mr(s.toArray()),ds.none())}}function uU(t,e,n){t instanceof Nf?function(s,i,o){const a=s.value.clone(),l=pT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(s,i,o){if(!bh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=pT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(WR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rc(t,e,n,r){return t instanceof Nf?function(i,o,a,l){if(!bh(i.precondition,o))return a;const c=i.value.clone(),h=mT(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(i,o,a,l){if(!bh(i.precondition,o))return a;const c=mT(i.fieldTransforms,l,o),h=o.data;return h.setAll(WR(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return bh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$R(r.transform,s||null);i!=null&&(n===null&&(n=On.empty()),n.set(r.field,i))}return n||null}function fT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ga(r,s,(i,o)=>lU(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nf extends Pf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uo extends Pf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pT(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,aU(o,a,n[s]))}return r}function mT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,oU(i,o,e))}return r}class qR extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dU extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&uU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=jR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>fT(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>fT(n,r))}}class Ry{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return tU}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ry(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Oe;function gU(t){switch(t){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function zR(t){if(t===void 0)return Es("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Et.OK:return Y.OK;case Et.CANCELLED:return Y.CANCELLED;case Et.UNKNOWN:return Y.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Y.INTERNAL;case Et.UNAVAILABLE:return Y.UNAVAILABLE;case Et.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Et.NOT_FOUND:return Y.NOT_FOUND;case Et.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Et.ABORTED:return Y.ABORTED;case Et.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Et.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:t})}}(Oe=Et||(Et={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Ys([4294967295,4294967295],0);function gT(t){const e=mR().encode(t),n=new aR;return n.update(e),new Uint8Array(n.digest())}function _T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([s,i],0)]}class ky{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ys.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ys.fromNumber(r)));return s.compare(_U)===1&&(s=new Ys([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=gT(e),[r,s]=_T(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ky(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=gT(e),[r,s]=_T(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(Ee.min(),s,new at(Ie),bs(),Ne())}}class Kc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class GR{constructor(e,n){this.targetId=e,this.Ce=n}}class KR{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class yT{constructor(){this.Fe=0,this.Me=wT(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ne(),n=Ne(),r=Ne();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e(38017,{changeType:i})}}),new Kc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=wT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yU{constructor(e){this.ze=e,this.je=new Map,this.He=bs(),this.Je=zu(),this.Ye=zu(),this.Ze=new at(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Ng(i))if(r===0){const o=new me(i.path);this.tt(n,o,tn.newNoDocument(o,Ee.min()))}else ze(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ti(r).toUint8Array()}catch(l){if(l instanceof wR)return ma("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ky(o,s,i)}catch(l){return ma(l instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Ng(a.target)){const l=new me(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,tn.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ne();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new xf(e,n,this.Ze,this.He,r);return this.He=bs(),this.Je=zu(),this.Ye=zu(),this.Ze=new at(Ie),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new yT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ct(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ct(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function zu(){return new at(me.comparator)}function wT(){return new at(me.comparator)}const wU={asc:"ASCENDING",desc:"DESCENDING"},vU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EU={and:"AND",or:"OR"};class bU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TU(t,e){return yd(t,e.toTimestamp())}function Br(t){return ze(!!t,49232),Ee.fromTimestamp(function(n){const r=ei(n);return new Tt(r.seconds,r.nanos)}(t))}function Py(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=function(s){return new ht(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XR(t){const e=ht.fromString(t);return ze(tk(e),10190,{key:e.toString()}),e}function Lg(t,e){return Py(t.databaseId,e.path)}function sm(t,e){const n=XR(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(JR(n))}function QR(t,e){return Py(t.databaseId,e)}function SU(t){const e=XR(t);return e.length===4?ht.emptyPath():JR(e)}function Mg(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JR(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vT(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function AU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ze(h===void 0||typeof h=="string",58123),Wt.fromBase64String(h||"")):(ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?Y.UNKNOWN:zR(c.code);return new ue(h,c.message||"")}(o);n=new KR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sm(t,r.document.name),i=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):Ee.min(),a=new On({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Th(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sm(t,r.document),i=r.readTime?Br(r.readTime):Ee.min(),o=tn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sm(t,r.document),i=r.removedTargetIds||[];n=new Th([],i,s,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new mU(s,i),a=r.targetId;n=new GR(a,o)}}return n}function CU(t,e){let n;if(e instanceof Nf)n={update:vT(t,e.key,e.value)};else if(e instanceof qR)n={delete:Lg(t,e.key)};else if(e instanceof uo)n={update:vT(t,e.key,e.data),updateMask:LU(e.fieldMask)};else{if(!(e instanceof dU))return _e(16599,{ft:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof gd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _d)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:TU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e(27497)}(t,e.precondition)),n}function IU(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Br(s.updateTime):Br(i);return o.isEqual(Ee.min())&&(o=Br(i)),new cU(o,s.transformResults||[])}(n,e))):[]}function RU(t,e){return{documents:[QR(t,e.path)]}}function kU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QR(t,s);const i=function(c){if(c.length!==0)return ek(zr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Lo(f.field),direction:xU(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Og(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function PU(t){let e=SU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const f=ZR(d);return f instanceof zr&&kR(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new md(Mo(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Tf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new pd(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new pd(g,f)}(n.endAt)),YB(e,s,o,i,a,"F",l,c)}function NU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mo(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mo(n.unaryFilter.field);return At.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mo(n.unaryFilter.field);return At.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mo(n.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(Mo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>ZR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function xU(t){return wU[t]}function OU(t){return vU[t]}function DU(t){return EU[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Mo(t){return jt.fromServerFormat(t.fieldPath)}function ek(t){return t instanceof At?function(n){if(n.op==="=="){if(aT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(oT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(oT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:OU(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(s=>ek(s));return r.length===1?r[0]:{compositeFilter:{op:DU(n.op),filters:r}}}(t):_e(54877,{filter:t})}function LU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.wt=e}}function VU(t){const e=PU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.Cn=new $U}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Zs.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class $U{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ct(ht.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ct(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nk=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(nk,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new wa(0)}static lr(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",BU=1048576;function TT([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class UU{constructor(e){this.Er=e,this.buffer=new Ct(TT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){se(bT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ga(n)?se(bT,"Ignoring IndexedDB error during garbage collection: ",n):await za(n)}await this.mr(3e5)})}}class jU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(bf.le);const r=new UU(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(ET)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Oo()<=Pe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function WU(t,e){return new jU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&rc(r.mutation,s,mr.empty(),Tt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ml();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=bs();const o=nc(),a=function(){return nc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof uo)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),rc(h.mutation,c,h.mutation.getFieldMask(),Tt.now())):o.set(c.key,mr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new zU(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nc();let s=new at((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||mr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(s.get(a.batchId)||Ne()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=VR();h.forEach(f=>{if(!i.has(f)){const g=jR(n.get(f),r.get(f));g!==null&&d.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(Ni());let a=bc,l=i;return o.next(c=>j.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ne())).next(h=>({batchId:a,changes:MR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=Ml();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ml();return this.indexManager.getCollectionParents(e,i).next(a=>j.forEach(a,l=>{const c=function(d,f){return new Af(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,tn.newInvalidDocument(h)))});let a=Ml();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&rc(h.mutation,c,mr.empty(),Tt.now()),Rf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return j.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:VU(s.bundledQuery),readTime:Br(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.overlays=new at(me.comparator),this.Qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=Ni(),i=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new at((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ni(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ni(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return j.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pU(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ne(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.$r=new Ct(Pt.Ur),this.Kr=new Ct(Pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Pt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new me(new ht([])),r=new Pt(n,e),s=new Pt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new me(new ht([])),r=new Pt(n,e),s=new Pt(n,e+1);let i=Ne();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return me.comparator(e.key,n.key)||Ie(e.Zr,n.Zr)}static Wr(e,n){return Ie(e.Zr,n.Zr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(Pt.Ur)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?by:this.nr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ie);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),j.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new me(i),0);let a=new Ct(Ie);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),j.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return j.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Pt(n,0),s=this.Xr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.ii=e,this.docs=function(){return new at(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=bs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():tn.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bs();const o=n.path,a=new me(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||IB(CB(h),r)<=0||(s.has(h.key)||Rf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e(9500)}si(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZU(this)}getSize(e){return j.resolve(this.size)}}class ZU extends qU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.persistence=e,this.oi=new co(n=>Ay(n),Cy),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this._i=0,this.ai=new Ny,this.targetCount=0,this.ui=wa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),j.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new wa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Tr(n),j.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.ci={},this.overlays={},this.li=new bf(0),this.hi=!1,this.hi=!0,this.Pi=new XU,this.referenceDelegate=e(this),this.Ti=new e4(this),this.indexManager=new FU,this.remoteDocumentCache=function(s){return new JU(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new MU(n),this.Ei=new KU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new QU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new t4(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return j.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class t4 extends kB{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.Vi=new Ny,this.mi=null}static fi(e){return new xy(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.gi,r=>{const s=me.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return j.or([()=>j.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.yi=new co(r=>xB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=WU(this,n)}static fi(e,n){return new wd(e,n)}di(){}Ai(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return j.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),j.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}Dr(e,n,r){return j.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Oy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return a1()?8:PB(vr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new n4;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Oo()<=Pe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),j.resolve()):(Oo()<=Pe.DEBUG&&se("QueryEngine","Query:",Do(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Oo()<=Pe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):j.resolve())}ws(e,n){if(hT(n))return j.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xg(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,xg(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return hT(n)||s.isEqual(Ee.min())?j.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?j.resolve(null):(Oo()<=Pe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Do(n)),this.Fs(e,o,n,AB(s,bc)).next(a=>a))})}vs(e,n){let r=new Ct(DR(e));return n.forEach((s,i)=>{Rf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Oo()<=Pe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Do(n)),this.ys.getDocumentsMatchingQuery(e,n,Zs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LocalStore",s4=3e8;class i4{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new at(Ie),this.Os=new co(i=>Ay(i),Cy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function o4(t,e,n,r){return new i4(t,e,n,r)}async function sk(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ne();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function a4(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=j.resolve();return f.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(y=>{const T=c.docVersions.get(_);ze(T!==null,48541),y.version.compareTo(T)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ik(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function l4(t,e){const n=be(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,d)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Wt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),function(y,T,N){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=s4?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(f,g,h)&&a.push(n.Ti.updateTargetData(i,g))});let l=bs(),c=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(c4(i,o,e.documentUpdates).next(h=>{l=h.qs,c=h.Qs})),!r.isEqual(Ee.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(d=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function c4(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=bs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se(Dy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function u4(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=by),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h4(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Vg(t,e,n){const r=be(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ga(o))throw o;se(Dy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function ST(t,e,n){const r=be(t);let s=Ee.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=be(l),f=d.Os.get(h);return f!==void 0?j.resolve(d.xs.get(f)):d.Ti.getTargetData(c,h)}(r,o,$r(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:Ne())).next(a=>(d4(r,JB(e),a),{documents:a,$s:i})))}function d4(t,e,n){let r=t.Ns.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class AT{constructor(){this.activeTargetIds=sU()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.xo=new AT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new AT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="ConnectivityMonitor";class IT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){se(CT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){se(CT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function Fg(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",m4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Fg(),a=this.jo(e,n.toUriEncodedString());se(im,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),h=Fa(c);return this.Jo(e,a,l,r,h).then(d=>(se(im,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ma(im,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=m4[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class y4 extends g4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Fg();return new Promise((a,l)=>{const c=new lR;c.setWithCredentials(!0),c.listenOnce(cR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case wh.NO_ERROR:const d=c.getResponseJson();se(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case wh.TIMEOUT:se(Yt,`RPC '${e}' ${o} timed out`),l(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const f=c.getStatus();if(se(Yt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const y=function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(O)>=0?O:Y.UNKNOWN}(_.status);l(new ue(y,_.message))}else l(new ue(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{se(Yt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);se(Yt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Fg(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dR(),a=hR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");se(Yt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const _=new _4({Zo:T=>{g?se(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(se(Yt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),se(Yt,`RPC '${e}' stream ${s} sending:`,T),d.send(T))},Xo:()=>d.close()}),y=(T,N,O)=>{T.listen(N,x=>{try{O(x)}catch(D){setTimeout(()=>{throw D},0)}})};return y(d,Ll.EventType.OPEN,()=>{g||(se(Yt,`RPC '${e}' stream ${s} transport opened.`),_.__())}),y(d,Ll.EventType.CLOSE,()=>{g||(g=!0,se(Yt,`RPC '${e}' stream ${s} transport closed`),_.u_())}),y(d,Ll.EventType.ERROR,T=>{g||(g=!0,ma(Yt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),_.u_(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ll.EventType.MESSAGE,T=>{var N;if(!g){const O=T.data[0];ze(!!O,16349);const x=O,D=(x==null?void 0:x.error)||((N=x[0])===null||N===void 0?void 0:N.error);if(D){se(Yt,`RPC '${e}' stream ${s} received error:`,D);const M=D.status;let V=function(w){const A=Et[w];if(A!==void 0)return zR(A)}(M),C=D.message;V===void 0&&(V=Y.INTERNAL,C="Unknown error status: "+M+" with message "+D.message),g=!0,_.u_(new ue(V,C)),d.close()}else se(Yt,`RPC '${e}' stream ${s} received:`,O),_.c_(O)}}),y(a,uR.STAT_EVENT,T=>{T.stat===Cg.PROXY?se(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Cg.NOPROXY&&se(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new bU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="PersistentStream";class ak{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ok(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return se(RT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(se(RT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w4 extends ak{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=AU(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Br(o.readTime):Ee.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Mg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ng(l)?{documents:RU(i,l)}:{query:kU(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YR(i,o.resumeToken);const c=Og(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=yd(i,o.snapshotVersion.toTimestamp());const c=Og(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=NU(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Mg(this.serializer),n.removeTarget=e,this.L_(n)}}class v4 extends ak{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=IU(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Mg(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CU(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class b4 extends E4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Dg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(Y.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Dg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Y.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class T4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Es(n),this.oa=!1):se("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="RemoteStore";class S4{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{ho(this)&&(se(Ki,"Restarting streams for network reachability change."),await async function(l){const c=be(l);c.Ta.add(4),await Yc(c),c.da.set("Unknown"),c.Ta.delete(4),await Df(c)}(this))})}),this.da=new T4(r,s)}}async function Df(t){if(ho(t))for(const e of t.Ia)await e(!0)}async function Yc(t){for(const e of t.Ia)await e(!1)}function lk(t,e){const n=be(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Fy(n)?Vy(n):Ka(n).M_()&&My(n,e))}function Ly(t,e){const n=be(t),r=Ka(n);n.Pa.delete(e),r.M_()&&ck(n,e),n.Pa.size===0&&(r.M_()?r.N_():ho(n)&&n.da.set("Unknown"))}function My(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).H_(e)}function ck(t,e){t.Aa.Ke(e),Ka(t).J_(e)}function Vy(t){t.Aa=new yU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.da._a()}function Fy(t){return ho(t)&&!Ka(t).F_()&&t.Pa.size>0}function ho(t){return be(t).Ta.size===0}function uk(t){t.Aa=void 0}async function A4(t){t.da.set("Online")}async function C4(t){t.Pa.forEach((e,n)=>{My(t,e)})}async function I4(t,e){uk(t),Fy(t)?(t.da.ca(e),Vy(t)):t.da.set("Unknown")}async function R4(t,e,n){if(t.da.set("Online"),e instanceof KR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){se(Ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vd(t,r)}else if(e instanceof Th?t.Aa.Xe(e):e instanceof GR?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ee.min()))try{const r=await ik(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Pa.get(c);h&&i.Pa.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Pa.get(l);if(!h)return;i.Pa.set(l,h.withResumeToken(Wt.EMPTY_BYTE_STRING,h.snapshotVersion)),ck(i,l);const d=new js(h.target,l,c,h.sequenceNumber);My(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se(Ki,"Failed to raise snapshot:",r),await vd(t,r)}}async function vd(t,e,n){if(!Ga(e))throw e;t.Ta.add(1),await Yc(t),t.da.set("Offline"),n||(n=()=>ik(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Ki,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Df(t)})}function hk(t,e){return e().catch(n=>vd(t,n,e))}async function Lf(t){const e=be(t),n=ri(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:by;for(;k4(e);)try{const s=await u4(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,P4(e,s)}catch(s){await vd(e,s)}dk(e)&&fk(e)}function k4(t){return ho(t)&&t.ha.length<10}function P4(t,e){t.ha.push(e);const n=ri(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function dk(t){return ho(t)&&!ri(t).F_()&&t.ha.length>0}function fk(t){ri(t).start()}async function N4(t){ri(t).ta()}async function x4(t){const e=ri(t);for(const n of t.ha)e.Z_(n.mutations)}async function O4(t,e,n){const r=t.ha.shift(),s=Ry.from(r,e,n);await hk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lf(t)}async function D4(t,e){e&&ri(t).Y_&&await async function(r,s){if(function(o){return gU(o)&&o!==Y.ABORTED}(s.code)){const i=r.ha.shift();ri(r).O_(),await hk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lf(r)}}(t,e),dk(t)&&fk(t)}async function kT(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),se(Ki,"RemoteStore received new credentials");const r=ho(n);n.Ta.add(3),await Yc(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Df(n)}async function L4(t,e){const n=be(t);e?(n.Ta.delete(2),await Df(n)):e||(n.Ta.add(2),await Yc(n),n.da.set("Unknown"))}function Ka(t){return t.Ra||(t.Ra=function(n,r,s){const i=be(n);return i.ra(),new w4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:A4.bind(null,t),n_:C4.bind(null,t),i_:I4.bind(null,t),j_:R4.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Fy(t)?Vy(t):t.da.set("Unknown")):(await t.Ra.stop(),uk(t))})),t.Ra}function ri(t){return t.Va||(t.Va=function(n,r,s){const i=be(n);return i.ra(),new v4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:N4.bind(null,t),i_:D4.bind(null,t),X_:x4.bind(null,t),ea:O4.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Lf(t)):(await t.Va.stop(),t.ha.length>0&&(se(Ki,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $y(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(t,e){if(Es("AsyncQueue",`${e}: ${t}`),Ga(t))return new ue(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Ml(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.ma=new at(me.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class va{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new va(e,n,na.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class V4{constructor(){this.queries=NT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=be(n),i=s.queries;s.queries=NT(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function NT(){return new co(t=>OR(t),If)}async function Uy(t,e){const n=be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new M4,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=By(o,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&jy(n)}async function Hy(t,e){const n=be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F4(t,e){const n=be(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&jy(n)}function $4(t,e,n){const r=be(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function jy(t){t.ba.forEach(e=>{e.next()})}var $g,xT;(xT=$g||($g={})).Ca="default",xT.Cache="cache";class Wy{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==$g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class mk{constructor(e){this.key=e}}class B4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ne(),this.mutatedKeys=Ne(),this.Ha=DR(e),this.Ja=new na(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new PT,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const f=s.get(h),g=Rf(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?_!==y&&(r.track({type:3,doc:g}),T=!0):this.eu(f,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Ha(g,l)>0||c&&this.Ha(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),T=!0):f&&!g&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((h,d)=>function(g,_){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:T})}};return y(g)-y(_)}(h.type,d.type)||this.Ha(h.doc,d.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new va(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new PT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ne(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new mk(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new pk(r))}),n}su(e){this.Ga=e.$s,this.ja=Ne();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return va.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const qy="SyncEngine";class U4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class H4{constructor(e){this.key=e,this._u=!1}}class j4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new co(a=>OR(a),If),this.cu=new Map,this.lu=new Set,this.hu=new at(me.comparator),this.Pu=new Map,this.Tu=new Ny,this.Iu={},this.Eu=new Map,this.du=wa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function W4(t,e,n=!0){const r=Ek(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await gk(r,e,n,!0),s}async function q4(t,e){const n=Ek(t);await gk(n,e,!0,!1)}async function gk(t,e,n,r){const s=await h4(t.localStore,$r(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await z4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lk(t.remoteStore,s),a}async function z4(t,e,n,r,s){t.Ru=(d,f,g)=>async function(y,T,N,O){let x=T.view.Za(N);x.Cs&&(x=await ST(y.localStore,T.query,!1).then(({documents:C})=>T.view.Za(C,x)));const D=O&&O.targetChanges.get(T.targetId),M=O&&O.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(x,y.isPrimaryClient,D,M);return DT(y,T.targetId,V.ru),V.snapshot}(t,d,f,g);const i=await ST(t.localStore,e,!0),o=new B4(e,i.$s),a=o.Za(i.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);DT(t,n,c.ru);const h=new U4(e,n,o);return t.uu.set(e,h),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function G4(t,e,n){const r=be(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!If(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ly(r.remoteStore,s.targetId),Bg(r,s.targetId)}).catch(za)):(Bg(r,s.targetId),await Vg(r.localStore,s.targetId,!0))}async function K4(t,e){const n=be(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ly(n.remoteStore,r.targetId))}async function Y4(t,e,n){const r=n5(t);try{const s=await function(o,a){const l=be(o),c=Tt.now(),h=a.reduce((g,_)=>g.add(_.key),Ne());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=bs(),y=Ne();return l.Bs.getEntries(g,h).next(T=>{_=T,_.forEach((N,O)=>{O.isValidDocument()||(y=y.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(T=>{d=T;const N=[];for(const O of a){const x=hU(O,d.get(O.key).overlayedDocument);x!=null&&N.push(new uo(O.key,x,CR(x.value.mapValue),ds.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,N,a)}).next(T=>{f=T;const N=T.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(g,T.batchId,N)})}).then(()=>({batchId:f.batchId,changes:MR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new at(Ie)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Xc(r,s.changes),await Lf(r.remoteStore)}catch(s){const i=By(s,"Failed to persist write");n.reject(i)}}async function _k(t,e){const n=be(t);try{const r=await l4(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?ze(o._u,14607):s.removedDocuments.size>0&&(ze(o._u,42227),o._u=!1))}),await Xc(n,r,e)}catch(r){await za(r)}}function OT(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=be(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.ya)f.Da(a)&&(c=!0)}),c&&jy(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X4(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new at(me.comparator);o=o.insert(i,tn.newNoDocument(i,Ee.min()));const a=Ne().add(i),l=new xf(Ee.min(),new Map,new at(Ie),o,a);await _k(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),zy(r)}else await Vg(r.localStore,e,!1).then(()=>Bg(r,e,n)).catch(za)}async function Q4(t,e){const n=be(t),r=e.batch.batchId;try{const s=await a4(n.localStore,e);wk(n,r,null),yk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(n,s)}catch(s){await za(s)}}async function J4(t,e,n){const r=be(t);try{const s=await function(o,a){const l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ze(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);wk(r,e,n),yk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xc(r,s)}catch(s){await za(s)}}function yk(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function wk(t,e,n){const r=be(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||vk(t,r)})}function vk(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Ly(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),zy(t))}function DT(t,e,n){for(const r of n)r instanceof pk?(t.Tu.addReference(r.key,e),Z4(t,r)):r instanceof mk?(se(qy,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||vk(t,r.key)):_e(19791,{mu:r})}function Z4(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(se(qy,"New document in limbo: "+n),t.lu.add(r),zy(t))}function zy(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new me(ht.fromString(e)),r=t.du.next();t.Pu.set(r,new H4(n)),t.hu=t.hu.insert(n,r),lk(t.remoteStore,new js($r(Cf(n.path)),r,"TargetPurposeLimboResolution",bf.le))}}async function Xc(t,e,n){const r=be(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=Oy.Rs(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const h=be(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,f=>j.forEach(f.ds,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>j.forEach(f.As,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Ga(d))throw d;se(Dy,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.xs.get(f),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);h.xs=h.xs.insert(f,y)}}}(r.localStore,i))}async function e5(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){se(qy,"User change. New user:",e.toKey());const r=await sk(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ue(Y.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(n,r.ks)}}function t5(t,e){const n=be(t),r=n.Pu.get(e);if(r&&r._u)return Ne().add(r.key);{let s=Ne();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function Ek(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X4.bind(null,e),e.au.j_=F4.bind(null,e.eventManager),e.au.Vu=$4.bind(null,e.eventManager),e}function n5(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J4.bind(null,e),e}class Ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return o4(this.persistence,new r4,e.initialUser,this.serializer)}yu(e){return new rk(xy.fi,this.serializer)}pu(e){return new f4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ed.provider={build:()=>new Ed};class r5 extends Ed{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ze(this.persistence.referenceDelegate instanceof wd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HU(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new rk(r=>wd.fi(r,n),this.serializer)}}class Ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e5.bind(null,this.syncEngine),await L4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V4}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=function(i){return new y4(i)}(e.databaseInfo);return function(i,o,a,l){return new b4(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new S4(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>OT(this.syncEngine,n,0),function(){return IT.C()?new IT:new p4}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const d=new j4(s,i,o,a,l,c);return h&&(d.Au=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=be(s);se(Ki,"RemoteStore shutting down."),i.Ta.add(5),await Yc(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ug.provider={build:()=>new Ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class s5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=gR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{se(si,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se(si,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=By(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(t,e){t.asyncQueue.verifyOperationInProgress(),se(si,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i5(t);se(si,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kT(e.remoteStore,s)),t._onlineComponents=e}async function i5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(si,"Using user provided OfflineComponentProvider");try{await am(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await am(t,new Ed)}}else se(si,"Using default OfflineComponentProvider"),await am(t,new r5(void 0));return t._offlineComponents}async function bk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(si,"Using user provided OnlineComponentProvider"),await LT(t,t._uninitializedComponentsProvider._online)):(se(si,"Using default OnlineComponentProvider"),await LT(t,new Ug))),t._onlineComponents}function o5(t){return bk(t).then(e=>e.syncEngine)}async function bd(t){const e=await bk(t),n=e.eventManager;return n.onListen=W4.bind(null,e.syncEngine),n.onUnlisten=G4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K4.bind(null,e.syncEngine),n}function a5(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new Gy({next:f=>{h.Cu(),o.enqueueAndForget(()=>Hy(i,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Wy(Cf(a.path),h,{includeMetadataChanges:!0,La:!0});return Uy(i,d)}(await bd(t),t.asyncQueue,e,n,r)),r.promise}function l5(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new Gy({next:f=>{h.Cu(),o.enqueueAndForget(()=>Hy(i,d)),f.fromCache&&l.source==="server"?c.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Wy(a,h,{includeMetadataChanges:!0,La:!0});return Uy(i,d)}(await bd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e,n){if(!n)throw new ue(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u5(t,e,n,r){if(e===!0&&r===!0)throw new ue(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VT(t){if(!me.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ky(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ky(t);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firestore.googleapis.com",FT=!0;class $T{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sk,this.ssl=FT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BU)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gB;switch(r.type){case"firstParty":return new vB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MT.get(n);r&&(se("ComponentProvider","Removing Datastore"),MT.delete(n),r.terminate())}(this),Promise.resolve()}}function h5(t,e,n,r={}){var s;t=Ur(t,Yy);const i=Fa(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(sC(`https://${l}`),oC("Firestore",!0)),o.host!==Sk&&o.host!==l&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Vh(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Xt.MOCK_USER;else{h=iC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Xt(f)}t._authCredentials=new _B(new pR(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qc(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Rc extends Qc{constructor(e,n,r){super(e,n,Cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new me(e))}withConverter(e){return new Rc(this.firestore,e,this._path)}}function Ak(t,e,...n){if(t=St(t),arguments.length===1&&(e=gR.newId()),c5("doc","path",e),t instanceof Yy){const r=ht.fromString(e,...n);return VT(r),new $n(t,null,new me(r))}{if(!(t instanceof $n||t instanceof Rc))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return VT(r),new $n(t.firestore,t instanceof Rc?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="AsyncQueue";class UT{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ok(this,"async_queue_retry"),this.ec=()=>{const r=om();r&&se(BT,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new hs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ga(e))throw e;se(BT,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Es("INTERNAL UNHANDLED ERROR: ",HT(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=$y.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&_e(47125,{_c:HT(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function HT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ea extends Yy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new UT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function d5(t,e){const n=typeof t=="object"?t:O_(),r=typeof t=="string"?t:dd,s=dC(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nC("firestore");i&&h5(s,...i)}return s}function Mf(t){if(t._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f5(t),t._firestoreClient}function f5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new LB(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Tk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new s5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Wt.fromBase64String(e))}catch(n){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ba(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^__.*__$/;class Ck{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ik(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{hc:t})}}class Jy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Td(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Ik(this.hc)&&p5.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class m5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}gc(e,n,r,s=!1){return new Jy({hc:e,methodName:n,fc:r,path:jt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g5(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new m5(t._databaseId,!!e.ignoreUndefinedProperties,n)}class $f extends Xy{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}function _5(t,e,n,r){const s=t.gc(1,e,n);kk("Data must be an object, but it was:",s,r);const i=[],o=On.empty();di(r,(l,c)=>{const h=Zy(e,l,n);c=St(c);const d=s.Ac(h);if(c instanceof $f)i.push(h);else{const f=Bf(c,d);f!=null&&(i.push(h),o.set(h,f))}});const a=new mr(i);return new Ck(o,a,s.fieldTransforms)}function y5(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[WT(e,r,n)],l=[s];if(i.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(WT(e,i[f])),l.push(i[f+1]);const c=[],h=On.empty();for(let f=a.length-1;f>=0;--f)if(!E5(c,a[f])){const g=a[f];let _=l[f];_=St(_);const y=o.Ac(g);if(_ instanceof $f)c.push(g);else{const T=Bf(_,y);T!=null&&(c.push(g),h.set(g,T))}}const d=new mr(c);return new Ck(h,d,o.fieldTransforms)}function Bf(t,e){if(Rk(t=St(t)))return kk("Unsupported field value:",e,t),w5(t,e);if(t instanceof Xy)return function(r,s){if(!Ik(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Bf(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Tt.fromDate(r);return{timestampValue:yd(s.serializer,i)}}if(r instanceof Tt){const i=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(s.serializer,i)}}if(r instanceof Ff)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:YR(s.serializer,r._byteString)};if(r instanceof $n){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Py(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qy)return function(o,a){return{mapValue:{fields:{[SR]:{stringValue:AR},[fd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return Iy(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Ky(r)}`)}(t,e)}function w5(t,e){const n={};return yR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,s)=>{const i=Bf(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Rk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Ff||t instanceof ba||t instanceof $n||t instanceof Xy||t instanceof Qy)}function kk(t,e,n){if(!Rk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ky(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function WT(t,e,n){if((e=St(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return Zy(t,e);throw Td("Field path arguments must be of type string or ",t,!1,void 0,n)}const v5=new RegExp("[~\\*/\\[\\]]");function Zy(t,e,n){if(e.search(v5)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Td(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ue(Y.INVALID_ARGUMENT,a+t+l)}function E5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b5 extends Pk{data(){return super.data()}}function Nk(t,e){return typeof e=="string"?Zy(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T5{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[fd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>_t(o.doubleValue));return new Qy(i)}convertGeoPoint(e){return new Ff(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=ei(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);ze(tk(r),9688,{name:e});const s=new Sc(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||Es(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ok extends Pk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sh extends Ok{data(e={}){return super.data(e)}}class Dk{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Fl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Sh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Fl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Sh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Fl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:S5(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){t=Ur(t,$n);const e=Ur(t.firestore,Ea);return a5(Mf(e),t._key).then(n=>Mk(e,t,n))}class ew extends T5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function A5(t){t=Ur(t,Qc);const e=Ur(t.firestore,Ea),n=Mf(e),r=new ew(e);return xk(t._query),l5(n,t._query).then(s=>new Dk(e,r,t,s))}function C5(t,e,n,...r){t=Ur(t,$n);const s=Ur(t.firestore,Ea),i=g5(s);let o;return o=typeof(e=St(e))=="string"||e instanceof Vf?y5(i,"updateDoc",t._key,e,n,r):_5(i,"updateDoc",t._key,e),I5(s,[o.toMutation(t._key,ds.exists(!0))])}function tw(t,...e){var n,r,s;t=St(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jT(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(jT(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,h;if(t instanceof $n)c=Ur(t.firestore,Ea),h=Cf(t._key.path),l={next:d=>{e[o]&&e[o](Mk(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ur(t,Qc);c=Ur(d.firestore,Ea),h=d._query;const f=new ew(c);l={next:g=>{e[o]&&e[o](new Dk(c,f,d,g))},error:e[o+1],complete:e[o+2]},xk(t._query)}return function(f,g,_,y){const T=new Gy(y),N=new Wy(g,T,_);return f.asyncQueue.enqueueAndForget(async()=>Uy(await bd(f),N)),()=>{T.Cu(),f.asyncQueue.enqueueAndForget(async()=>Hy(await bd(f),N))}}(Mf(c),h,a,l)}function I5(t,e){return function(r,s){const i=new hs;return r.asyncQueue.enqueueAndForget(async()=>Y4(await o5(r),s,i)),i.promise}(Mf(t),e)}function Mk(t,e,n){const r=n.docs.get(e._key),s=new ew(t);return new Ok(t,s,e._key,r,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){qa=s})(Ba),Wr(new Er("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ea(new yB(r.getProvider("auth-internal")),new EB(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Vn(Kb,Yb,e),Vn(Kb,Yb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebasestorage.googleapis.com",Fk="storageBucket",R5=2*60*1e3,k5=10*60*1e3,P5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ss{constructor(e,n,r=0){super(lm(e),`Firebase Storage: ${n} (${lm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function lm(t){return"storage/"+t}function nw(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(st.UNKNOWN,t)}function N5(t){return new ct(st.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function x5(t){return new ct(st.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function O5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(st.UNAUTHENTICATED,t)}function D5(){return new ct(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function L5(t){return new ct(st.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $k(){return new ct(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bk(){return new ct(st.CANCELED,"User canceled the upload/download.")}function M5(t){return new ct(st.INVALID_URL,"Invalid URL '"+t+"'.")}function V5(t){return new ct(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F5(){return new ct(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fk+"' property when initializing the app?")}function Uk(){return new ct(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $5(){return new ct(st.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function B5(){return new ct(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function U5(t){return new ct(st.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hg(t){return new ct(st.INVALID_ARGUMENT,t)}function Hk(){return new ct(st.APP_DELETED,"The Firebase app was deleted.")}function H5(t){return new ct(st.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sc(t,e){return new ct(st.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rl(t){throw new ct(st.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw V5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${s}/o${f}`,"i"),_={bucket:1,path:3},y=n===Vk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",N=new RegExp(`^https?://${y}/${s}/${T}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:g,indices:_,postModify:c},{regex:N,indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<x.length;D++){const M=x[D],V=M.regex.exec(e);if(V){const C=V[M.indices.bucket];let E=V[M.indices.path];E||(E=""),r=new Ln(C,E),M.postModify(r);break}}if(r==null)throw M5(e);return r}}class j5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...T){c||(c=!0,e.apply(null,T))}function d(T){s=setTimeout(()=>{s=null,t(g,l())},T)}function f(){i&&clearTimeout(i)}function g(T,...N){if(c){f();return}if(T){f(),h.call(null,T,...N);return}if(l()||o){f(),h.call(null,T,...N);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}let _=!1;function y(T){_||(_=!0,f(),!c&&(s!==null?(T||(a=2),clearTimeout(s),d(0)):T||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function q5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){return t!==void 0}function G5(t){return typeof t=="function"}function K5(t){return typeof t=="object"&&!Array.isArray(t)}function Uf(t){return typeof t=="string"||t instanceof String}function qT(t){return rw()&&t instanceof Blob}function rw(){return typeof Blob<"u"}function zT(t,e,n,r){if(r<e)throw Hg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Fi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fi||(Fi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,s,i,o,a,l,c,h,d,f=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,y)=>{this.resolve_=_,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ku(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Fi.NO_ERROR,l=i.getStatus();if(!a||Wk(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Fi.ABORT;r(!1,new Ku(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ku(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());z5(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=nw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Hk():Bk();o(l)}else{const l=$k();o(l)}};this.canceled_?n(!1,new Ku(!1,null,!0)):this.backoffId_=W5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function X5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Q5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Z5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e6(t,e,n,r,s,i,o=!0,a=!1){const l=jk(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return J5(h,e),X5(h,n),Q5(h,i),Z5(h,r),new Y5(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n6(...t){const e=t6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rw())return new Blob(t);throw new ct(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){if(typeof atob>"u")throw U5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cm{constructor(e,n){this.data=e,this.contentType=n||null}}function i6(t,e){switch(t){case Fr.RAW:return new cm(qk(e));case Fr.BASE64:case Fr.BASE64URL:return new cm(zk(t,e));case Fr.DATA_URL:return new cm(a6(e),l6(e))}throw nw()}function qk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o6(t){let e;try{e=decodeURIComponent(t)}catch{throw sc(Fr.DATA_URL,"Malformed data URL.")}return qk(e)}function zk(t,e){switch(t){case Fr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw sc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Fr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw sc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s6(e)}catch(s){throw s.message.includes("polyfill")?s:sc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Gk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw sc(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=c6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function a6(t){const e=new Gk(t);return e.base64?zk(Fr.BASE64,e.rest):o6(e.rest)}function l6(t){return new Gk(t).contentType}function c6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){let r=0,s="";qT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(qT(this.data_)){const r=this.data_,s=r6(r,e,n);return s===null?null:new Us(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Us(r,!0)}}static getBlob(...e){if(rw()){const n=e.map(r=>r instanceof Us?r.data_:r);return new Us(n6.apply(null,n))}else{const n=e.map(o=>Uf(o)?i6(Fr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Us(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){let e;try{e=JSON.parse(t)}catch{return null}return K5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Yk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e){return e}class an{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||d6}}let Yu=null;function f6(t){return!Uf(t)||t.length<2?t:Yk(t)}function Hf(){if(Yu)return Yu;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(i,o){return f6(o)}const n=new an("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new an("size");return s.xform=r,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),Yu=t,Yu}function p6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Ln(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function m6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return p6(r,t),r}function Xk(t,e,n){const r=Kk(e);return r===null?null:m6(t,r,n)}function g6(t,e,n,r){const s=Kk(e);if(s===null||!Uf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),g=fo(f,n,r),_=jk({alt:"media",token:c});return g+_})[0]}function sw(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class fi{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t){if(!t)throw nw()}function jf(t,e){function n(r,s){const i=Xk(t,s,e);return fs(i!==null),i}return n}function _6(t,e){function n(r,s){const i=Xk(t,s,e);return fs(i!==null),g6(i,s,t.host,t._protocol)}return n}function Jc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=D5():s=O5():n.getStatus()===402?s=x5(t.bucket):n.getStatus()===403?s=L5(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Wf(t){const e=Jc(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=N5(t.path)),i.serverResponse=s.serverResponse,i}return n}function Qk(t,e,n){const r=e.fullServerUrl(),s=fo(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new fi(s,i,jf(t,n),o);return a.errorHandler=Wf(e),a}function y6(t,e,n){const r=e.fullServerUrl(),s=fo(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new fi(s,i,_6(t,n),o);return a.errorHandler=Wf(e),a}function w6(t,e,n,r){const s=e.fullServerUrl(),i=fo(s,t.host,t._protocol),o="PATCH",a=sw(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,h=new fi(i,o,jf(t,r),c);return h.headers=l,h.body=a,h.errorHandler=Wf(e),h}function v6(t,e){const n=e.fullServerUrl(),r=fo(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new fi(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Wf(e),a}function E6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Jk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=E6(null,e)),r}function b6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let D=0;D<2;D++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Jk(e,r,s),h=sw(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=Us.getBlob(d,r,f);if(g===null)throw Uk();const _={name:c.fullPath},y=fo(i,t.host,t._protocol),T="POST",N=t.maxUploadRetryTime,O=new fi(y,T,jf(t,n),N);return O.urlParams=_,O.headers=o,O.body=g.uploadData(),O.errorHandler=Jc(e),O}class Sd{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function iw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{fs(!1)}return fs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function T6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=Jk(e,r,s),a={name:o.fullPath},l=fo(i,t.host,t._protocol),c="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=sw(o,n),f=t.maxUploadRetryTime;function g(y){iw(y);let T;try{T=y.getResponseHeader("X-Goog-Upload-URL")}catch{fs(!1)}return fs(Uf(T)),T}const _=new fi(l,c,g,f);return _.urlParams=a,_.headers=h,_.body=d,_.errorHandler=Jc(e),_}function S6(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(c){const h=iw(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fs(!1)}d||fs(!1);const f=Number(d);return fs(!isNaN(f)),new Sd(f,r.size(),h==="final")}const o="POST",a=t.maxUploadRetryTime,l=new fi(n,o,i,a);return l.headers=s,l.errorHandler=Jc(e),l}const GT=256*1024;function A6(t,e,n,r,s,i,o,a){const l=new Sd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw $5();const c=l.total-l.current;let h=c;s>0&&(h=Math.min(h,s));const d=l.current,f=d+h;let g="";h===0?g="finalize":c===h?g="upload, finalize":g="upload";const _={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(d,f);if(y===null)throw Uk();function T(D,M){const V=iw(D,["active","final"]),C=l.current+h,E=r.size();let w;return V==="final"?w=jf(e,i)(D,M):w=null,new Sd(C,E,V==="final",w)}const N="POST",O=e.maxUploadRetryTime,x=new fi(n,N,T,O);return x.headers=_,x.body=y.uploadData(),x.progressCallback=a||null,x.errorHandler=Jc(t),x}const Tn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function um(t){switch(t){case"running":case"pausing":case"canceling":return Tn.RUNNING;case"paused":return Tn.PAUSED;case"success":return Tn.SUCCESS;case"canceled":return Tn.CANCELED;case"error":return Tn.ERROR;default:return Tn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r){if(G5(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class I6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Rl("cannot .send() more than once");if(Fa(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class R6 extends I6{initXhr(){this.xhr_.responseType="text"}}function os(){return new R6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Hf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(st.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(Wk(s.status,[]))if(i)s=$k();else{this.sleepTime=Math.max(this.sleepTime*2,P5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(st.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=T6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,os,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=S6(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,os,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=GT*this._chunkMultiplier,n=new Sd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=A6(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,os,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){GT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Qk(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,os,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=b6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,os,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Bk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=um(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new C6(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(um(this._state)){case Tn.SUCCESS:Ro(this._resolve.bind(null,this.snapshot))();break;case Tn.CANCELED:case Tn.ERROR:const n=this._reject;Ro(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(um(this._state)){case Tn.RUNNING:case Tn.PAUSED:e.next&&Ro(e.next.bind(e,this.snapshot))();break;case Tn.SUCCESS:e.complete&&Ro(e.complete.bind(e))();break;case Tn.CANCELED:case Tn.ERROR:e.error&&Ro(e.error.bind(e,this._error))();break;default:e.error&&Ro(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yi(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yk(this._location.path)}get storage(){return this._service}get parent(){const e=u6(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new Yi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw H5(e)}}function P6(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new k6(t,new Us(e),n)}function N6(t){t._throwIfRoot("getMetadata");const e=Qk(t.storage,t._location,Hf());return t.storage.makeRequestWithTokens(e,os)}function x6(t,e){t._throwIfRoot("updateMetadata");const n=w6(t.storage,t._location,e,Hf());return t.storage.makeRequestWithTokens(n,os)}function O6(t){t._throwIfRoot("getDownloadURL");const e=y6(t.storage,t._location,Hf());return t.storage.makeRequestWithTokens(e,os).then(n=>{if(n===null)throw B5();return n})}function D6(t){t._throwIfRoot("deleteObject");const e=v6(t.storage,t._location);return t.storage.makeRequestWithTokens(e,os)}function L6(t,e){const n=h6(t._location.path,e),r=new Ln(t._location.bucket,n);return new Yi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){return/^[A-Za-z]+:\/\//.test(t)}function V6(t,e){return new Yi(t,e)}function Zk(t,e){if(t instanceof ow){const n=t;if(n._bucket==null)throw F5();const r=new Yi(n,n._bucket);return e!=null?Zk(r,e):r}else return e!==void 0?L6(t,e):t}function F6(t,e){if(e&&M6(e)){if(t instanceof ow)return V6(t,e);throw Hg("To use ref(service, url), the first argument must be a Storage instance.")}else return Zk(t,e)}function KT(t,e){const n=e==null?void 0:e[Fk];return n==null?null:Ln.makeFromBucketSpec(n,t)}function $6(t,e,n,r={}){t.host=`${e}:${n}`;const s=Fa(e);s&&(sC(`https://${t.host}`),oC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:iC(i,t.app.options.projectId))}class ow{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=Vk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R5,this._maxUploadRetryTime=k5,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=KT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=KT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new j5(Hk());{const o=e6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const YT="@firebase/storage",XT="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="storage";function B6(t,e,n){return t=St(t),P6(t,e,n)}function U6(t){return t=St(t),N6(t)}function H6(t,e){return t=St(t),x6(t,e)}function j6(t){return t=St(t),O6(t)}function lZ(t){return t=St(t),D6(t)}function cZ(t,e){return t=St(t),F6(t,e)}function W6(t=O_(),e){t=St(t);const r=dC(t,eP).getImmediate({identifier:e}),s=nC("storage");return s&&q6(r,...s),r}function q6(t,e,n,r={}){$6(t,e,n,r)}function z6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ow(n,r,s,e,Ba)}function G6(){Wr(new Er(eP,z6,"PUBLIC").setMultipleInstances(!0)),Vn(YT,XT,""),Vn(YT,XT,"esm2017")}G6();const hm=new WeakMap;function tP(t,e){return hm.has(e)||hm.set(e,{f:{},r:{},s:{},u:{}}),hm.get(e)}function aw(t,e,n,r){if(!t)return n;const[s,i]=nP(t);if(!s)return n;const o=tP(void 0,r)[s]||{},a=e||i;return a&&a in o?o[a]:n}function K6(t,e,n,r){if(!t)return;const[s,i]=nP(t);if(!s)return;const o=tP(void 0,r)[s],a=e||i;if(a)return n.then(l=>{o[a]=l}).catch(Dn),a}function nP(t){return SV(t)||AV(t)?["f",t.path]:CV(t)?["r",t.toString()]:IV(t)?["s",t.toString()]:[]}const dm=new WeakMap;function lw(t,e,n){const r=Hc();dm.has(r)||dm.set(r,new Map);const s=dm.get(r),i=K6(e,n,t,r);return i&&s.set(i,t),i?()=>s.delete(i):Dn}const Y6={toFirestore(t){return t},fromFirestore(t,e){return t.exists()?Object.defineProperties(t.data(e),{id:{value:t.id}}):null}};function jg(t,e,n,r){if(!bV(t))return[t,{}];const s=[{},{}],i=Object.keys(n).reduce((a,l)=>{const c=n[l];return a[c.path]=c.data(),a},{});function o(a,l,c,h){l=l||{};const[d,f]=h;Object.getOwnPropertyNames(a).forEach(g=>{const _=Object.getOwnPropertyDescriptor(a,g);_&&!_.enumerable&&Object.defineProperty(d,g,_)});for(const g in a){const _=a[g];if(_==null||_ instanceof Date||_ instanceof Tt||_ instanceof Ff)d[g]=_;else if(Z_(_)){const y=c+g;d[g]=y in n?l[g]:_.path,f[y]=_.converter?_:_.withConverter(r.converter)}else if(Array.isArray(_)){d[g]=Array(_.length);for(let y=0;y<_.length;y++){const T=_[y];T&&T.path in i&&(d[g][y]=i[T.path])}o(_,l[g]||d[g],c+g+".",[d[g],f])}else oo(_)?(d[g]={},o(_,l[g],c+g+".",[d[g],f])):d[g]=_}}return o(t,e,"",s),s}const cw={reset:!1,wait:!0,maxRefDepth:2,converter:Y6,snapshotOptions:{serverTimestamps:"estimate"}};function Ad(t){for(const e in t)t[e].unsub()}function Wg(t,e,n,r,s,i,o,a,l){const[c,h]=jg(r.data(t.snapshotOptions),J_(e,n),s,t);i.set(e,n,c),qg(t,e,n,s,h,i,o,a,l)}function X6({ref:t,target:e,path:n,depth:r,resolve:s,reject:i,ops:o},a){const l=Object.create(null);let c=Dn;return a.once?Lk(t).then(h=>{h.exists()?Wg(a,e,n,h,l,o,r,s,i):(o.set(e,n,null),s())}).catch(i):c=tw(t,h=>{h.exists()?Wg(a,e,n,h,l,o,r,s,i):(o.set(e,n,null),s())},i),()=>{c(),Ad(l)}}function qg(t,e,n,r,s,i,o,a,l){const c=Object.keys(s);if(Object.keys(r).filter(y=>c.indexOf(y)<0).forEach(y=>{r[y].unsub(),delete r[y]}),!c.length||++o>t.maxRefDepth)return a(n);let d=0;const f=c.length,g=Object.create(null);function _(y){y in g&&++d>=f&&a(n)}c.forEach(y=>{const T=r[y],N=s[y],O=`${n}.${y}`;if(g[O]=!0,T)if(T.path!==N.path)T.unsub();else return;r[y]={data:()=>J_(e,O),unsub:X6({ref:N,target:e,path:O,depth:o,ops:i,resolve:_.bind(null,O),reject:l},t),path:N.path}})}function Q6(t,e,n,r,s,i){const o=Object.assign({},cw,i),{snapshotListenOptions:a,snapshotOptions:l,wait:c,once:h}=o,d="value";let f=bt(c?[]:t.value);c||n.set(t,d,[]);const g=r;let _,y=Dn;const T=[],N={added:({newIndex:x,doc:D})=>{T.splice(x,0,Object.create(null));const M=T[x],[V,C]=jg(D.data(l),void 0,M,o);n.add(Bt(f),x,V),qg(o,f,`${d}.${x}`,M,C,n,0,r.bind(null,D),s)},modified:({oldIndex:x,newIndex:D,doc:M})=>{const V=Bt(f),C=T[x],E=V[x],[w,A]=jg(M.data(l),E,C,o);T.splice(D,0,C),n.remove(V,x),n.add(V,D,w),qg(o,f,`${d}.${D}`,C,A,n,0,r,s)},removed:({oldIndex:x})=>{const D=Bt(f);n.remove(D,x),Ad(T.splice(x,1)[0])}};function O(x){const D=x.docChanges(a);if(!_&&D.length){_=!0;let M=0;const V=D.length,C=Object.create(null);for(let E=0;E<V;E++)C[D[E].doc.id]=!0;r=E=>{E&&E.id in C&&++M>=V&&(c&&(n.set(t,d,Bt(f)),f=t),g(Bt(f)),r=Dn)}}D.forEach(M=>{N[M.type](M)}),D.length||(c&&(n.set(t,d,Bt(f)),f=t),r(Bt(f)))}return h?A5(e).then(O).catch(s):y=tw(e,O,s),x=>{if(y(),x){const D=typeof x=="function"?x():[];n.set(t,d,D)}T.forEach(Ad)}}function J6(t,e,n,r,s,i){const o=Object.assign({},cw,i),a="value",l=Object.create(null);r=RV(r,()=>J_(t,a));let c=Dn;function h(d){d.exists()?Wg(o,t,a,d,l,n,0,r,s):(n.set(t,a,null),r(null))}return o.once?Lk(e).then(h).catch(s):c=tw(e,h,s),d=>{if(c(),d){const f=typeof d=="function"?d():null;n.set(t,a,f)}Ad(l)}}const QT=Symbol();function Z6(t,e){let n=Dn;const r=Object.assign({},cw,e),s=Bt(t),i=r.target||bt();PV()&&(r.once=!0);const o=aw(s,r.ssrKey,QT,Hc()),a=o!==QT;a&&(i.value=o);let l=!a;const c=bt(!1),h=bt(),d=Vi(),f=Mc();let g=Dn;function _(){let N=Bt(t);const O=new Promise((x,D)=>{if(n(r.reset),!N)return n=Dn,x(null);c.value=l,l=!0,N.converter||(N=N.withConverter(r.converter)),n=(Z_(N)?J6:Q6)(i,N,eH,x,D,r)}).catch(x=>(d.value===O&&(h.value=x),Promise.reject(x))).finally(()=>{d.value===O&&(c.value=!1)});d.value=O}let y=Dn;(dt(t)||typeof t=="function")&&(y=ls(t,_)),_(),s&&(g=lw(d.value,s,r.ssrKey)),io()&&df(()=>d.value),f&&af(T);function T(N=r.reset){y(),g(),n(N)}return Object.defineProperties(i,{error:{get:()=>h},data:{get:()=>i},pending:{get:()=>c},promise:{get:()=>d},stop:{get:()=>T}})}const eH={set:(t,e,n)=>vV(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)};function tH(t,e){return Z6(t,e)}function uZ(t){return W6(Hc(t))}function nH(t){const e=Bt(t),n=bt();n.value=aw(e,void 0,n.value,Hc());const r=Vi(Promise.resolve(null));let s=Dn;function i(){const o=Bt(t);return o?r.value=j6(o).then(a=>n.value=a).catch(()=>null):r.value=Promise.resolve(n.value=null),r.value}return i(),(dt(t)||typeof t=="function")&&ls(t,i),e&&(s=lw(r.value,e)),Mc()&&af(s),io()&&df(()=>r.value),{url:n,refresh:i,promise:r}}function rH(t){const e=Bt(t),n=Vi();e&&(n.value=aw(e,"m "+e.toString(),n.value,Hc()));const r=Vi(Promise.resolve(null));let s=Dn;function i(){const a=Bt(t);return a?r.value=U6(a).then(l=>n.value=l).catch(()=>null):r.value=Promise.resolve(n.value=null),r.value}function o(a){const l=Bt(t);return l&&(r.value=H6(l,a).then(c=>n.value=c)),r.value}return i(),dt(t)&&ls(t,i),e&&(s=lw(r.value,e)),Mc()&&af(s),io()&&df(()=>r.value),{metadata:n,update:o,refresh:i,promise:r}}function hZ(t){const{url:e,refresh:n}=nH(t),{metadata:r,update:s,refresh:i}=rH(t),o=Vi(),a=Vi(),l=Vi(),c=pt(()=>{const g=Bt(a);return g?g.bytesTransferred/g.totalBytes:null});let h=Dn;function d(g,_){const y=Bt(t),T=Bt(o);if(T&&T.cancel(),l.value=null,a.value=null,o.value=null,e.value=null,r.value=null,h(),y){const N=B6(y,g,_);return o.value=N,a.value=N.snapshot,h=N.on("state_changed",O=>{a.value=O}),N.then(O=>{r.value=O.metadata,n()}).catch(O=>(l.value=O,Promise.reject(O))).finally(()=>{h(),o.value=null})}}function f(){return Promise.all([n(),i()])}return(dt(t)||typeof t=="function")&&ls(t,g=>{g||(o.value&&(h(),o.value.cancel()),o.value=null,a.value=null),f()}),Mc()&&af(h),{url:e,metadata:r,snapshot:a,uploadTask:o,uploadError:l,uploadProgress:c,upload:d,updateMetadata:s,refresh:f}}function sH(t,{firebaseApp:e,modules:n=[]}){t.provide(Y0,e);for(const r of n)r(e,t)}const iH={apiKey:"AIzaSyBHHPp3fEE8MttU29QvVT7qO0Uowb4AbsA",authDomain:"keepthescore-co.firebaseapp.com",databaseURL:"https://keepthescore-co.firebaseio.com",projectId:"keepthescore-co",storageBucket:"keepthescore-co.appspot.com"},rP=fC(iH),sP=d5(rP),oH="modulepreload",aH=function(t){return"/static/"+t},JT={},En=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(c=>{if(c=aH(c),c in JT)return;JT[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":oH,h||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((g,_)=>{f.addEventListener("load",g),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function lH(t,e){return tH(Ak(sP,t,e))}function cH(t,e){return Ak(sP,t,e)}async function uH(t,e){await C5(t,e),dH()}async function qf(t){await uH(t.scoreboard_ref,t.score_data)}const iP=(t,e,n,r)=>{switch(e){case"increment":oP(r,t,n);break;case"set":Hs(r,t,n);break;case"toggle":fH(r,t);break;default:console.error("Invalid operation: "+e)}};async function Cd(t,e,n,r){iP(t,e,n,r.score_data),await qf(r)}async function dZ(t,e){t.forEach(n=>{const{field:r,operation:s,value:i}=Array.isArray(n)?{field:n[0],operation:n[1],value:n[2]}:n;iP(r,s,i,e.score_data)}),await qf(e)}async function fZ(t,e,n){const r=zg(n.score_data,t),s=zg(n.score_data,e);Hs(n.score_data,e,r),Hs(n.score_data,t,s),await qf(n)}function pZ(t,e){return t?t.includes(e)?e:new URL(t.replace(/%2F/g,"/")).pathname.split("/").pop():"team_logo_"+Date.now()+Math.floor(Math.random()*1e3)}function mZ(t){var e,n,r,s,i,o;return((r=(n=(e=t.score_data)==null?void 0:e.home)==null?void 0:n.img)==null?void 0:r.includes("home"))||((o=(i=(s=t.score_data)==null?void 0:s.away)==null?void 0:i.img)==null?void 0:o.includes("away"))}function gZ(t,e,n,r=!0){let s;r?s=e??n:s=n,document.documentElement.style.setProperty(t,s)}function hH(t,e,n,r=!0){let s;r?s=e??n:s=n,document.body.style.setProperty(t,s)}function _Z(t,e,n,r){if(zg(r.score_data,t)+e>n){console.log("Max value reached");return}Cd(t,"increment",e,r)}function dH(){const e=window.location.pathname.match(/\/([^/]+)\/?$/)[1];if(e.endsWith("e")&&Math.random()>.9){const n=`/api/${e}/board/ping`;fetch(n,{method:"POST",body:{}}).then(()=>console.debug("Pinged backend")).catch(r=>console.error("Error pinging backend:",r))}}function yZ(t){typeof t!="number"&&(t=0);let e=function(o,a){return("000"+o).slice(a*-1)},n=parseFloat(t).toFixed(3),r=Math.floor(n/60),s=Math.floor(n-r*60);const i=r.toString().length<=2?2:r.toString().length;return e(r,i)+":"+e(s,2)}function zg(t,e){const n=e.split(".");let r=t;for(let i=0;i<n.length-1;i++){const o=n[i];if(!r[o])return null;r=r[o]}const s=n[n.length-1];return r[s]}function oP(t,e,n=1){const r=e.split(".");let s=t;for(let o=0;o<r.length-1;o++){const a=r[o];s[a]||(s[a]={}),s=s[a]}const i=r[r.length-1];s[i]||(s[i]=0),!(s[i]===0&&n===-1)&&(s[i]+=n)}function Hs(t,e,n){const r=e.split(".");let s=t;for(let o=0;o<r.length-1;o++){const a=r[o];s[a]||(s[a]={}),s=s[a]}const i=r[r.length-1];s[i]=n}function fH(t,e){const n=e.split(".");let r=t;for(let i=0;i<n.length-1;i++){const o=n[i],a=n[i+1];Number.isInteger(Number(a))?Array.isArray(r[o])||(r[o]=[]):r[o]||(r[o]={}),r=r[o]}const s=n[n.length-1];if(Number.isInteger(Number(s))){if(!Array.isArray(r))throw new Error(`Expected array at "${n.slice(0,-1).join(".")}", but found an object.`);r[s]||(r[s]=!1)}else r[s]||(r[s]=!1);r[s]=!r[s]}async function wZ(t,e,n){let r=e;!t||t.trim()===""?await Cd("board.font_family","set","",n):(r=t,await Cd("board.font_family","set",t,n)),hH("--body-font",r,e)}async function vZ(t,e){await Cd("board.font_size_scale_factor","set",t,e)}async function EZ(t,e,n,r){const{victoryDanceAnimation:s,scoreAnimation:i,look:o,triggerField:a}=n;(s!=null&&s.isAnimation&&e===(s==null?void 0:s.onScore)||i!=null&&i.isAnimation&&e===(i==null?void 0:i.onScore))&&(o&&(await Hs(r.score_data,"game.victory_dance_bg_color",o.bgColor),await Hs(r.score_data,"game.victory_dance_color",o.txtColor),await Hs(r.score_data,"game.victory_dance_logo",o.logo)),await Hs(r.score_data,"game.victory_dance_team",t),await Hs(r.score_data,`game.${a}`,!0)),await oP(r.score_data,`${t}.score`,e),await qf(r)}function bZ(t){var n,r;return new URLSearchParams(window.location.search).get("layout")||((n=t==null?void 0:t.board)!=null&&n.wide_layout?"wide":(r=t==null?void 0:t.board)==null?void 0:r.layout)||"stacked"}function TZ(t){return t.length===9?t.slice(0,7)+"FF":t}function pH(){const t=bt(null),e=n=>{n.target.tagName==="INPUT"&&n.target.type==="text"||n.target.tagName==="TEXTAREA"||n.key===" "&&(n.preventDefault(),t.value=n.key,setTimeout(()=>t.value=null,100))};return $c(()=>{window.addEventListener("keydown",e)}),Bc(()=>{window.removeEventListener("keydown",e)}),t}var Ah={exports:{}};/**
 * jscolor - JavaScript Color Picker
 *
 * @link    http://jscolor.com
 * @license For open source use: GPLv3
 *          For commercial use: JSColor Commercial License
 * @author  Jan Odvarko - East Desire
 *
 * See usage examples at http://jscolor.com/examples/
 */var mH=Ah.exports,ZT;function gH(){return ZT||(ZT=1,function(t){(function(e,n){{t.exports=e.document?n(e):function(r){if(!r.document)throw new Error("jscolor needs a window with document");return n(r)};return}})(typeof window<"u"?window:mH,function(e){var n=function(){var r={initialized:!1,instances:[],readyQueue:[],register:function(){typeof e<"u"&&e.document&&(e.document.readyState!=="loading"?r.pub.init():e.document.addEventListener("DOMContentLoaded",r.pub.init,!1))},installBySelector:function(s,i){if(i=i?r.node(i):e.document,!i)throw new Error("Missing root node");for(var o=i.querySelectorAll(s),a=new RegExp("(^|\\s)("+r.pub.lookupClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),l=0;l<o.length;l+=1)if(!(o[l].jscolor&&o[l].jscolor instanceof r.pub)&&!(o[l].type!==void 0&&o[l].type.toLowerCase()=="color"&&r.isColorAttrSupported)){var c,h;if((c=r.getDataAttr(o[l],"jscolor"))!==null||o[l].className&&(h=o[l].className.match(a))){var d=o[l],f="";c!==null?f=c:h&&(console.warn('Installation using class name is DEPRECATED. Use data-jscolor="" attribute instead.'+r.docsRef),h[4]&&(f=h[4]));var g=null;if(f.trim())try{g=r.parseOptionsStr(f)}catch(_){console.warn(_+`
`+f)}try{new r.pub(d,g)}catch(_){console.warn(_)}}}},parseOptionsStr:function(s){var i=null;try{i=JSON.parse(s)}catch(o){if(r.pub.looseJSON)try{i=new Function("var opts = ("+s+'); return typeof opts === "object" ? opts : {};')()}catch(a){throw new Error("Could not evaluate jscolor options: "+a)}else throw new Error("Could not parse jscolor options as JSON: "+o)}return i},getInstances:function(){for(var s=[],i=0;i<r.instances.length;i+=1)r.instances[i]&&r.instances[i].targetElement&&s.push(r.instances[i]);return s},createEl:function(s){var i=e.document.createElement(s);return r.setData(i,"gui",!0),i},node:function(s){if(!s)return null;if(typeof s=="string"){var i=s,o=null;try{o=e.document.querySelector(i)}catch(a){return console.warn(a),null}return o||console.warn("No element matches the selector: %s",i),o}return r.isNode(s)?s:(console.warn("Invalid node of type %s: %s",typeof s,s),null)},isNode:function(s){return typeof Node=="object"?s instanceof Node:s&&typeof s=="object"&&typeof s.nodeType=="number"&&typeof s.nodeName=="string"},nodeName:function(s){return s&&s.nodeName?s.nodeName.toLowerCase():!1},removeChildren:function(s){for(;s.firstChild;)s.removeChild(s.firstChild)},isTextInput:function(s){return s&&r.nodeName(s)==="input"&&s.type.toLowerCase()==="text"},isButton:function(s){if(!s)return!1;var i=r.nodeName(s);return i==="button"||i==="input"&&["button","submit","reset"].indexOf(s.type.toLowerCase())>-1},isButtonEmpty:function(s){switch(r.nodeName(s)){case"input":return!s.value||s.value.trim()==="";case"button":return s.textContent.trim()===""}return null},isPassiveEventSupported:function(){var s=!1;try{var i=Object.defineProperty({},"passive",{get:function(){s=!0}});e.addEventListener("testPassive",null,i),e.removeEventListener("testPassive",null,i)}catch{}return s}(),isColorAttrSupported:function(){var s=e.document.createElement("input");return!!(s.setAttribute&&(s.setAttribute("type","color"),s.type.toLowerCase()=="color"))}(),dataProp:"_data_jscolor",setData:function(){var s=arguments[0];if(arguments.length===3){var i=s.hasOwnProperty(r.dataProp)?s[r.dataProp]:s[r.dataProp]={},o=arguments[1],a=arguments[2];return i[o]=a,!0}else if(arguments.length===2&&typeof arguments[1]=="object"){var i=s.hasOwnProperty(r.dataProp)?s[r.dataProp]:s[r.dataProp]={},l=arguments[1];for(var o in l)l.hasOwnProperty(o)&&(i[o]=l[o]);return!0}throw new Error("Invalid arguments")},removeData:function(){var s=arguments[0];if(!s.hasOwnProperty(r.dataProp))return!0;for(var i=1;i<arguments.length;i+=1){var o=arguments[i];delete s[r.dataProp][o]}return!0},getData:function(s,i,o){if(!s.hasOwnProperty(r.dataProp))if(o!==void 0)s[r.dataProp]={};else return;var a=s[r.dataProp];return!a.hasOwnProperty(i)&&o!==void 0&&(a[i]=o),a[i]},getDataAttr:function(s,i){var o="data-"+i,a=s.getAttribute(o);return a},setDataAttr:function(s,i,o){var a="data-"+i;s.setAttribute(a,o)},_attachedGroupEvents:{},attachGroupEvent:function(s,i,o,a){r._attachedGroupEvents.hasOwnProperty(s)||(r._attachedGroupEvents[s]=[]),r._attachedGroupEvents[s].push([i,o,a]),i.addEventListener(o,a,!1)},detachGroupEvents:function(s){if(r._attachedGroupEvents.hasOwnProperty(s)){for(var i=0;i<r._attachedGroupEvents[s].length;i+=1){var o=r._attachedGroupEvents[s][i];o[0].removeEventListener(o[1],o[2],!1)}delete r._attachedGroupEvents[s]}},preventDefault:function(s){s.preventDefault&&s.preventDefault(),s.returnValue=!1},triggerEvent:function(s,i,o,a){if(s){var l=null;return typeof Event=="function"?l=new Event(i,{bubbles:o,cancelable:a}):(l=e.document.createEvent("Event"),l.initEvent(i,o,a)),l?(r.setData(l,"internal",!0),s.dispatchEvent(l),!0):!1}},triggerInputEvent:function(s,i,o,a){s&&r.isTextInput(s)&&r.triggerEvent(s,i,o,a)},eventKey:function(s){var i={9:"Tab",13:"Enter",27:"Escape"};return typeof s.code=="string"?s.code:s.keyCode!==void 0&&i.hasOwnProperty(s.keyCode)?i[s.keyCode]:null},strList:function(s){return s?s.replace(/^\s+|\s+$/g,"").split(/\s+/):[]},hasClass:function(s,i){return i?s.classList!==void 0?s.classList.contains(i):(" "+s.className.replace(/\s+/g," ")+" ").indexOf(" "+i+" ")!=-1:!1},addClass:function(s,i){var o=r.strList(i);if(s.classList!==void 0){for(var a=0;a<o.length;a+=1)s.classList.add(o[a]);return}for(var a=0;a<o.length;a+=1)r.hasClass(s,o[a])||(s.className+=(s.className?" ":"")+o[a])},removeClass:function(s,i){var o=r.strList(i);if(s.classList!==void 0){for(var a=0;a<o.length;a+=1)s.classList.remove(o[a]);return}for(var a=0;a<o.length;a+=1){var l=new RegExp("^\\s*"+o[a]+"\\s*|\\s*"+o[a]+"\\s*$|\\s+"+o[a]+"(\\s+)","g");s.className=s.className.replace(l,"$1")}},getCompStyle:function(s){var i=e.getComputedStyle?e.getComputedStyle(s):s.currentStyle;return i||{}},setStyle:function(s,i,o,a){var l=o?"important":"",c=null;for(var h in i)if(i.hasOwnProperty(h)){var d=null;i[h]===null?(c||(c=r.getData(s,"origStyle")),c&&c.hasOwnProperty(h)&&(d=c[h])):(a&&(c||(c=r.getData(s,"origStyle",{})),c.hasOwnProperty(h)||(c[h]=s.style[h])),d=i[h]),d!==null&&s.style.setProperty(h,d,l)}},appendCss:function(s){var i=document.querySelector("head"),o=document.createElement("style");o.innerText=s,i.appendChild(o)},appendDefaultCss:function(s){r.appendCss([".jscolor-wrap, .jscolor-wrap div, .jscolor-wrap canvas { position:static; display:block; visibility:visible; overflow:visible; margin:0; padding:0; border:none; border-radius:0; outline:none; z-index:auto; float:none; width:auto; height:auto; left:auto; right:auto; top:auto; bottom:auto; min-width:0; min-height:0; max-width:none; max-height:none; background:none; clip:auto; opacity:1; transform:none; box-shadow:none; box-sizing:content-box; }",".jscolor-wrap { clear:both; }",".jscolor-wrap .jscolor-picker { position:relative; }",".jscolor-wrap .jscolor-shadow { position:absolute; left:0; top:0; width:100%; height:100%; }",".jscolor-wrap .jscolor-border { position:relative; }",".jscolor-wrap .jscolor-palette { position:absolute; }",".jscolor-wrap .jscolor-palette-sw { position:absolute; display:block; cursor:pointer; }",".jscolor-wrap .jscolor-btn { position:absolute; overflow:hidden; white-space:nowrap; font:13px sans-serif; text-align:center; cursor:pointer; }"].join(`
`))},hexColor:function(s,i,o){return"#"+(("0"+Math.round(s).toString(16)).slice(-2)+("0"+Math.round(i).toString(16)).slice(-2)+("0"+Math.round(o).toString(16)).slice(-2)).toUpperCase()},hexaColor:function(s,i,o,a){return"#"+(("0"+Math.round(s).toString(16)).slice(-2)+("0"+Math.round(i).toString(16)).slice(-2)+("0"+Math.round(o).toString(16)).slice(-2)+("0"+Math.round(a*255).toString(16)).slice(-2)).toUpperCase()},rgbColor:function(s,i,o){return"rgb("+Math.round(s)+","+Math.round(i)+","+Math.round(o)+")"},rgbaColor:function(s,i,o,a){return"rgba("+Math.round(s)+","+Math.round(i)+","+Math.round(o)+","+Math.round((a??1)*100)/100+")"},linearGradient:function(){function s(){for(var o="linear-gradient",a=["","-webkit-","-moz-","-o-","-ms-"],l=e.document.createElement("div"),c=0;c<a.length;c+=1){var h=a[c]+o,d=h+"(to right, rgba(0,0,0,0), rgba(0,0,0,0))";if(l.style.background=d,l.style.background)return h}return o}var i=s();return function(){return i+"("+Array.prototype.join.call(arguments,", ")+")"}}(),setBorderRadius:function(s,i){r.setStyle(s,{"border-radius":i||"0"})},setBoxShadow:function(s,i){r.setStyle(s,{"box-shadow":i||"none"})},getElementPos:function(s,i){var o=0,a=0,l=s.getBoundingClientRect();if(o=l.left,a=l.top,!i){var c=r.getViewPos();o+=c[0],a+=c[1]}return[o,a]},getElementSize:function(s){return[s.offsetWidth,s.offsetHeight]},getAbsPointerPos:function(s){var i=0,o=0;return typeof s.changedTouches<"u"&&s.changedTouches.length?(i=s.changedTouches[0].clientX,o=s.changedTouches[0].clientY):typeof s.clientX=="number"&&(i=s.clientX,o=s.clientY),{x:i,y:o}},getRelPointerPos:function(s){var i=s.target||s.srcElement,o=i.getBoundingClientRect(),a=0,l=0,c=0,h=0;return typeof s.changedTouches<"u"&&s.changedTouches.length?(c=s.changedTouches[0].clientX,h=s.changedTouches[0].clientY):typeof s.clientX=="number"&&(c=s.clientX,h=s.clientY),a=c-o.left,l=h-o.top,{x:a,y:l}},getViewPos:function(){var s=e.document.documentElement;return[(e.pageXOffset||s.scrollLeft)-(s.clientLeft||0),(e.pageYOffset||s.scrollTop)-(s.clientTop||0)]},getViewSize:function(){var s=e.document.documentElement;return[e.innerWidth||s.clientWidth,e.innerHeight||s.clientHeight]},RGB_HSV:function(s,i,o){s/=255,i/=255,o/=255;var a=Math.min(Math.min(s,i),o),l=Math.max(Math.max(s,i),o),c=l-a;if(c===0)return[null,0,100*l];var h=s===a?3+(o-i)/c:i===a?5+(s-o)/c:1+(i-s)/c;return[60*(h===6?0:h),100*(c/l),100*l]},HSV_RGB:function(s,i,o){var a=255*(o/100);if(s===null)return[a,a,a];s/=60,i/=100;var l=Math.floor(s),c=l%2?s-l:1-(s-l),h=a*(1-i),d=a*(1-i*c);switch(l){case 6:case 0:return[a,d,h];case 1:return[d,a,h];case 2:return[h,a,d];case 3:return[h,d,a];case 4:return[d,h,a];case 5:return[a,h,d]}},parseColorString:function(s){var i={rgba:null,format:null},o;if(o=s.match(/^\W*([0-9A-F]{3,8})\W*$/i)){if(o[1].length===8)i.format="hexa",i.rgba=[parseInt(o[1].slice(0,2),16),parseInt(o[1].slice(2,4),16),parseInt(o[1].slice(4,6),16),parseInt(o[1].slice(6,8),16)/255];else if(o[1].length===6)i.format="hex",i.rgba=[parseInt(o[1].slice(0,2),16),parseInt(o[1].slice(2,4),16),parseInt(o[1].slice(4,6),16),null];else if(o[1].length===3)i.format="hex",i.rgba=[parseInt(o[1].charAt(0)+o[1].charAt(0),16),parseInt(o[1].charAt(1)+o[1].charAt(1),16),parseInt(o[1].charAt(2)+o[1].charAt(2),16),null];else return!1;return i}if(o=s.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var a=o[1].split(","),l=/^\s*(\d+|\d*\.\d+|\d+\.\d*)\s*$/,c,h,d,f;if(a.length>=3&&(c=a[0].match(l))&&(h=a[1].match(l))&&(d=a[2].match(l)))return i.format="rgb",i.rgba=[parseFloat(c[1])||0,parseFloat(h[1])||0,parseFloat(d[1])||0,null],a.length>=4&&(f=a[3].match(l))&&(i.format="rgba",i.rgba[3]=parseFloat(f[1])||0),i}return!1},parsePaletteValue:function(s){var i=[];typeof s=="string"?s.replace(/#[0-9A-F]{3}\b|#[0-9A-F]{6}([0-9A-F]{2})?\b|rgba?\(([^)]*)\)/ig,function(c){i.push(c)}):Array.isArray(s)&&(i=s);for(var o=[],a=0;a<i.length;a++){var l=r.parseColorString(i[a]);l&&o.push(l)}return o},containsTranparentColor:function(s){for(var i=0;i<s.length;i++){var o=s[i].rgba[3];if(o!==null&&o<1)return!0}return!1},isAlphaFormat:function(s){switch(s.toLowerCase()){case"hexa":case"rgba":return!0}return!1},scaleCanvasForHighDPR:function(s){var i=e.devicePixelRatio||1;s.width*=i,s.height*=i;var o=s.getContext("2d");o.scale(i,i)},genColorPreviewCanvas:function(s,i,o,a){var l=Math.round(r.pub.previewSeparator.length),c=r.pub.chessboardSize,h=r.pub.chessboardColor1,d=r.pub.chessboardColor2,f=o||c*2,g=c*2,_=r.createEl("canvas"),y=_.getContext("2d");_.width=f,_.height=g,a&&r.scaleCanvasForHighDPR(_),y.fillStyle=h,y.fillRect(0,0,f,g),y.fillStyle=d;for(var T=0;T<f;T+=c*2)y.fillRect(T,0,c,c),y.fillRect(T+c,c,c,c);s&&(y.fillStyle=s,y.fillRect(0,0,f,g));var N=null;switch(i){case"left":N=0,y.clearRect(0,0,l/2,g);break;case"right":N=f-l,y.clearRect(f-l/2,0,l/2,g);break}if(N!==null){y.lineWidth=1;for(var O=0;O<r.pub.previewSeparator.length;O+=1)y.beginPath(),y.strokeStyle=r.pub.previewSeparator[O],y.moveTo(.5+N+O,0),y.lineTo(.5+N+O,g),y.stroke()}return{canvas:_,width:f,height:g}},genColorPreviewGradient:function(s,i,o){var a=[];return i&&o?a=["to "+{left:"right",right:"left"}[i],s+" 0%",s+" "+o+"px","rgba(0,0,0,0) "+(o+1)+"px","rgba(0,0,0,0) 100%"]:a=["to right",s+" 0%",s+" 100%"],r.linearGradient.apply(this,a)},redrawPosition:function(){if(!(!r.picker||!r.picker.owner)){var s=r.picker.owner;if(s.container!==e.document.body)r._drawPosition(s,0,0,"relative",!1);else{var i,o;s.fixed?(i=r.getElementPos(s.targetElement,!0),o=[0,0]):(i=r.getElementPos(s.targetElement),o=r.getViewPos());var a=r.getElementSize(s.targetElement),l=r.getViewSize(),c=r.getPickerDims(s),h=[c.borderW,c.borderH],d,f,g;switch(s.position.toLowerCase()){case"left":d=1,f=0,g=-1;break;case"right":d=1,f=0,g=1;break;case"top":d=0,f=1,g=-1;break;default:d=0,f=1,g=1;break}var _=(a[f]+h[f])/2;if(s.smartPosition)var y=[-o[d]+i[d]+h[d]>l[d]&&-o[d]+i[d]+a[d]/2>l[d]/2&&i[d]+a[d]-h[d]>=0?i[d]+a[d]-h[d]:i[d],-o[f]+i[f]+a[f]+h[f]-_+_*g>l[f]?-o[f]+i[f]+a[f]/2>l[f]/2&&i[f]+a[f]-_-_*g>=0?i[f]+a[f]-_-_*g:i[f]+a[f]-_+_*g:i[f]+a[f]-_+_*g>=0?i[f]+a[f]-_+_*g:i[f]+a[f]-_-_*g];else var y=[i[d],i[f]+a[f]-_+_*g];var T=y[d],N=y[f],O=s.fixed?"fixed":"absolute",x=(y[0]+h[0]>i[0]||y[0]<i[0]+a[0])&&y[1]+h[1]<i[1]+a[1];r._drawPosition(s,T,N,O,x)}}},_drawPosition:function(s,i,o,a,l){var c=l?0:s.shadowBlur;r.picker.wrap.style.position=a,(Math.round(parseFloat(r.picker.wrap.style.left))!==Math.round(i)||Math.round(parseFloat(r.picker.wrap.style.top))!==Math.round(o))&&(r.picker.wrap.style.left=i+"px",r.picker.wrap.style.top=o+"px"),r.setBoxShadow(r.picker.boxS,s.shadow?new r.BoxShadow(0,c,s.shadowBlur,0,s.shadowColor):null)},getPickerDims:function(s){var i=2*s.controlBorderWidth+s.width,o=2*s.controlBorderWidth+s.height,a=2*s.controlBorderWidth+2*r.getControlPadding(s)+s.sliderSize;r.getSliderChannel(s)&&(i+=a),s.hasAlphaChannel()&&(i+=a);var l=r.getPaletteDims(s,i);l.height&&(o+=l.height+s.padding),s.closeButton&&(o+=2*s.controlBorderWidth+s.padding+s.buttonHeight);var c=i+2*s.padding,h=o+2*s.padding;return{contentW:i,contentH:o,paddedW:c,paddedH:h,borderW:c+2*s.borderWidth,borderH:h+2*s.borderWidth,palette:l}},getPaletteDims:function(s,i){var o=0,a=0,l=0,c=0,h=0,d=s._palette?s._palette.length:0;return d&&(o=s.paletteCols,a=o>0?Math.ceil(d/o):0,l=Math.max(1,Math.floor((i-(o-1)*s.paletteSpacing)/o)),c=s.paletteHeight?Math.min(s.paletteHeight,l):l),a&&(h=a*c+(a-1)*s.paletteSpacing),{cols:o,rows:a,cellW:l,cellH:c,width:i,height:h}},getControlPadding:function(s){return Math.max(s.padding/2,2*s.pointerBorderWidth+s.pointerThickness-s.controlBorderWidth)},getPadYChannel:function(s){switch(s.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderChannel:function(s){if(s.mode.length>2)switch(s.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},triggerCallback:function(s,i){if(s[i]){var o=null;if(typeof s[i]=="string")try{o=new Function(s[i])}catch(a){console.error(a)}else o=s[i];o&&o.call(s)}},triggerGlobal:function(s){for(var i=r.getInstances(),o=0;o<i.length;o+=1)i[o].trigger(s)},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,onDocumentKeyUp:function(s){["Tab","Escape"].indexOf(r.eventKey(s))!==-1&&r.picker&&r.picker.owner&&r.picker.owner.tryHide()},onWindowResize:function(s){r.redrawPosition()},onWindowScroll:function(s){r.redrawPosition()},onParentScroll:function(s){r.picker&&r.picker.owner&&r.picker.owner.tryHide()},onDocumentMouseDown:function(s){var i=s.target||s.srcElement;if(i.jscolor&&i.jscolor instanceof r.pub)i.jscolor.showOnClick&&!i.disabled&&i.jscolor.show();else if(r.getData(i,"gui")){var o=r.getData(i,"control");o&&r.onControlPointerStart(s,i,r.getData(i,"control"),"mouse")}else r.picker&&r.picker.owner&&r.picker.owner.tryHide()},onPickerTouchStart:function(s){var i=s.target||s.srcElement;r.getData(i,"control")&&r.onControlPointerStart(s,i,r.getData(i,"control"),"touch")},onControlPointerStart:function(s,i,o,a){var l=r.getData(i,"instance");r.preventDefault(s);var c=function(_,y){r.attachGroupEvent("drag",_,r._pointerMoveEvent[a],r.onDocumentPointerMove(s,i,o,a,y)),r.attachGroupEvent("drag",_,r._pointerEndEvent[a],r.onDocumentPointerEnd(s,i,o,a))};if(c(e.document,[0,0]),e.parent&&e.frameElement){var h=e.frameElement.getBoundingClientRect(),d=[-h.left,-h.top];c(e.parent.window.document,d)}var f=r.getAbsPointerPos(s),g=r.getRelPointerPos(s);switch(r._pointerOrigin={x:f.x-g.x,y:f.y-g.y},o){case"pad":r.getSliderChannel(l)==="v"&&l.channels.v===0&&l.fromHSVA(null,null,100,null),r.setPad(l,s,0,0);break;case"sld":r.setSld(l,s,0);break;case"asld":r.setASld(l,s,0);break}l.trigger("input")},onDocumentPointerMove:function(s,i,o,a,l){return function(c){var h=r.getData(i,"instance");switch(o){case"pad":r.setPad(h,c,l[0],l[1]);break;case"sld":r.setSld(h,c,l[1]);break;case"asld":r.setASld(h,c,l[1]);break}h.trigger("input")}},onDocumentPointerEnd:function(s,i,o,a){return function(l){var c=r.getData(i,"instance");r.detachGroupEvents("drag"),c.trigger("input"),c.trigger("change")}},onPaletteSampleClick:function(s){var i=s.currentTarget,o=r.getData(i,"instance"),a=r.getData(i,"color");o.format.toLowerCase()==="any"&&(o._setFormat(a.format),r.isAlphaFormat(o.getFormat())||(a.rgba[3]=1)),a.rgba[3]===null&&(o.paletteSetsAlpha===!0||o.paletteSetsAlpha==="auto"&&o._paletteHasTransparency)&&(a.rgba[3]=1),o.fromRGBA.apply(o,a.rgba),o.trigger("input"),o.trigger("change"),o.hideOnPaletteClick&&o.hide()},setPad:function(s,i,o,a){var l=r.getAbsPointerPos(i),c=o+l.x-r._pointerOrigin.x-s.padding-s.controlBorderWidth,h=a+l.y-r._pointerOrigin.y-s.padding-s.controlBorderWidth,d=c*(360/(s.width-1)),f=100-h*(100/(s.height-1));switch(r.getPadYChannel(s)){case"s":s.fromHSVA(d,f,null,null);break;case"v":s.fromHSVA(d,null,f,null);break}},setSld:function(s,i,o){var a=r.getAbsPointerPos(i),l=o+a.y-r._pointerOrigin.y-s.padding-s.controlBorderWidth,c=100-l*(100/(s.height-1));switch(r.getSliderChannel(s)){case"s":s.fromHSVA(null,c,null,null);break;case"v":s.fromHSVA(null,null,c,null);break}},setASld:function(s,i,o){var a=r.getAbsPointerPos(i),l=o+a.y-r._pointerOrigin.y-s.padding-s.controlBorderWidth,c=1-l*(1/(s.height-1));if(c<1){var h=s.getFormat();s.format.toLowerCase()==="any"&&!r.isAlphaFormat(h)&&s._setFormat(h==="hex"?"hexa":"rgba")}s.fromHSVA(null,null,null,c)},createPadCanvas:function(){var s={elm:null,draw:null},i=r.createEl("canvas"),o=i.getContext("2d"),a=function(l,c,h){i.width=l,i.height=c,o.clearRect(0,0,i.width,i.height);var d=o.createLinearGradient(0,0,i.width,0);d.addColorStop(0/6,"#F00"),d.addColorStop(1/6,"#FF0"),d.addColorStop(2/6,"#0F0"),d.addColorStop(3/6,"#0FF"),d.addColorStop(4/6,"#00F"),d.addColorStop(5/6,"#F0F"),d.addColorStop(6/6,"#F00"),o.fillStyle=d,o.fillRect(0,0,i.width,i.height);var f=o.createLinearGradient(0,0,0,i.height);switch(h.toLowerCase()){case"s":f.addColorStop(0,"rgba(255,255,255,0)"),f.addColorStop(1,"rgba(255,255,255,1)");break;case"v":f.addColorStop(0,"rgba(0,0,0,0)"),f.addColorStop(1,"rgba(0,0,0,1)");break}o.fillStyle=f,o.fillRect(0,0,i.width,i.height)};return s.elm=i,s.draw=a,s},createSliderGradient:function(){var s={elm:null,draw:null},i=r.createEl("canvas"),o=i.getContext("2d"),a=function(l,c,h,d){i.width=l,i.height=c,o.clearRect(0,0,i.width,i.height);var f=o.createLinearGradient(0,0,0,i.height);f.addColorStop(0,h),f.addColorStop(1,d),o.fillStyle=f,o.fillRect(0,0,i.width,i.height)};return s.elm=i,s.draw=a,s},createASliderGradient:function(){var s={elm:null,draw:null},i=r.createEl("canvas"),o=i.getContext("2d"),a=function(l,c,h){i.width=l,i.height=c,o.clearRect(0,0,i.width,i.height);var d=i.width/2,f=r.pub.chessboardColor1,g=r.pub.chessboardColor2;if(o.fillStyle=f,o.fillRect(0,0,i.width,i.height),d>0)for(var _=0;_<i.height;_+=d*2)o.fillStyle=g,o.fillRect(0,_,d,d),o.fillRect(d,_+d,d,d);var y=o.createLinearGradient(0,0,0,i.height);y.addColorStop(0,h),y.addColorStop(1,"rgba(0,0,0,0)"),o.fillStyle=y,o.fillRect(0,0,i.width,i.height)};return s.elm=i,s.draw=a,s},BoxShadow:function(){var s=function(i,o,a,l,c,h){this.hShadow=i,this.vShadow=o,this.blur=a,this.spread=l,this.color=c,this.inset=!!h};return s.prototype.toString=function(){var i=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&i.push("inset"),i.join(" ")},s}(),flags:{leaveValue:1,leaveAlpha:2,leavePreview:4},enumOpts:{format:["auto","any","hex","hexa","rgb","rgba"],previewPosition:["left","right"],mode:["hsv","hvs","hs","hv"],position:["left","right","top","bottom"],alphaChannel:["auto",!0,!1],paletteSetsAlpha:["auto",!0,!1]},deprecatedOpts:{styleElement:"previewElement",onFineChange:"onInput",overwriteImportant:"forceStyle",closable:"closeButton",insetWidth:"controlBorderWidth",insetColor:"controlBorderColor",refine:null},docsRef:" See https://jscolor.com/docs/",pub:function(s,i){var o=this;i||(i={}),this.channels={r:255,g:255,b:255,h:0,s:0,v:100,a:1},this.format="auto",this.value=void 0,this.alpha=void 0,this.random=!1,this.onChange=void 0,this.onInput=void 0,this.valueElement=void 0,this.alphaElement=void 0,this.previewElement=void 0,this.previewPosition="left",this.previewSize=32,this.previewPadding=8,this.required=!0,this.hash=!0,this.uppercase=!0,this.forceStyle=!0,this.width=181,this.height=101,this.mode="HSV",this.alphaChannel="auto",this.position="bottom",this.smartPosition=!0,this.showOnClick=!0,this.hideOnLeave=!0,this.palette=[],this.paletteCols=10,this.paletteSetsAlpha="auto",this.paletteHeight=16,this.paletteSpacing=4,this.hideOnPaletteClick=!1,this.sliderSize=16,this.crossSize=8,this.closeButton=!1,this.closeText="Close",this.buttonColor="rgba(0,0,0,1)",this.buttonHeight=18,this.padding=12,this.backgroundColor="rgba(255,255,255,1)",this.borderWidth=1,this.borderColor="rgba(187,187,187,1)",this.borderRadius=8,this.controlBorderWidth=1,this.controlBorderColor="rgba(187,187,187,1)",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="rgba(76,76,76,1)",this.pointerBorderWidth=1,this.pointerBorderColor="rgba(255,255,255,1)",this.pointerThickness=2,this.zIndex=5e3,this.container=void 0,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.minA=0,this.maxA=1,this.option=function(){if(!arguments.length)throw new Error("No option specified");if(arguments.length===1&&typeof arguments[0]=="string"){try{return l(arguments[0])}catch(ee){console.warn(ee)}return!1}else if(arguments.length>=2&&typeof arguments[0]=="string"){try{if(!a(arguments[0],arguments[1]))return!1}catch(ee){return console.warn(ee),!1}return this.redraw(),this.exposeColor(),!0}else if(arguments.length===1&&typeof arguments[0]=="object"){var b=arguments[0],H=!0;for(var Q in b)if(b.hasOwnProperty(Q))try{a(Q,b[Q])||(H=!1)}catch(ee){console.warn(ee),H=!1}return this.redraw(),this.exposeColor(),H}throw new Error("Invalid arguments")},this.channel=function(b,H){if(typeof b!="string")throw new Error("Invalid value for channel name: "+b);if(H===void 0)return this.channels.hasOwnProperty(b.toLowerCase())?this.channels[b.toLowerCase()]:(console.warn("Getting unknown channel: "+b),!1);var Q=!1;switch(b.toLowerCase()){case"r":Q=this.fromRGBA(H,null,null,null);break;case"g":Q=this.fromRGBA(null,H,null,null);break;case"b":Q=this.fromRGBA(null,null,H,null);break;case"h":Q=this.fromHSVA(H,null,null,null);break;case"s":Q=this.fromHSVA(null,H,null,null);break;case"v":Q=this.fromHSVA(null,null,H,null);break;case"a":Q=this.fromHSVA(null,null,null,H);break;default:return console.warn("Setting unknown channel: "+b),!1}return Q?(this.redraw(),!0):!1},this.trigger=function(b){for(var H=r.strList(b),Q=0;Q<H.length;Q+=1){var ee=H[Q].toLowerCase(),Se=null;switch(ee){case"input":Se="onInput";break;case"change":Se="onChange";break}Se&&r.triggerCallback(this,Se),r.triggerInputEvent(this.valueElement,ee,!0,!0)}},this.fromHSVA=function(b,H,Q,ee,Se){if(b===void 0&&(b=null),H===void 0&&(H=null),Q===void 0&&(Q=null),ee===void 0&&(ee=null),b!==null){if(isNaN(b))return!1;this.channels.h=Math.max(0,Math.min(360,b))}if(H!==null){if(isNaN(H))return!1;this.channels.s=Math.max(0,Math.min(100,this.maxS,H),this.minS)}if(Q!==null){if(isNaN(Q))return!1;this.channels.v=Math.max(0,Math.min(100,this.maxV,Q),this.minV)}if(ee!==null){if(isNaN(ee))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,ee),this.minA):1}var ie=r.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=ie[0],this.channels.g=ie[1],this.channels.b=ie[2],this.exposeColor(Se),!0},this.fromRGBA=function(b,H,Q,ee,Se){if(b===void 0&&(b=null),H===void 0&&(H=null),Q===void 0&&(Q=null),ee===void 0&&(ee=null),b!==null){if(isNaN(b))return!1;b=Math.max(0,Math.min(255,b))}if(H!==null){if(isNaN(H))return!1;H=Math.max(0,Math.min(255,H))}if(Q!==null){if(isNaN(Q))return!1;Q=Math.max(0,Math.min(255,Q))}if(ee!==null){if(isNaN(ee))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,ee),this.minA):1}var ie=r.RGB_HSV(b===null?this.channels.r:b,H===null?this.channels.g:H,Q===null?this.channels.b:Q);ie[0]!==null&&(this.channels.h=Math.max(0,Math.min(360,ie[0]))),ie[2]!==0&&(this.channels.s=Math.max(0,this.minS,Math.min(100,this.maxS,ie[1]))),this.channels.v=Math.max(0,this.minV,Math.min(100,this.maxV,ie[2]));var ye=r.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=ye[0],this.channels.g=ye[1],this.channels.b=ye[2],this.exposeColor(Se),!0},this.fromHSV=function(b,H,Q,ee){return console.warn("fromHSV() method is DEPRECATED. Using fromHSVA() instead."+r.docsRef),this.fromHSVA(b,H,Q,null,ee)},this.fromRGB=function(b,H,Q,ee){return console.warn("fromRGB() method is DEPRECATED. Using fromRGBA() instead."+r.docsRef),this.fromRGBA(b,H,Q,null,ee)},this.fromString=function(b,H){if(!this.required&&b.trim()==="")return this.setPreviewElementBg(null),this.setValueElementValue(""),!0;var Q=r.parseColorString(b);return Q?(this.format.toLowerCase()==="any"&&(this._setFormat(Q.format),r.isAlphaFormat(this.getFormat())||(Q.rgba[3]=1)),this.fromRGBA(Q.rgba[0],Q.rgba[1],Q.rgba[2],Q.rgba[3],H),!0):!1},this.randomize=function(b,H,Q,ee,Se,ie,ye,it){b===void 0&&(b=0),H===void 0&&(H=100),Q===void 0&&(Q=0),ee===void 0&&(ee=100),Se===void 0&&(Se=0),ie===void 0&&(ie=359),ye===void 0&&(ye=1),it===void 0&&(it=1),this.fromHSVA(Se+Math.floor(Math.random()*(ie-Se+1)),Q+Math.floor(Math.random()*(ee-Q+1)),b+Math.floor(Math.random()*(H-b+1)),(100*ye+Math.floor(Math.random()*(100*(it-ye)+1)))/100)},this.toString=function(b){switch(b===void 0&&(b=this.getFormat()),b.toLowerCase()){case"hex":return this.toHEXString();case"hexa":return this.toHEXAString();case"rgb":return this.toRGBString();case"rgba":return this.toRGBAString()}return!1},this.toHEXString=function(){return r.hexColor(this.channels.r,this.channels.g,this.channels.b)},this.toHEXAString=function(){return r.hexaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toRGBString=function(){return r.rgbColor(this.channels.r,this.channels.g,this.channels.b)},this.toRGBAString=function(){return r.rgbaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toGrayscale=function(){return .213*this.channels.r+.715*this.channels.g+.072*this.channels.b},this.toCanvas=function(){return r.genColorPreviewCanvas(this.toRGBAString()).canvas},this.toDataURL=function(){return this.toCanvas().toDataURL()},this.toBackground=function(){return r.pub.background(this.toRGBAString())},this.isLight=function(){return this.toGrayscale()>127.5},this.hide=function(){_()&&c()},this.show=function(){h()},this.redraw=function(){_()&&h()},this.getFormat=function(){return this._currentFormat},this._setFormat=function(b){this._currentFormat=b.toLowerCase()},this.hasAlphaChannel=function(){return this.alphaChannel==="auto"?this.format.toLowerCase()==="any"||r.isAlphaFormat(this.getFormat())||this.alpha!==void 0||this.alphaElement!==void 0:this.alphaChannel},this.processValueInput=function(b){this.fromString(b)||this.exposeColor()},this.processAlphaInput=function(b){this.fromHSVA(null,null,null,parseFloat(b))||this.exposeColor()},this.exposeColor=function(b){var H=this.toString(),Q=this.getFormat();if(r.setDataAttr(this.targetElement,"current-color",H),!(b&r.flags.leaveValue)&&this.valueElement&&((Q==="hex"||Q==="hexa")&&(this.uppercase||(H=H.toLowerCase()),this.hash||(H=H.replace(/^#/,""))),this.setValueElementValue(H)),!(b&r.flags.leaveAlpha)&&this.alphaElement){var ee=Math.round(this.channels.a*100)/100;this.setAlphaElementValue(ee)}!(b&r.flags.leavePreview)&&this.previewElement&&((r.isTextInput(this.previewElement)||r.isButton(this.previewElement)&&!r.isButtonEmpty(this.previewElement))&&this.previewPosition,this.setPreviewElementBg(this.toRGBAString())),_()&&(d(),f(),g())},this.setPreviewElementBg=function(b){if(this.previewElement){var H=null,Q=null;(r.isTextInput(this.previewElement)||r.isButton(this.previewElement)&&!r.isButtonEmpty(this.previewElement))&&(H=this.previewPosition,Q=this.previewSize);var ee=[];if(!b)ee.push({image:"none",position:"left top",size:"auto",repeat:"no-repeat",origin:"padding-box"});else{ee.push({image:r.genColorPreviewGradient(b,H,Q?Q-r.pub.previewSeparator.length:null),position:"left top",size:"auto",repeat:H?"repeat-y":"repeat",origin:"padding-box"});var Se=r.genColorPreviewCanvas("rgba(0,0,0,0)",H?{left:"right",right:"left"}[H]:null,Q,!0);ee.push({image:"url('"+Se.canvas.toDataURL()+"')",position:(H||"left")+" top",size:Se.width+"px "+Se.height+"px",repeat:H?"repeat-y":"repeat",origin:"padding-box"})}for(var ie={image:[],position:[],size:[],repeat:[],origin:[]},ye=0;ye<ee.length;ye+=1)ie.image.push(ee[ye].image),ie.position.push(ee[ye].position),ie.size.push(ee[ye].size),ie.repeat.push(ee[ye].repeat),ie.origin.push(ee[ye].origin);var Qe={"background-image":ie.image.join(", "),"background-position":ie.position.join(", "),"background-size":ie.size.join(", "),"background-repeat":ie.repeat.join(", "),"background-origin":ie.origin.join(", ")};r.setStyle(this.previewElement,Qe,this.forceStyle);var it={left:null,right:null};H&&(it[H]=this.previewSize+this.previewPadding+"px");var Qe={"padding-left":it.left,"padding-right":it.right};r.setStyle(this.previewElement,Qe,this.forceStyle,!0)}},this.setValueElementValue=function(b){this.valueElement&&(r.nodeName(this.valueElement)==="input"?this.valueElement.value=b:this.valueElement.innerHTML=b)},this.setAlphaElementValue=function(b){this.alphaElement&&(r.nodeName(this.alphaElement)==="input"?this.alphaElement.value=b:this.alphaElement.innerHTML=b)},this._processParentElementsInDOM=function(){if(!this._parentElementsProcessed){this._parentElementsProcessed=!0;var b=this.targetElement;do{var H=r.getCompStyle(b);H.position&&H.position.toLowerCase()==="fixed"&&(this.fixed=!0),b!==this.targetElement&&(r.getData(b,"hasScrollListener")||(b.addEventListener("scroll",r.onParentScroll,!1),r.setData(b,"hasScrollListener",!0)))}while((b=b.parentNode)&&r.nodeName(b)!=="body")}},this.tryHide=function(){this.hideOnLeave&&this.hide()},this.set__palette=function(b){this.palette=b,this._palette=r.parsePaletteValue(b),this._paletteHasTransparency=r.containsTranparentColor(this._palette)};function a(b,H){if(typeof b!="string")throw new Error("Invalid value for option name: "+b);if(r.enumOpts.hasOwnProperty(b)&&(typeof H=="string"&&(H=H.toLowerCase()),r.enumOpts[b].indexOf(H)===-1))throw new Error("Option '"+b+"' has invalid value: "+H);if(r.deprecatedOpts.hasOwnProperty(b)){var Q=b,ee=r.deprecatedOpts[b];if(ee)console.warn("Option '%s' is DEPRECATED, using '%s' instead."+r.docsRef,Q,ee),b=ee;else throw new Error("Option '"+b+"' is DEPRECATED")}var Se="set__"+b;if(typeof o[Se]=="function")return o[Se](H),!0;if(b in o)return o[b]=H,!0;throw new Error("Unrecognized configuration option: "+b)}function l(b){if(typeof b!="string")throw new Error("Invalid value for option name: "+b);if(r.deprecatedOpts.hasOwnProperty(b)){var H=b,Q=r.deprecatedOpts[b];if(Q)console.warn("Option '%s' is DEPRECATED, using '%s' instead."+r.docsRef,H,Q),b=Q;else throw new Error("Option '"+b+"' is DEPRECATED")}var ee="get__"+b;if(typeof o[ee]=="function")return o[ee](value);if(b in o)return o[b];throw new Error("Unrecognized configuration option: "+b)}function c(){r.removeClass(o.targetElement,r.pub.activeClassName),r.picker.wrap.parentNode.removeChild(r.picker.wrap),delete r.picker.owner}function h(){o._processParentElementsInDOM(),r.picker||(r.picker={owner:null,wrap:r.createEl("div"),box:r.createEl("div"),boxS:r.createEl("div"),boxB:r.createEl("div"),pad:r.createEl("div"),padB:r.createEl("div"),padM:r.createEl("div"),padCanvas:r.createPadCanvas(),cross:r.createEl("div"),crossBY:r.createEl("div"),crossBX:r.createEl("div"),crossLY:r.createEl("div"),crossLX:r.createEl("div"),sld:r.createEl("div"),sldB:r.createEl("div"),sldM:r.createEl("div"),sldGrad:r.createSliderGradient(),sldPtrS:r.createEl("div"),sldPtrIB:r.createEl("div"),sldPtrMB:r.createEl("div"),sldPtrOB:r.createEl("div"),asld:r.createEl("div"),asldB:r.createEl("div"),asldM:r.createEl("div"),asldGrad:r.createASliderGradient(),asldPtrS:r.createEl("div"),asldPtrIB:r.createEl("div"),asldPtrMB:r.createEl("div"),asldPtrOB:r.createEl("div"),pal:r.createEl("div"),btn:r.createEl("div"),btnT:r.createEl("div")},r.picker.pad.appendChild(r.picker.padCanvas.elm),r.picker.padB.appendChild(r.picker.pad),r.picker.cross.appendChild(r.picker.crossBY),r.picker.cross.appendChild(r.picker.crossBX),r.picker.cross.appendChild(r.picker.crossLY),r.picker.cross.appendChild(r.picker.crossLX),r.picker.padB.appendChild(r.picker.cross),r.picker.box.appendChild(r.picker.padB),r.picker.box.appendChild(r.picker.padM),r.picker.sld.appendChild(r.picker.sldGrad.elm),r.picker.sldB.appendChild(r.picker.sld),r.picker.sldB.appendChild(r.picker.sldPtrOB),r.picker.sldPtrOB.appendChild(r.picker.sldPtrMB),r.picker.sldPtrMB.appendChild(r.picker.sldPtrIB),r.picker.sldPtrIB.appendChild(r.picker.sldPtrS),r.picker.box.appendChild(r.picker.sldB),r.picker.box.appendChild(r.picker.sldM),r.picker.asld.appendChild(r.picker.asldGrad.elm),r.picker.asldB.appendChild(r.picker.asld),r.picker.asldB.appendChild(r.picker.asldPtrOB),r.picker.asldPtrOB.appendChild(r.picker.asldPtrMB),r.picker.asldPtrMB.appendChild(r.picker.asldPtrIB),r.picker.asldPtrIB.appendChild(r.picker.asldPtrS),r.picker.box.appendChild(r.picker.asldB),r.picker.box.appendChild(r.picker.asldM),r.picker.box.appendChild(r.picker.pal),r.picker.btn.appendChild(r.picker.btnT),r.picker.box.appendChild(r.picker.btn),r.picker.boxB.appendChild(r.picker.box),r.picker.wrap.appendChild(r.picker.boxS),r.picker.wrap.appendChild(r.picker.boxB),r.picker.wrap.addEventListener("touchstart",r.onPickerTouchStart,r.isPassiveEventSupported?{passive:!1}:!1));var b=r.picker,H=!!r.getSliderChannel(o),Q=o.hasAlphaChannel(),ee=r.getPickerDims(o),Se=2*o.pointerBorderWidth+o.pointerThickness+2*o.crossSize,ie=r.getControlPadding(o),ye=Math.min(o.borderRadius,Math.round(o.padding*Math.PI)),it="crosshair";b.wrap.className="jscolor-wrap",b.wrap.style.width=ee.borderW+"px",b.wrap.style.height=ee.borderH+"px",b.wrap.style.zIndex=o.zIndex,b.box.className="jscolor-picker",b.box.style.width=ee.paddedW+"px",b.box.style.height=ee.paddedH+"px",b.boxS.className="jscolor-shadow",r.setBorderRadius(b.boxS,ye+"px"),b.boxB.className="jscolor-border",b.boxB.style.border=o.borderWidth+"px solid",b.boxB.style.borderColor=o.borderColor,b.boxB.style.background=o.backgroundColor,r.setBorderRadius(b.boxB,ye+"px"),b.padM.style.background="rgba(255,0,0,.2)",b.sldM.style.background="rgba(0,255,0,.2)",b.asldM.style.background="rgba(0,0,255,.2)",b.padM.style.opacity=b.sldM.style.opacity=b.asldM.style.opacity="0",b.pad.style.position="relative",b.pad.style.width=o.width+"px",b.pad.style.height=o.height+"px",b.padCanvas.draw(o.width,o.height,r.getPadYChannel(o)),b.padB.style.position="absolute",b.padB.style.left=o.padding+"px",b.padB.style.top=o.padding+"px",b.padB.style.border=o.controlBorderWidth+"px solid",b.padB.style.borderColor=o.controlBorderColor,b.padM.style.position="absolute",b.padM.style.left="0px",b.padM.style.top="0px",b.padM.style.width=o.padding+2*o.controlBorderWidth+o.width+ie+"px",b.padM.style.height=2*o.controlBorderWidth+2*o.padding+o.height+"px",b.padM.style.cursor=it,r.setData(b.padM,{instance:o,control:"pad"}),b.cross.style.position="absolute",b.cross.style.left=b.cross.style.top="0",b.cross.style.width=b.cross.style.height=Se+"px",b.crossBY.style.position=b.crossBX.style.position="absolute",b.crossBY.style.background=b.crossBX.style.background=o.pointerBorderColor,b.crossBY.style.width=b.crossBX.style.height=2*o.pointerBorderWidth+o.pointerThickness+"px",b.crossBY.style.height=b.crossBX.style.width=Se+"px",b.crossBY.style.left=b.crossBX.style.top=Math.floor(Se/2)-Math.floor(o.pointerThickness/2)-o.pointerBorderWidth+"px",b.crossBY.style.top=b.crossBX.style.left="0",b.crossLY.style.position=b.crossLX.style.position="absolute",b.crossLY.style.background=b.crossLX.style.background=o.pointerColor,b.crossLY.style.height=b.crossLX.style.width=Se-2*o.pointerBorderWidth+"px",b.crossLY.style.width=b.crossLX.style.height=o.pointerThickness+"px",b.crossLY.style.left=b.crossLX.style.top=Math.floor(Se/2)-Math.floor(o.pointerThickness/2)+"px",b.crossLY.style.top=b.crossLX.style.left=o.pointerBorderWidth+"px",b.sld.style.overflow="hidden",b.sld.style.width=o.sliderSize+"px",b.sld.style.height=o.height+"px",b.sldGrad.draw(o.sliderSize,o.height,"#000","#000"),b.sldB.style.display=H?"block":"none",b.sldB.style.position="absolute",b.sldB.style.left=o.padding+o.width+2*o.controlBorderWidth+2*ie+"px",b.sldB.style.top=o.padding+"px",b.sldB.style.border=o.controlBorderWidth+"px solid",b.sldB.style.borderColor=o.controlBorderColor,b.sldM.style.display=H?"block":"none",b.sldM.style.position="absolute",b.sldM.style.left=o.padding+o.width+2*o.controlBorderWidth+ie+"px",b.sldM.style.top="0px",b.sldM.style.width=o.sliderSize+2*ie+2*o.controlBorderWidth+(Q?0:Math.max(0,o.padding-ie))+"px",b.sldM.style.height=2*o.controlBorderWidth+2*o.padding+o.height+"px",b.sldM.style.cursor="default",r.setData(b.sldM,{instance:o,control:"sld"}),b.sldPtrIB.style.border=b.sldPtrOB.style.border=o.pointerBorderWidth+"px solid "+o.pointerBorderColor,b.sldPtrOB.style.position="absolute",b.sldPtrOB.style.left=-(2*o.pointerBorderWidth+o.pointerThickness)+"px",b.sldPtrOB.style.top="0",b.sldPtrMB.style.border=o.pointerThickness+"px solid "+o.pointerColor,b.sldPtrS.style.width=o.sliderSize+"px",b.sldPtrS.style.height=r.pub.sliderInnerSpace+"px",b.asld.style.overflow="hidden",b.asld.style.width=o.sliderSize+"px",b.asld.style.height=o.height+"px",b.asldGrad.draw(o.sliderSize,o.height,"#000"),b.asldB.style.display=Q?"block":"none",b.asldB.style.position="absolute",b.asldB.style.left=o.padding+o.width+2*o.controlBorderWidth+ie+(H?o.sliderSize+3*ie+2*o.controlBorderWidth:0)+"px",b.asldB.style.top=o.padding+"px",b.asldB.style.border=o.controlBorderWidth+"px solid",b.asldB.style.borderColor=o.controlBorderColor,b.asldM.style.display=Q?"block":"none",b.asldM.style.position="absolute",b.asldM.style.left=o.padding+o.width+2*o.controlBorderWidth+ie+(H?o.sliderSize+2*ie+2*o.controlBorderWidth:0)+"px",b.asldM.style.top="0px",b.asldM.style.width=o.sliderSize+2*ie+2*o.controlBorderWidth+Math.max(0,o.padding-ie)+"px",b.asldM.style.height=2*o.controlBorderWidth+2*o.padding+o.height+"px",b.asldM.style.cursor="default",r.setData(b.asldM,{instance:o,control:"asld"}),b.asldPtrIB.style.border=b.asldPtrOB.style.border=o.pointerBorderWidth+"px solid "+o.pointerBorderColor,b.asldPtrOB.style.position="absolute",b.asldPtrOB.style.left=-(2*o.pointerBorderWidth+o.pointerThickness)+"px",b.asldPtrOB.style.top="0",b.asldPtrMB.style.border=o.pointerThickness+"px solid "+o.pointerColor,b.asldPtrS.style.width=o.sliderSize+"px",b.asldPtrS.style.height=r.pub.sliderInnerSpace+"px",b.pal.className="jscolor-palette",b.pal.style.display=ee.palette.rows?"block":"none",b.pal.style.left=o.padding+"px",b.pal.style.top=2*o.controlBorderWidth+2*o.padding+o.height+"px",b.pal.innerHTML="";for(var Qe=r.genColorPreviewCanvas("rgba(0,0,0,0)"),mt=0,Rt=0;Rt<ee.palette.rows;Rt++)for(var Lt=0;Lt<ee.palette.cols&&mt<o._palette.length;Lt++,mt++){var Pn=o._palette[mt],yn=r.rgbaColor.apply(null,Pn.rgba),wn=r.createEl("div");wn.style.width=ee.palette.cellW-2*o.controlBorderWidth+"px",wn.style.height=ee.palette.cellH-2*o.controlBorderWidth+"px",wn.style.backgroundColor=yn;var R=r.createEl("div");R.className="jscolor-palette-sw",R.style.left=(ee.palette.cols<=1?0:Math.round(10*(Lt*((ee.contentW-ee.palette.cellW)/(ee.palette.cols-1))))/10)+"px",R.style.top=Rt*(ee.palette.cellH+o.paletteSpacing)+"px",R.style.border=o.controlBorderWidth+"px solid",R.style.borderColor=o.controlBorderColor,Pn.rgba[3]!==null&&Pn.rgba[3]<1&&(R.style.backgroundImage="url('"+Qe.canvas.toDataURL()+"')",R.style.backgroundRepeat="repeat",R.style.backgroundPosition="center center"),r.setData(R,{instance:o,control:"palette-sw",color:Pn}),R.addEventListener("click",r.onPaletteSampleClick,!1),R.appendChild(wn),b.pal.appendChild(R)}function P(){var q=o.controlBorderColor.split(/\s+/),W=q.length<2?q[0]:q[1]+" "+q[0]+" "+q[0]+" "+q[1];b.btn.style.borderColor=W}var $=15;b.btn.className="jscolor-btn jscolor-btn-close",b.btn.style.display=o.closeButton?"block":"none",b.btn.style.left=o.padding+"px",b.btn.style.bottom=o.padding+"px",b.btn.style.padding="0 "+$+"px",b.btn.style.maxWidth=ee.contentW-2*o.controlBorderWidth-2*$+"px",b.btn.style.height=o.buttonHeight+"px",b.btn.style.border=o.controlBorderWidth+"px solid",P(),b.btn.style.color=o.buttonColor,b.btn.onmousedown=function(){o.hide()},b.btnT.style.display="inline",b.btnT.style.lineHeight=o.buttonHeight+"px",b.btnT.innerText=o.closeText,d(),f(),g(),r.picker.owner&&r.picker.owner!==o&&r.removeClass(r.picker.owner.targetElement,r.pub.activeClassName),r.picker.owner=o,r.redrawPosition(),b.wrap.parentNode!==o.container&&o.container.appendChild(b.wrap),r.addClass(o.targetElement,r.pub.activeClassName)}function d(){var b=r.getPadYChannel(o),H=Math.round(o.channels.h/360*(o.width-1)),Q=Math.round((1-o.channels[b]/100)*(o.height-1)),ee=2*o.pointerBorderWidth+o.pointerThickness+2*o.crossSize,Se=-Math.floor(ee/2);switch(r.picker.cross.style.left=H+Se+"px",r.picker.cross.style.top=Q+Se+"px",r.getSliderChannel(o)){case"s":var ie=r.HSV_RGB(o.channels.h,100,o.channels.v),ye=r.HSV_RGB(o.channels.h,0,o.channels.v),Qe="rgb("+Math.round(ie[0])+","+Math.round(ie[1])+","+Math.round(ie[2])+")",mt="rgb("+Math.round(ye[0])+","+Math.round(ye[1])+","+Math.round(ye[2])+")";r.picker.sldGrad.draw(o.sliderSize,o.height,Qe,mt);break;case"v":var it=r.HSV_RGB(o.channels.h,o.channels.s,100),Qe="rgb("+Math.round(it[0])+","+Math.round(it[1])+","+Math.round(it[2])+")",mt="#000";r.picker.sldGrad.draw(o.sliderSize,o.height,Qe,mt);break}r.picker.asldGrad.draw(o.sliderSize,o.height,o.toHEXString())}function f(){var b=r.getSliderChannel(o);if(b){var H=Math.round((1-o.channels[b]/100)*(o.height-1));r.picker.sldPtrOB.style.top=H-(2*o.pointerBorderWidth+o.pointerThickness)-Math.floor(r.pub.sliderInnerSpace/2)+"px"}r.picker.asldGrad.draw(o.sliderSize,o.height,o.toHEXString())}function g(){var b=Math.round((1-o.channels.a)*(o.height-1));r.picker.asldPtrOB.style.top=b-(2*o.pointerBorderWidth+o.pointerThickness)-Math.floor(r.pub.sliderInnerSpace/2)+"px"}function _(){return r.picker&&r.picker.owner===o}function y(b){r.eventKey(b)==="Enter"&&(o.valueElement&&o.processValueInput(o.valueElement.value),o.tryHide())}function T(b){r.eventKey(b)==="Enter"&&(o.alphaElement&&o.processAlphaInput(o.alphaElement.value),o.tryHide())}function N(b){if(!r.getData(b,"internal")){var H=o.valueElement.value;o.processValueInput(o.valueElement.value),r.triggerCallback(o,"onChange"),o.valueElement.value!==H&&r.triggerInputEvent(o.valueElement,"change",!0,!0)}}function O(b){if(!r.getData(b,"internal")){var H=o.alphaElement.value;o.processAlphaInput(o.alphaElement.value),r.triggerCallback(o,"onChange"),r.triggerInputEvent(o.valueElement,"change",!0,!0),o.alphaElement.value!==H&&r.triggerInputEvent(o.alphaElement,"change",!0,!0)}}function x(b){r.getData(b,"internal")||(o.valueElement&&o.fromString(o.valueElement.value,r.flags.leaveValue),r.triggerCallback(o,"onInput"))}function D(b){r.getData(b,"internal")||(o.alphaElement&&o.fromHSVA(null,null,null,parseFloat(o.alphaElement.value),r.flags.leaveAlpha),r.triggerCallback(o,"onInput"),r.triggerInputEvent(o.valueElement,"input",!0,!0))}if(r.pub.options){for(var M in r.pub.options)if(r.pub.options.hasOwnProperty(M))try{a(M,r.pub.options[M])}catch(b){console.warn(b)}}var V=[];i.preset&&(typeof i.preset=="string"?V=i.preset.split(/\s+/):Array.isArray(i.preset)?V=i.preset.slice():console.warn("Unrecognized preset value")),V.indexOf("default")===-1&&V.push("default");for(var C=V.length-1;C>=0;C-=1){var E=V[C];if(E){if(!r.pub.presets.hasOwnProperty(E)){console.warn("Unknown preset: %s",E);continue}for(var M in r.pub.presets[E])if(r.pub.presets[E].hasOwnProperty(M))try{a(M,r.pub.presets[E][M])}catch(H){console.warn(H)}}}var w=["preset"];for(var M in i)if(i.hasOwnProperty(M)&&w.indexOf(M)===-1)try{a(M,i[M])}catch(H){console.warn(H)}if(this.container===void 0?this.container=e.document.body:this.container=r.node(this.container),!this.container)throw new Error("Cannot instantiate color picker without a container element");if(this.targetElement=r.node(s),!this.targetElement){if(typeof s=="string"&&/^[a-zA-Z][\w:.-]*$/.test(s)){var A=s;throw new Error("If '"+A+"' is supposed to be an ID, please use '#"+A+"' or any valid CSS selector.")}throw new Error("Cannot instantiate color picker without a target element")}if(this.targetElement.jscolor&&this.targetElement.jscolor instanceof r.pub)throw new Error("Color picker already installed on this element");if(this.targetElement.jscolor=this,r.addClass(this.targetElement,r.pub.className),r.instances.push(this),r.isButton(this.targetElement)&&(this.targetElement.type.toLowerCase()!=="button"&&(this.targetElement.type="button"),r.isButtonEmpty(this.targetElement))){r.removeChildren(this.targetElement),this.targetElement.appendChild(e.document.createTextNode(""));var k=r.getCompStyle(this.targetElement),I=parseFloat(k["min-width"])||0;I<this.previewSize&&r.setStyle(this.targetElement,{"min-width":this.previewSize+"px"},this.forceStyle)}if(this.valueElement===void 0?r.isTextInput(this.targetElement)&&(this.valueElement=this.targetElement):this.valueElement===null||(this.valueElement=r.node(this.valueElement)),this.alphaElement&&(this.alphaElement=r.node(this.alphaElement)),this.previewElement===void 0?this.previewElement=this.targetElement:this.previewElement===null||(this.previewElement=r.node(this.previewElement)),this.valueElement&&r.isTextInput(this.valueElement)){var S={onInput:this.valueElement.oninput};this.valueElement.oninput=null,this.valueElement.addEventListener("keydown",y,!1),this.valueElement.addEventListener("change",N,!1),this.valueElement.addEventListener("input",x,!1),S.onInput&&this.valueElement.addEventListener("input",S.onInput,!1),this.valueElement.setAttribute("autocomplete","off"),this.valueElement.setAttribute("autocorrect","off"),this.valueElement.setAttribute("autocapitalize","off"),this.valueElement.setAttribute("spellcheck",!1)}this.alphaElement&&r.isTextInput(this.alphaElement)&&(this.alphaElement.addEventListener("keydown",T,!1),this.alphaElement.addEventListener("change",O,!1),this.alphaElement.addEventListener("input",D,!1),this.alphaElement.setAttribute("autocomplete","off"),this.alphaElement.setAttribute("autocorrect","off"),this.alphaElement.setAttribute("autocapitalize","off"),this.alphaElement.setAttribute("spellcheck",!1));var we="FFFFFF";this.value!==void 0?we=this.value:this.valueElement&&this.valueElement.value!==void 0&&(we=this.valueElement.value);var Me=void 0;if(this.alpha!==void 0?Me=""+this.alpha:this.alphaElement&&this.alphaElement.value!==void 0&&(Me=this.alphaElement.value),this._currentFormat=null,["auto","any"].indexOf(this.format.toLowerCase())>-1){var Te=r.parseColorString(we);this._currentFormat=Te?Te.format:"hex"}else this._currentFormat=this.format.toLowerCase();this.processValueInput(we),Me!==void 0&&this.processAlphaInput(Me),this.random&&this.randomize.apply(this,Array.isArray(this.random)?this.random:[])}};return r.pub.className="jscolor",r.pub.activeClassName="jscolor-active",r.pub.looseJSON=!0,r.pub.presets={},r.pub.presets.default={},r.pub.presets.light={backgroundColor:"rgba(255,255,255,1)",controlBorderColor:"rgba(187,187,187,1)",buttonColor:"rgba(0,0,0,1)"},r.pub.presets.dark={backgroundColor:"rgba(51,51,51,1)",controlBorderColor:"rgba(153,153,153,1)",buttonColor:"rgba(240,240,240,1)"},r.pub.presets.small={width:101,height:101,padding:10,sliderSize:14,paletteCols:8},r.pub.presets.medium={width:181,height:101,padding:12,sliderSize:16,paletteCols:10},r.pub.presets.large={width:271,height:151,padding:12,sliderSize:24,paletteCols:15},r.pub.presets.thin={borderWidth:1,controlBorderWidth:1,pointerBorderWidth:1},r.pub.presets.thick={borderWidth:2,controlBorderWidth:2,pointerBorderWidth:2},r.pub.sliderInnerSpace=3,r.pub.chessboardSize=8,r.pub.chessboardColor1="#666666",r.pub.chessboardColor2="#999999",r.pub.previewSeparator=["rgba(255,255,255,.65)","rgba(128,128,128,.65)"],r.pub.init=function(){if(!r.initialized)for(e.document.addEventListener("mousedown",r.onDocumentMouseDown,!1),e.document.addEventListener("keyup",r.onDocumentKeyUp,!1),e.addEventListener("resize",r.onWindowResize,!1),e.addEventListener("scroll",r.onWindowScroll,!1),r.appendDefaultCss(),r.pub.install(),r.initialized=!0;r.readyQueue.length;){var s=r.readyQueue.shift();s()}},r.pub.install=function(s){var i=!0;try{r.installBySelector("[data-jscolor]",s)}catch(o){i=!1,console.warn(o)}if(r.pub.lookupClass)try{r.installBySelector("input."+r.pub.lookupClass+", button."+r.pub.lookupClass,s)}catch{}return i},r.pub.ready=function(s){return typeof s!="function"?(console.warn("Passed value is not a function"),!1):(r.initialized?s():r.readyQueue.push(s),!0)},r.pub.trigger=function(s){var i=function(){r.triggerGlobal(s)};r.initialized?i():r.pub.ready(i)},r.pub.hide=function(){r.picker&&r.picker.owner&&r.picker.owner.hide()},r.pub.chessboard=function(s){s||(s="rgba(0,0,0,0)");var i=r.genColorPreviewCanvas(s);return i.canvas.toDataURL()},r.pub.background=function(s){var i=[];i.push(r.genColorPreviewGradient(s));var o=r.genColorPreviewCanvas();return i.push(["url('"+o.canvas.toDataURL()+"')","left top","repeat"].join(" ")),i.join(", ")},r.pub.options={},r.pub.lookupClass="jscolor",r.pub.installByClassName=function(){return console.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor="" attribute instead of a class name.'+r.docsRef),!1},r.register(),r.pub}();return typeof e.jscolor>"u"&&(e.jscolor=e.JSColor=n),n})}(Ah)),Ah.exports}gH();var _H=["second","minute","hour","day","week","month","year"];function yH(t,e){if(e===0)return["just now","right now"];var n=_H[Math.floor(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]}var wH=["","","","","","",""];function vH(t,e){if(e===0)return["",""];var n=wH[~~(e/2)];return[t+" "+n+"",t+" "+n+""]}var Gg={},aP=function(t,e){Gg[t]=e},EH=function(t){return Gg[t]||Gg.en_US},fm=[60,60,24,7,365/7/12,12];function bH(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function TH(t,e){var n=t<0?1:0;t=Math.abs(t);for(var r=t,s=0;t>=fm[s]&&s<fm.length;s++)t/=fm[s];return t=Math.floor(t),s*=2,t>(s===0?9:1)&&(s+=1),e(t,s,r)[n].replace("%s",t.toString())}function SH(t,e){var n=new Date;return(+n-+bH(t))/1e3}var AH=function(t,e,n){var r=SH(t);return TH(r,EH(e))};aP("en_US",yH);aP("zh_CN",vH);/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function lP(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function CH(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eS(t,e){return t.get(lP(t,e))}function IH(t,e,n){CH(t,e),e.set(t,n)}function RH(t,e,n){return t.set(lP(t,e),n),n}const kH=100,fe={},PH=()=>{fe.previousActiveElement instanceof HTMLElement?(fe.previousActiveElement.focus(),fe.previousActiveElement=null):document.body&&document.body.focus()},NH=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;fe.restoreFocusTimeout=setTimeout(()=>{PH(),e()},kH),window.scrollTo(n,r)}),cP="swal2-",xH=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],U=xH.reduce((t,e)=>(t[e]=cP+e,t),{}),OH=["success","warning","info","question","error"],Id=OH.reduce((t,e)=>(t[e]=cP+e,t),{}),uP="SweetAlert2:",uw=t=>t.charAt(0).toUpperCase()+t.slice(1),gn=t=>{console.warn(`${uP} ${typeof t=="object"?t.join(" "):t}`)},po=t=>{console.error(`${uP} ${t}`)},tS=[],DH=t=>{tS.includes(t)||(tS.push(t),gn(t))},hP=(t,e=null)=>{DH(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},zf=t=>typeof t=="function"?t():t,hw=t=>t&&typeof t.toPromise=="function",Zc=t=>hw(t)?t.toPromise():Promise.resolve(t),dw=t=>t&&Promise.resolve(t)===t,_n=()=>document.body.querySelector(`.${U.container}`),eu=t=>{const e=_n();return e?e.querySelector(t):null},Gn=t=>eu(`.${t}`),Be=()=>Gn(U.popup),Ya=()=>Gn(U.icon),LH=()=>Gn(U["icon-content"]),dP=()=>Gn(U.title),fw=()=>Gn(U["html-container"]),fP=()=>Gn(U.image),pw=()=>Gn(U["progress-steps"]),Gf=()=>Gn(U["validation-message"]),Gr=()=>eu(`.${U.actions} .${U.confirm}`),Xa=()=>eu(`.${U.actions} .${U.cancel}`),mo=()=>eu(`.${U.actions} .${U.deny}`),MH=()=>Gn(U["input-label"]),Qa=()=>eu(`.${U.loader}`),tu=()=>Gn(U.actions),pP=()=>Gn(U.footer),Kf=()=>Gn(U["timer-progress-bar"]),mw=()=>Gn(U.close),VH=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gw=()=>{const t=Be();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((i,o)=>{const a=parseInt(i.getAttribute("tabindex")||"0"),l=parseInt(o.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),r=t.querySelectorAll(VH),s=Array.from(r).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(i=>Rn(i))},_w=()=>ps(document.body,U.shown)&&!ps(document.body,U["toast-shown"])&&!ps(document.body,U["no-backdrop"]),Yf=()=>{const t=Be();return t?ps(t,U.toast):!1},FH=()=>{const t=Be();return t?t.hasAttribute("data-loading"):!1},Kn=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{t.appendChild(o)});const i=r.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},ps=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},$H=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(U).includes(n)&&!Object.values(Id).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Hn=(t,e,n)=>{if($H(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){gn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}je(t,r)}},Xf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${U.popup} > .${U[e]}`);case"checkbox":return t.querySelector(`.${U.popup} > .${U.checkbox} input`);case"radio":return t.querySelector(`.${U.popup} > .${U.radio} input:checked`)||t.querySelector(`.${U.popup} > .${U.radio} input:first-child`);case"range":return t.querySelector(`.${U.popup} > .${U.range} input`);default:return t.querySelector(`.${U.popup} > .${U.input}`)}},mP=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},gP=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},je=(t,e)=>{gP(t,e,!0)},ir=(t,e)=>{gP(t,e,!1)},Ws=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&ps(s,e))return s}},$i=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Dt=(t,e="flex")=>{t&&(t.style.display=e)},sn=t=>{t&&(t.style.display="none")},yw=(t,e="block")=>{t&&new MutationObserver(()=>{nu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},nS=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},nu=(t,e,n="flex")=>{e?Dt(t,n):sn(t)},Rn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),BH=()=>!Rn(Gr())&&!Rn(mo())&&!Rn(Xa()),Kg=t=>t.scrollHeight>t.clientHeight,UH=(t,e)=>{let n=t;for(;n&&n!==e;){if(Kg(n))return!0;n=n.parentElement}return!1},_P=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},ww=(t,e=!1)=>{const n=Kf();n&&Rn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},HH=()=>{const t=Kf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},jH=()=>typeof window>"u"||typeof document>"u",WH=`
 <div aria-labelledby="${U.title}" aria-describedby="${U["html-container"]}" class="${U.popup}" tabindex="-1">
   <button type="button" class="${U.close}"></button>
   <ul class="${U["progress-steps"]}"></ul>
   <div class="${U.icon}"></div>
   <img class="${U.image}" />
   <h2 class="${U.title}" id="${U.title}"></h2>
   <div class="${U["html-container"]}" id="${U["html-container"]}"></div>
   <input class="${U.input}" id="${U.input}" />
   <input type="file" class="${U.file}" />
   <div class="${U.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${U.select}" id="${U.select}"></select>
   <div class="${U.radio}"></div>
   <label class="${U.checkbox}">
     <input type="checkbox" id="${U.checkbox}" />
     <span class="${U.label}"></span>
   </label>
   <textarea class="${U.textarea}" id="${U.textarea}"></textarea>
   <div class="${U["validation-message"]}" id="${U["validation-message"]}"></div>
   <div class="${U.actions}">
     <div class="${U.loader}"></div>
     <button type="button" class="${U.confirm}"></button>
     <button type="button" class="${U.deny}"></button>
     <button type="button" class="${U.cancel}"></button>
   </div>
   <div class="${U.footer}"></div>
   <div class="${U["timer-progress-bar-container"]}">
     <div class="${U["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),qH=()=>{const t=_n();return t?(t.remove(),ir([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0):!1},Ai=()=>{fe.currentInstance.resetValidationMessage()},zH=()=>{const t=Be(),e=Ws(t,U.input),n=Ws(t,U.file),r=t.querySelector(`.${U.range} input`),s=t.querySelector(`.${U.range} output`),i=Ws(t,U.select),o=t.querySelector(`.${U.checkbox} input`),a=Ws(t,U.textarea);e.oninput=Ai,n.onchange=Ai,i.onchange=Ai,o.onchange=Ai,a.oninput=Ai,r.oninput=()=>{Ai(),s.value=r.value},r.onchange=()=>{Ai(),s.value=r.value}},GH=t=>typeof t=="string"?document.querySelector(t):t,KH=t=>{const e=Be();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},YH=t=>{window.getComputedStyle(t).direction==="rtl"&&je(_n(),U.rtl)},XH=t=>{const e=qH();if(jH()){po("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=U.container,e&&je(n,U["no-transition"]),Kn(n,WH),n.dataset.swal2Theme=t.theme;const r=GH(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),KH(t),YH(r),zH()},vw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?QH(t,e):t&&Kn(e,t)},QH=(t,e)=>{t.jquery?JH(e,t):Kn(e,t.toString())},JH=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},ZH=(t,e)=>{const n=tu(),r=Qa();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?sn(n):Dt(n),Hn(n,e,"actions"),ej(n,r,e),Kn(r,e.loaderHtml||""),Hn(r,e,"loader"))};function ej(t,e,n){const r=Gr(),s=mo(),i=Xa();!r||!s||!i||(mm(r,"confirm",n),mm(s,"deny",n),mm(i,"cancel",n),tj(r,s,i,n),n.reverseButtons&&(n.toast?(t.insertBefore(i,r),t.insertBefore(s,r)):(t.insertBefore(i,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function tj(t,e,n,r){if(!r.buttonsStyling){ir([t,e,n],U.styled);return}je([t,e,n],U.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),pm(t),pm(e),pm(n)}function pm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function mm(t,e,n){const r=uw(e);nu(t,n[`show${r}Button`],"inline-block"),Kn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=U[e],Hn(t,n,`${e}Button`)}const nj=(t,e)=>{const n=mw();n&&(Kn(n,e.closeButtonHtml||""),Hn(n,e,"closeButton"),nu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},rj=(t,e)=>{const n=_n();n&&(sj(n,e.backdrop),ij(n,e.position),oj(n,e.grow),Hn(n,e,"container"))};function sj(t,e){typeof e=="string"?t.style.background=e:e||je([document.documentElement,document.body],U["no-backdrop"])}function ij(t,e){e&&(e in U?je(t,U[e]):(gn('The "position" parameter is not valid, defaulting to "center"'),je(t,U.center)))}function oj(t,e){e&&je(t,U[`grow-${e}`])}var Ze={innerParams:new WeakMap,domCache:new WeakMap};const aj=["input","file","range","select","radio","checkbox","textarea"],lj=(t,e)=>{const n=Be();if(!n)return;const r=Ze.innerParams.get(t),s=!r||e.input!==r.input;aj.forEach(i=>{const o=Ws(n,U[i]);o&&(hj(i,e.inputAttributes),o.className=U[i],s&&sn(o))}),e.input&&(s&&cj(e),dj(e))},cj=t=>{if(!t.input)return;if(!gt[t.input]){po(`Unexpected type of input! Expected ${Object.keys(gt).join(" | ")}, got "${t.input}"`);return}const e=yP(t.input);if(!e)return;const n=gt[t.input](e,t);Dt(e),t.inputAutoFocus&&setTimeout(()=>{mP(n)})},uj=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},hj=(t,e)=>{const n=Be();if(!n)return;const r=Xf(n,t);if(r){uj(r);for(const s in e)r.setAttribute(s,e[s])}},dj=t=>{if(!t.input)return;const e=yP(t.input);e&&Hn(e,t,"input")},Ew=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},ru=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=U["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&je(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},yP=t=>{const e=Be();if(e)return Ws(e,U[t]||U.input)},Rd=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:dw(e)||gn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},gt={};gt.text=gt.email=gt.password=gt.number=gt.tel=gt.url=gt.search=gt.date=gt["datetime-local"]=gt.time=gt.week=gt.month=(t,e)=>(Rd(t,e.inputValue),ru(t,t,e),Ew(t,e),t.type=e.input,t);gt.file=(t,e)=>(ru(t,t,e),Ew(t,e),t);gt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Rd(n,e.inputValue),n.type=e.input,Rd(r,e.inputValue),ru(n,t,e),t};gt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Kn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ru(t,t,e),t};gt.radio=t=>(t.textContent="",t);gt.checkbox=(t,e)=>{const n=Xf(Be(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Kn(r,e.inputPlaceholder||e.inputLabel),n};gt.textarea=(t,e)=>{Rd(t,e.inputValue),Ew(t,e),ru(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Be()).width),s=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+n(t);i>r?Be().style.width=`${i}px`:$i(Be(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const fj=(t,e)=>{const n=fw();n&&(yw(n),Hn(n,e,"htmlContainer"),e.html?(vw(e.html,n),Dt(n,"block")):e.text?(n.textContent=e.text,Dt(n,"block")):sn(n),lj(t,e))},pj=(t,e)=>{const n=pP();n&&(yw(n),nu(n,e.footer,"block"),e.footer&&vw(e.footer,n),Hn(n,e,"footer"))},mj=(t,e)=>{const n=Ze.innerParams.get(t),r=Ya();if(!r)return;if(n&&e.icon===n.icon){sS(r,e),rS(r,e);return}if(!e.icon&&!e.iconHtml){sn(r);return}if(e.icon&&Object.keys(Id).indexOf(e.icon)===-1){po(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),sn(r);return}Dt(r),sS(r,e),rS(r,e),je(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",wP)},rS=(t,e)=>{for(const[n,r]of Object.entries(Id))e.icon!==n&&ir(t,r);je(t,e.icon&&Id[e.icon]),yj(t,e),wP(),Hn(t,e,"icon")},wP=()=>{const t=Be();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},gj=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,_j=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,sS=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=iS(e.iconHtml):e.icon==="success"?(r=gj(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=_j:e.icon&&(r=iS({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Kn(t,r)},yj=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])nS(t,n,"background-color",e.iconColor);nS(t,".swal2-success-ring","border-color",e.iconColor)}},iS=t=>`<div class="${U["icon-content"]}">${t}</div>`,wj=(t,e)=>{const n=fP();if(n){if(!e.imageUrl){sn(n);return}Dt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),$i(n,"width",e.imageWidth),$i(n,"height",e.imageHeight),n.className=U.image,Hn(n,e,"image")}};let bw=!1,vP=0,EP=0,bP=0,TP=0;const vj=t=>{t.addEventListener("mousedown",kd),document.body.addEventListener("mousemove",Pd),t.addEventListener("mouseup",Nd),t.addEventListener("touchstart",kd),document.body.addEventListener("touchmove",Pd),t.addEventListener("touchend",Nd)},Ej=t=>{t.removeEventListener("mousedown",kd),document.body.removeEventListener("mousemove",Pd),t.removeEventListener("mouseup",Nd),t.removeEventListener("touchstart",kd),document.body.removeEventListener("touchmove",Pd),t.removeEventListener("touchend",Nd)},kd=t=>{const e=Be();if(t.target===e||Ya().contains(t.target)){bw=!0;const n=SP(t);vP=n.clientX,EP=n.clientY,bP=parseInt(e.style.insetInlineStart)||0,TP=parseInt(e.style.insetBlockStart)||0,je(e,"swal2-dragging")}},Pd=t=>{const e=Be();if(bw){let{clientX:n,clientY:r}=SP(t);e.style.insetInlineStart=`${bP+(n-vP)}px`,e.style.insetBlockStart=`${TP+(r-EP)}px`}},Nd=()=>{const t=Be();bw=!1,ir(t,"swal2-dragging")},SP=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},bj=(t,e)=>{const n=_n(),r=Be();if(!(!n||!r)){if(e.toast){$i(n,"width",e.width),r.style.width="100%";const s=Qa();s&&r.insertBefore(s,Ya())}else $i(r,"width",e.width);$i(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),sn(Gf()),Tj(r,e),e.draggable&&!e.toast?(je(r,U.draggable),vj(r)):(ir(r,U.draggable),Ej(r))}},Tj=(t,e)=>{const n=e.showClass||{};t.className=`${U.popup} ${Rn(t)?n.popup:""}`,e.toast?(je([document.documentElement,document.body],U["toast-shown"]),je(t,U.toast)):je(t,U.modal),Hn(t,e,"popup"),typeof e.customClass=="string"&&je(t,e.customClass),e.icon&&je(t,U[`icon-${e.icon}`])},Sj=(t,e)=>{const n=pw();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){sn(n);return}Dt(n),n.textContent="",s>=r.length&&gn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((i,o)=>{const a=Aj(i);if(n.appendChild(a),o===s&&je(a,U["active-progress-step"]),o!==r.length-1){const l=Cj(e);n.appendChild(l)}})},Aj=t=>{const e=document.createElement("li");return je(e,U["progress-step"]),Kn(e,t),e},Cj=t=>{const e=document.createElement("li");return je(e,U["progress-step-line"]),t.progressStepsDistance&&$i(e,"width",t.progressStepsDistance),e},Ij=(t,e)=>{const n=dP();n&&(yw(n),nu(n,e.title||e.titleText,"block"),e.title&&vw(e.title,n),e.titleText&&(n.innerText=e.titleText),Hn(n,e,"title"))},AP=(t,e)=>{bj(t,e),rj(t,e),Sj(t,e),mj(t,e),wj(t,e),Ij(t,e),nj(t,e),fj(t,e),ZH(t,e),pj(t,e);const n=Be();typeof e.didRender=="function"&&n&&e.didRender(n),fe.eventEmitter.emit("didRender",n)},Rj=()=>Rn(Be()),CP=()=>{var t;return(t=Gr())===null||t===void 0?void 0:t.click()},kj=()=>{var t;return(t=mo())===null||t===void 0?void 0:t.click()},Pj=()=>{var t;return(t=Xa())===null||t===void 0?void 0:t.click()},Ja=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),IP=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Nj=(t,e,n)=>{IP(t),e.toast||(t.keydownHandler=r=>Oj(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Be(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Yg=(t,e)=>{var n;const r=gw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Be())===null||n===void 0||n.focus()},RP=["ArrowRight","ArrowDown"],xj=["ArrowLeft","ArrowUp"],Oj=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Dj(e,t):e.key==="Tab"?Lj(e):[...RP,...xj].includes(e.key)?Mj(e.key):e.key==="Escape"&&Vj(e,t,n)))},Dj=(t,e)=>{if(!zf(e.allowEnterKey))return;const n=Xf(Be(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;CP(),t.preventDefault()}},Lj=t=>{const e=t.target,n=gw();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?Yg(r,-1):Yg(r,1),t.stopPropagation(),t.preventDefault()},Mj=t=>{const e=tu(),n=Gr(),r=mo(),s=Xa();if(!e||!n||!r||!s)return;const i=[n,r,s];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=RP.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let l=0;l<e.children.length;l++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&Rn(a))break}a instanceof HTMLButtonElement&&a.focus()}},Vj=(t,e,n)=>{t.preventDefault(),zf(e.allowEscapeKey)&&n(Ja.esc)};var Ta={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Fj=()=>{const t=_n();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},kP=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},PP=typeof window<"u"&&!!window.GestureEvent,$j=()=>{if(PP&&!ps(document.body,U.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,je(document.body,U.iosfix),Bj()}},Bj=()=>{const t=_n();if(!t)return;let e;t.ontouchstart=n=>{e=Uj(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},Uj=t=>{const e=t.target,n=_n(),r=fw();return!n||!r||Hj(t)||jj(t)?!1:e===n||!Kg(n)&&e instanceof HTMLElement&&!UH(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Kg(r)&&r.contains(e))},Hj=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",jj=t=>t.touches&&t.touches.length>1,Wj=()=>{if(ps(document.body,U.iosfix)){const t=parseInt(document.body.style.top,10);ir(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},qj=()=>{const t=document.createElement("div");t.className=U["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let ra=null;const zj=t=>{ra===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(ra=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ra+qj()}px`)},Gj=()=>{ra!==null&&(document.body.style.paddingRight=`${ra}px`,ra=null)};function NP(t,e,n,r){Yf()?oS(t,r):(NH(n).then(()=>oS(t,r)),IP(fe)),PP?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),_w()&&(Gj(),Wj(),kP()),Kj()}function Kj(){ir([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}function qs(t){t=Xj(t);const e=Ta.swalPromiseResolve.get(this),n=Yj(this);this.isAwaitingPromise?t.isDismissed||(su(this),e(t)):n&&e(t)}const Yj=t=>{const e=Be();if(!e)return!1;const n=Ze.innerParams.get(t);if(!n||ps(e,n.hideClass.popup))return!1;ir(e,n.showClass.popup),je(e,n.hideClass.popup);const r=_n();return ir(r,n.showClass.backdrop),je(r,n.hideClass.backdrop),Qj(t,e,n),!0};function xP(t){const e=Ta.swalPromiseReject.get(this);su(this),e&&e(t)}const su=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ze.innerParams.get(t)||t._destroy())},Xj=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Qj=(t,e,n)=>{var r;const s=_n(),i=_P(e);typeof n.willClose=="function"&&n.willClose(e),(r=fe.eventEmitter)===null||r===void 0||r.emit("willClose",e),i?Jj(t,e,s,n.returnFocus,n.didClose):NP(t,s,n.returnFocus,n.didClose)},Jj=(t,e,n,r,s)=>{fe.swalCloseEventFinishedCallback=NP.bind(null,t,n,r,s);const i=function(o){if(o.target===e){var a;(a=fe.swalCloseEventFinishedCallback)===null||a===void 0||a.call(fe),delete fe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},oS=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=fe.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Sa=t=>{let e=Be();if(e||new xi,e=Be(),!e)return;const n=Qa();Yf()?sn(Ya()):Zj(e,t),Dt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Zj=(t,e)=>{const n=tu(),r=Qa();!n||!r||(!e&&Rn(Gr())&&(e=Gr()),Dt(n),e&&(sn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),je([t,n],U.loading))},e3=(t,e)=>{e.input==="select"||e.input==="radio"?i3(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(hw(e.inputValue)||dw(e.inputValue))&&(Sa(Gr()),o3(t,e))},t3=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return n3(n);case"radio":return r3(n);case"file":return s3(n);default:return e.inputAutoTrim?n.value.trim():n.value}},n3=t=>t.checked?1:0,r3=t=>t.checked?t.value:null,s3=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,i3=(t,e)=>{const n=Be();if(!n)return;const r=s=>{e.input==="select"?a3(n,xd(s),e):e.input==="radio"&&l3(n,xd(s),e)};hw(e.inputOptions)||dw(e.inputOptions)?(Sa(Gr()),Zc(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):po(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},o3=(t,e)=>{const n=t.getInput();n&&(sn(n),Zc(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Dt(n),n.focus(),t.hideLoading()}).catch(r=>{po(`Error in inputValue promise: ${r}`),n.value="",Dt(n),n.focus(),t.hideLoading()}))};function a3(t,e,n){const r=Ws(t,U.select);if(!r)return;const s=(i,o,a)=>{const l=document.createElement("option");l.value=a,Kn(l,o),l.selected=OP(a,n.inputValue),i.appendChild(l)};e.forEach(i=>{const o=i[0],a=i[1];if(Array.isArray(a)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,r.appendChild(l),a.forEach(c=>s(l,c[1],c[0]))}else s(r,a,o)}),r.focus()}function l3(t,e,n){const r=Ws(t,U.radio);if(!r)return;e.forEach(i=>{const o=i[0],a=i[1],l=document.createElement("input"),c=document.createElement("label");l.type="radio",l.name=U.radio,l.value=o,OP(o,n.inputValue)&&(l.checked=!0);const h=document.createElement("span");Kn(h,a),h.className=U.label,c.appendChild(l),c.appendChild(h),r.appendChild(c)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const xd=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=xd(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=xd(r)),e.push([n,r])}),e},OP=(t,e)=>!!e&&e.toString()===t.toString(),c3=t=>{const e=Ze.innerParams.get(t);t.disableButtons(),e.input?DP(t,"confirm"):Sw(t,!0)},u3=t=>{const e=Ze.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?DP(t,"deny"):Tw(t,!1)},h3=(t,e)=>{t.disableButtons(),e(Ja.cancel)},DP=(t,e)=>{const n=Ze.innerParams.get(t);if(!n.input){po(`The "input" parameter is needed to be set when using returnInputValueOn${uw(e)}`);return}const r=t.getInput(),s=t3(t,n);n.inputValidator?d3(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Tw(t,s):Sw(t,s)},d3=(t,e,n)=>{const r=Ze.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Zc(r.inputValidator(e,r.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):n==="deny"?Tw(t,e):Sw(t,e)})},Tw=(t,e)=>{const n=Ze.innerParams.get(t||void 0);n.showLoaderOnDeny&&Sa(mo()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Zc(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),su(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>LP(t||void 0,s))):t.close({isDenied:!0,value:e})},aS=(t,e)=>{t.close({isConfirmed:!0,value:e})},LP=(t,e)=>{t.rejectPromise(e)},Sw=(t,e)=>{const n=Ze.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Sa(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Zc(n.preConfirm(e,n.validationMessage))).then(s=>{Rn(Gf())||s===!1?(t.hideLoading(),su(t)):aS(t,typeof s>"u"?e:s)}).catch(s=>LP(t||void 0,s))):aS(t,e)};function Od(){const t=Ze.innerParams.get(this);if(!t)return;const e=Ze.domCache.get(this);sn(e.loader),Yf()?t.icon&&Dt(Ya()):f3(e),ir([e.popup,e.actions],U.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const f3=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Dt(e[0],"inline-block"):BH()&&sn(t.actions)};function MP(){const t=Ze.innerParams.get(this),e=Ze.domCache.get(this);return e?Xf(e.popup,t.input):null}function VP(t,e,n){const r=Ze.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function FP(t,e){const n=Be();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${U.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function $P(){VP(this,["confirmButton","denyButton","cancelButton"],!1)}function BP(){VP(this,["confirmButton","denyButton","cancelButton"],!0)}function UP(){FP(this.getInput(),!1)}function HP(){FP(this.getInput(),!0)}function jP(t){const e=Ze.domCache.get(this),n=Ze.innerParams.get(this);Kn(e.validationMessage,t),e.validationMessage.className=U["validation-message"],n.customClass&&n.customClass.validationMessage&&je(e.validationMessage,n.customClass.validationMessage),Dt(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",U["validation-message"]),mP(r),je(r,U.inputerror))}function WP(){const t=Ze.domCache.get(this);t.validationMessage&&sn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ir(e,U.inputerror))}const sa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},p3=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],m3={allowEnterKey:void 0},g3=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qP=t=>Object.prototype.hasOwnProperty.call(sa,t),zP=t=>p3.indexOf(t)!==-1,GP=t=>m3[t],_3=t=>{qP(t)||gn(`Unknown parameter "${t}"`)},y3=t=>{g3.includes(t)&&gn(`The parameter "${t}" is incompatible with toasts`)},w3=t=>{const e=GP(t);e&&hP(t,e)},KP=t=>{t.backdrop===!1&&t.allowOutsideClick&&gn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&gn(`Invalid theme "${t.theme}"`);for(const e in t)_3(e),t.toast&&y3(e),w3(e)};function YP(t){const e=_n(),n=Be(),r=Ze.innerParams.get(this);if(!n||ps(n,r.hideClass.popup)){gn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=v3(t),i=Object.assign({},r,s);KP(i),e.dataset.swal2Theme=i.theme,AP(this,i),Ze.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const v3=t=>{const e={};return Object.keys(t).forEach(n=>{zP(n)?e[n]=t[n]:gn(`Invalid parameter to update: ${n}`)}),e};function XP(){const t=Ze.domCache.get(this),e=Ze.innerParams.get(this);if(!e){QP(this);return}t.popup&&fe.swalCloseEventFinishedCallback&&(fe.swalCloseEventFinishedCallback(),delete fe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),fe.eventEmitter.emit("didDestroy"),E3(this)}const E3=t=>{QP(t),delete t.params,delete fe.keydownHandler,delete fe.keydownTarget,delete fe.currentInstance},QP=t=>{t.isAwaitingPromise?(gm(Ze,t),t.isAwaitingPromise=!0):(gm(Ta,t),gm(Ze,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},gm=(t,e)=>{for(const n in t)t[n].delete(e)};var b3=Object.freeze({__proto__:null,_destroy:XP,close:qs,closeModal:qs,closePopup:qs,closeToast:qs,disableButtons:BP,disableInput:HP,disableLoading:Od,enableButtons:$P,enableInput:UP,getInput:MP,handleAwaitingPromise:su,hideLoading:Od,rejectPromise:xP,resetValidationMessage:WP,showValidationMessage:jP,update:YP});const T3=(t,e,n)=>{t.toast?S3(t,e,n):(C3(e),I3(e),R3(t,e,n))},S3=(t,e,n)=>{e.popup.onclick=()=>{t&&(A3(t)||t.timer||t.input)||n(Ja.close)}},A3=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Dd=!1;const C3=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Dd=!0)}}},I3=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Dd=!0)}}},R3=(t,e,n)=>{e.container.onclick=r=>{if(Dd){Dd=!1;return}r.target===e.container&&zf(t.allowOutsideClick)&&n(Ja.backdrop)}},k3=t=>typeof t=="object"&&t.jquery,lS=t=>t instanceof Element||k3(t),P3=t=>{const e={};return typeof t[0]=="object"&&!lS(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||lS(s)?e[n]=s:s!==void 0&&po(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function N3(...t){return new this(...t)}function x3(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const O3=()=>fe.timeout&&fe.timeout.getTimerLeft(),JP=()=>{if(fe.timeout)return HH(),fe.timeout.stop()},ZP=()=>{if(fe.timeout){const t=fe.timeout.start();return ww(t),t}},D3=()=>{const t=fe.timeout;return t&&(t.running?JP():ZP())},L3=t=>{if(fe.timeout){const e=fe.timeout.increase(t);return ww(e,!0),e}},M3=()=>!!(fe.timeout&&fe.timeout.isRunning());let cS=!1;const Xg={};function V3(t="data-swal-template"){Xg[t]=this,cS||(document.body.addEventListener("click",F3),cS=!0)}const F3=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Xg){const r=e.getAttribute(n);if(r){Xg[n].fire({template:r});return}}};class $3{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}fe.eventEmitter=new $3;const B3=(t,e)=>{fe.eventEmitter.on(t,e)},U3=(t,e)=>{fe.eventEmitter.once(t,e)},H3=(t,e)=>{if(!t){fe.eventEmitter.reset();return}e?fe.eventEmitter.removeListener(t,e):fe.eventEmitter.removeAllListeners(t)};var j3=Object.freeze({__proto__:null,argsToParams:P3,bindClickHandler:V3,clickCancel:Pj,clickConfirm:CP,clickDeny:kj,enableLoading:Sa,fire:N3,getActions:tu,getCancelButton:Xa,getCloseButton:mw,getConfirmButton:Gr,getContainer:_n,getDenyButton:mo,getFocusableElements:gw,getFooter:pP,getHtmlContainer:fw,getIcon:Ya,getIconContent:LH,getImage:fP,getInputLabel:MH,getLoader:Qa,getPopup:Be,getProgressSteps:pw,getTimerLeft:O3,getTimerProgressBar:Kf,getTitle:dP,getValidationMessage:Gf,increaseTimer:L3,isDeprecatedParameter:GP,isLoading:FH,isTimerRunning:M3,isUpdatableParameter:zP,isValidParameter:qP,isVisible:Rj,mixin:x3,off:H3,on:B3,once:U3,resumeTimer:ZP,showLoading:Sa,stopTimer:JP,toggleTimer:D3});class W3{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const eN=["swal-title","swal-html","swal-footer"],q3=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Z3(n),Object.assign(z3(n),G3(n),K3(n),Y3(n),X3(n),Q3(n),J3(n,eN))},z3=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Xi(r,["name","value"]);const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(typeof sa[s]=="boolean"?e[s]=i!=="false":typeof sa[s]=="object"?e[s]=JSON.parse(i):e[s]=i)}),e},G3=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),i=r.getAttribute("value");!s||!i||(e[s]=new Function(`return ${i}`)())}),e},K3=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Xi(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${uw(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},Y3=t=>{const e={},n=t.querySelector("swal-image");return n&&(Xi(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},X3=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Xi(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Q3=t=>{const e={},n=t.querySelector("swal-input");n&&(Xi(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Xi(s,["value"]);const i=s.getAttribute("value");if(!i)return;const o=s.innerHTML;e.inputOptions[i]=o})),e},J3=(t,e)=>{const n={};for(const r in e){const s=e[r],i=t.querySelector(s);i&&(Xi(i,[]),n[s.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Z3=t=>{const e=eN.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||gn(`Unrecognized element <${r}>`)})},Xi=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&gn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},tN=10,e9=t=>{const e=_n(),n=Be();typeof t.willOpen=="function"&&t.willOpen(n),fe.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;r9(e,n,t),setTimeout(()=>{t9(e,n)},tN),_w()&&(n9(e,t.scrollbarPadding,s),Fj()),!Yf()&&!fe.previousActiveElement&&(fe.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),fe.eventEmitter.emit("didOpen",n),ir(e,U["no-transition"])},Ld=t=>{const e=Be();if(t.target!==e)return;const n=_n();e.removeEventListener("animationend",Ld),e.removeEventListener("transitionend",Ld),n.style.overflowY="auto"},t9=(t,e)=>{_P(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Ld),e.addEventListener("transitionend",Ld)):t.style.overflowY="auto"},n9=(t,e,n)=>{$j(),e&&n!=="hidden"&&zj(n),setTimeout(()=>{t.scrollTop=0})},r9=(t,e,n)=>{je(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Dt(e,"grid"),setTimeout(()=>{je(e,n.showClass.popup),e.style.removeProperty("opacity")},tN)):Dt(e,"grid"),je([document.documentElement,document.body],U.shown),n.heightAuto&&n.backdrop&&!n.toast&&je([document.documentElement,document.body],U["height-auto"])};var uS={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function s9(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=uS.email),t.input==="url"&&(t.inputValidator=uS.url))}function i9(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(gn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function o9(t){s9(t),t.showLoaderOnConfirm&&!t.preConfirm&&gn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),i9(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),XH(t)}let xr;var Xu=new WeakMap;class wt{constructor(...e){if(IH(this,Xu,void 0),typeof window>"u")return;xr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,RH(Xu,this,this._main(xr.params))}_main(e,n={}){if(KP(Object.assign({},n,e)),fe.currentInstance){const i=Ta.swalPromiseResolve.get(fe.currentInstance),{isAwaitingPromise:o}=fe.currentInstance;fe.currentInstance._destroy(),o||i({isDismissed:!0}),_w()&&kP()}fe.currentInstance=xr;const r=l9(e,n);o9(r),Object.freeze(r),fe.timeout&&(fe.timeout.stop(),delete fe.timeout),clearTimeout(fe.restoreFocusTimeout);const s=c9(xr);return AP(xr,r),Ze.innerParams.set(xr,r),a9(xr,s,r)}then(e){return eS(Xu,this).then(e)}finally(e){return eS(Xu,this).finally(e)}}const a9=(t,e,n)=>new Promise((r,s)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o})};Ta.swalPromiseResolve.set(t,r),Ta.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{c3(t)},e.denyButton.onclick=()=>{u3(t)},e.cancelButton.onclick=()=>{h3(t,i)},e.closeButton.onclick=()=>{i(Ja.close)},T3(n,e,i),Nj(fe,n,i),e3(t,n),e9(n),u9(fe,n,i),h9(e,n),setTimeout(()=>{e.container.scrollTop=0})}),l9=(t,e)=>{const n=q3(t),r=Object.assign({},sa,e,n,t);return r.showClass=Object.assign({},sa.showClass,r.showClass),r.hideClass=Object.assign({},sa.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},c9=t=>{const e={popup:Be(),container:_n(),actions:tu(),confirmButton:Gr(),denyButton:mo(),cancelButton:Xa(),loader:Qa(),closeButton:mw(),validationMessage:Gf(),progressSteps:pw()};return Ze.domCache.set(t,e),e},u9=(t,e,n)=>{const r=Kf();sn(r),e.timer&&(t.timeout=new W3(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Dt(r),Hn(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ww(e.timer)})))},h9=(t,e)=>{if(!e.toast){if(!zf(e.allowEnterKey)){hP("allowEnterKey"),p9();return}d9(t)||f9(t,e)||Yg(-1,1)}},d9=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Rn(n))return n.focus(),!0;return!1},f9=(t,e)=>e.focusDeny&&Rn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Rn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Rn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,p9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};wt.prototype.disableButtons=BP;wt.prototype.enableButtons=$P;wt.prototype.getInput=MP;wt.prototype.disableInput=HP;wt.prototype.enableInput=UP;wt.prototype.hideLoading=Od;wt.prototype.disableLoading=Od;wt.prototype.showValidationMessage=jP;wt.prototype.resetValidationMessage=WP;wt.prototype.close=qs;wt.prototype.closePopup=qs;wt.prototype.closeModal=qs;wt.prototype.closeToast=qs;wt.prototype.rejectPromise=xP;wt.prototype.update=YP;wt.prototype._destroy=XP;Object.assign(wt,j3);Object.keys(b3).forEach(t=>{wt[t]=function(...e){return xr&&xr[t]?xr[t](...e):null}});wt.DismissReason=Ja;wt.version="11.22.4";const xi=wt;xi.default=xi;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const SZ=t=>{let e=new Date(t);return AH(e)};function m9(){document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()}const Aw=t=>{if(t.response&&t.response.status===429)console.debug("Rate limit exceeded"),xi.fire({text:"Scores are getting added to this board too quickly. Please take a break!",icon:"warning",confirmButtonText:"OK"});else if(t.response&&t.response.status===404&&t.response.data&&t.response.data.message)console.debug("404 error with message:",t.response.data.message),xi.fire({text:"Sorry, that didn't work: "+t.response.data.message,icon:"error",confirmButtonText:"OK"});else if(t.response&&t.response.status===400&&t.response.data&&t.response.data.message)console.debug("400 error with message:",t.response.data.message),xi.fire({text:t.response.data.message,icon:"error",confirmButtonText:"OK"});else throw console.log("API post failed. "+t),xi.fire({text:"Sorry, that didn't work. Are you still connected to the Internet?",icon:"error",confirmButtonText:"OK"}),t},AZ=()=>Math.random().toString(36).substring(2,10),g9=()=>{const t=document.getElementById("backend-data");return JSON.parse(t.textContent)};function nN(t,e){return function(){return t.apply(e,arguments)}}const{toString:_9}=Object.prototype,{getPrototypeOf:Cw}=Object,Qf=(t=>e=>{const n=_9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>Qf(e)===t),Jf=t=>e=>typeof e===t,{isArray:Za}=Array,kc=Jf("undefined");function y9(t){return t!==null&&!kc(t)&&t.constructor!==null&&!kc(t.constructor)&&Bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rN=Cr("ArrayBuffer");function w9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rN(t.buffer),e}const v9=Jf("string"),Bn=Jf("function"),sN=Jf("number"),Zf=t=>t!==null&&typeof t=="object",E9=t=>t===!0||t===!1,Ch=t=>{if(Qf(t)!=="object")return!1;const e=Cw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b9=Cr("Date"),T9=Cr("File"),S9=Cr("Blob"),A9=Cr("FileList"),C9=t=>Zf(t)&&Bn(t.pipe),I9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bn(t.append)&&((e=Qf(t))==="formdata"||e==="object"&&Bn(t.toString)&&t.toString()==="[object FormData]"))},R9=Cr("URLSearchParams"),[k9,P9,N9,x9]=["ReadableStream","Request","Response","Headers"].map(Cr),O9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Za(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function iN(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oN=t=>!kc(t)&&t!==Oi;function Qg(){const{caseless:t}=oN(this)&&this||{},e={},n=(r,s)=>{const i=t&&iN(e,s)||s;Ch(e[i])&&Ch(r)?e[i]=Qg(e[i],r):Ch(r)?e[i]=Qg({},r):Za(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&iu(arguments[r],n);return e}const D9=(t,e,n,{allOwnKeys:r}={})=>(iu(e,(s,i)=>{n&&Bn(s)?t[i]=nN(s,n):t[i]=s},{allOwnKeys:r}),t),L9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),M9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},V9=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Cw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},F9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},$9=t=>{if(!t)return null;if(Za(t))return t;let e=t.length;if(!sN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},B9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Cw(Uint8Array)),U9=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},H9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},j9=Cr("HTMLFormElement"),W9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),hS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),q9=Cr("RegExp"),aN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};iu(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},z9=t=>{aN(t,(e,n)=>{if(Bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},G9=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Za(t)?r(t):r(String(t).split(e)),n},K9=()=>{},Y9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function X9(t){return!!(t&&Bn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Q9=t=>{const e=new Array(10),n=(r,s)=>{if(Zf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Za(r)?[]:{};return iu(r,(o,a)=>{const l=n(o,s+1);!kc(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},J9=Cr("AsyncFunction"),Z9=t=>t&&(Zf(t)||Bn(t))&&Bn(t.then)&&Bn(t.catch),lN=((t,e)=>t?setImmediate:e?((n,r)=>(Oi.addEventListener("message",({source:s,data:i})=>{s===Oi&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Oi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bn(Oi.postMessage)),eW=typeof queueMicrotask<"u"?queueMicrotask.bind(Oi):typeof process<"u"&&process.nextTick||lN,B={isArray:Za,isArrayBuffer:rN,isBuffer:y9,isFormData:I9,isArrayBufferView:w9,isString:v9,isNumber:sN,isBoolean:E9,isObject:Zf,isPlainObject:Ch,isReadableStream:k9,isRequest:P9,isResponse:N9,isHeaders:x9,isUndefined:kc,isDate:b9,isFile:T9,isBlob:S9,isRegExp:q9,isFunction:Bn,isStream:C9,isURLSearchParams:R9,isTypedArray:B9,isFileList:A9,forEach:iu,merge:Qg,extend:D9,trim:O9,stripBOM:L9,inherits:M9,toFlatObject:V9,kindOf:Qf,kindOfTest:Cr,endsWith:F9,toArray:$9,forEachEntry:U9,matchAll:H9,isHTMLForm:j9,hasOwnProperty:hS,hasOwnProp:hS,reduceDescriptors:aN,freezeMethods:z9,toObjectSet:G9,toCamelCase:W9,noop:K9,toFiniteNumber:Y9,findKey:iN,global:Oi,isContextDefined:oN,isSpecCompliantForm:X9,toJSONObject:Q9,isAsyncFn:J9,isThenable:Z9,setImmediate:lN,asap:eW};function Ae(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}B.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const cN=Ae.prototype,uN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uN[t]={value:t}});Object.defineProperties(Ae,uN);Object.defineProperty(cN,"isAxiosError",{value:!0});Ae.from=(t,e,n,r,s,i)=>{const o=Object.create(cN);return B.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ae.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const tW=null;function Jg(t){return B.isPlainObject(t)||B.isArray(t)}function hN(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function dS(t,e,n){return t?t.concat(e).map(function(s,i){return s=hN(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function nW(t){return B.isArray(t)&&!t.some(Jg)}const rW=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function ep(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,T){return!B.isUndefined(T[y])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(s))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(B.isDate(_))return _.toISOString();if(!l&&B.isBlob(_))throw new Ae("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(_)||B.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,y,T){let N=_;if(_&&!T&&typeof _=="object"){if(B.endsWith(y,"{}"))y=r?y:y.slice(0,-2),_=JSON.stringify(_);else if(B.isArray(_)&&nW(_)||(B.isFileList(_)||B.endsWith(y,"[]"))&&(N=B.toArray(_)))return y=hN(y),N.forEach(function(x,D){!(B.isUndefined(x)||x===null)&&e.append(o===!0?dS([y],D,i):o===null?y:y+"[]",c(x))}),!1}return Jg(_)?!0:(e.append(dS(T,y,i),c(_)),!1)}const d=[],f=Object.assign(rW,{defaultVisitor:h,convertValue:c,isVisitable:Jg});function g(_,y){if(!B.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(_),B.forEach(_,function(N,O){(!(B.isUndefined(N)||N===null)&&s.call(e,N,B.isString(O)?O.trim():O,y,f))===!0&&g(N,y?y.concat(O):[O])}),d.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return g(t),e}function fS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Iw(t,e){this._pairs=[],t&&ep(t,this,e)}const dN=Iw.prototype;dN.append=function(e,n){this._pairs.push([e,n])};dN.toString=function(e){const n=e?function(r){return e.call(this,r,fS)}:fS;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function sW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fN(t,e,n){if(!e)return t;const r=n&&n.encode||sW;B.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=B.isURLSearchParams(e)?e.toString():new Iw(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class pS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const pN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iW=typeof URLSearchParams<"u"?URLSearchParams:Iw,oW=typeof FormData<"u"?FormData:null,aW=typeof Blob<"u"?Blob:null,lW={isBrowser:!0,classes:{URLSearchParams:iW,FormData:oW,Blob:aW},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",Zg=typeof navigator=="object"&&navigator||void 0,cW=Rw&&(!Zg||["ReactNative","NativeScript","NS"].indexOf(Zg.product)<0),uW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hW=Rw&&window.location.href||"http://localhost",dW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:cW,hasStandardBrowserWebWorkerEnv:uW,navigator:Zg,origin:hW},Symbol.toStringTag,{value:"Module"})),nn={...dW,...lW};function fW(t,e){return ep(t,new nn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return nn.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function pW(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mW(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function mN(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&B.isArray(s)?s.length:o,l?(B.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!B.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&B.isArray(s[o])&&(s[o]=mW(s[o])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,s)=>{e(pW(r),s,n,0)}),n}return null}function gW(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ou={transitional:pN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=B.isObject(e);if(i&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return s?JSON.stringify(mN(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fW(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ep(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),gW(e)):e}],transformResponse:[function(e){const n=this.transitional||ou.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ae.from(a,Ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{ou.headers[t]={}});const _W=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yW=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&_W[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},mS=Symbol("internals");function kl(t){return t&&String(t).trim().toLowerCase()}function Ih(t){return t===!1||t==null?t:B.isArray(t)?t.map(Ih):String(t)}function wW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const vW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _m(t,e,n,r,s){if(B.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function EW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function bW(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let kn=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const h=kl(l);if(!h)throw new Error("header name must be a non-empty string");const d=B.findKey(s,h);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Ih(a))}const o=(a,l)=>B.forEach(a,(c,h)=>i(c,h,l));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!vW(e))o(yW(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=kl(e),e){const r=B.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return wW(s);if(B.isFunction(n))return n.call(this,s,r);if(B.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=kl(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||_m(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=kl(o),o){const a=B.findKey(r,o);a&&(!n||_m(r,r[a],a,n))&&(delete r[a],s=!0)}}return B.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||_m(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return B.forEach(this,(s,i)=>{const o=B.findKey(r,i);if(o){n[o]=Ih(s),delete n[i];return}const a=e?EW(i):String(i).trim();a!==i&&delete n[i],n[a]=Ih(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[mS]=this[mS]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=kl(o);r[a]||(bW(s,o),r[a]=!0)}return B.isArray(e)?e.forEach(i):i(e),this}};kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(kn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(kn);function ym(t,e){const n=this||ou,r=e||n,s=kn.from(r.headers);let i=r.data;return B.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function gN(t){return!!(t&&t.__CANCEL__)}function el(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(el,Ae,{__CANCEL__:!0});function _N(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function TW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function SW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[i];o||(o=c),n[s]=l,r[s]=c;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const g=h&&c-h;return g?Math.round(f*1e3/g):void 0}}function AW(t,e){let n=0,r=1e3/e,s,i;const o=(c,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const h=Date.now(),d=h-n;d>=r?o(c,h):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const Md=(t,e,n=3)=>{let r=0;const s=SW(50,250);return AW(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),h=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},gS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},_S=t=>(...e)=>B.asap(()=>t(...e)),CW=nn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,nn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,IW=nn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),B.isString(r)&&o.push("path="+r),B.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yN(t,e,n){let r=!RW(e);return t&&r||n==!1?kW(t,e):e}const yS=t=>t instanceof kn?{...t}:t;function Qi(t,e){e=e||{};const n={};function r(c,h,d,f){return B.isPlainObject(c)&&B.isPlainObject(h)?B.merge.call({caseless:f},c,h):B.isPlainObject(h)?B.merge({},h):B.isArray(h)?h.slice():h}function s(c,h,d,f){if(B.isUndefined(h)){if(!B.isUndefined(c))return r(void 0,c,d,f)}else return r(c,h,d,f)}function i(c,h){if(!B.isUndefined(h))return r(void 0,h)}function o(c,h){if(B.isUndefined(h)){if(!B.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in e)return r(c,h);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,d)=>s(yS(c),yS(h),d,!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||s,f=d(t[h],e[h],h);B.isUndefined(f)&&d!==a||(n[h]=f)}),n}const wN=t=>{const e=Qi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=kn.from(o),e.url=fN(yN(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(nn.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&CW(e.url))){const c=s&&i&&IW.read(i);c&&o.set(s,c)}return e},PW=typeof XMLHttpRequest<"u",NW=PW&&function(t){return new Promise(function(n,r){const s=wN(t);let i=s.data;const o=kn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,h,d,f,g,_;function y(){g&&g(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let T=new XMLHttpRequest;T.open(s.method.toUpperCase(),s.url,!0),T.timeout=s.timeout;function N(){if(!T)return;const x=kn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:x,config:t,request:T};_N(function(C){n(C),y()},function(C){r(C),y()},M),T=null}"onloadend"in T?T.onloadend=N:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(N)},T.onabort=function(){T&&(r(new Ae("Request aborted",Ae.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||pN;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new Ae(D,M.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,T)),T=null},i===void 0&&o.setContentType(null),"setRequestHeader"in T&&B.forEach(o.toJSON(),function(D,M){T.setRequestHeader(M,D)}),B.isUndefined(s.withCredentials)||(T.withCredentials=!!s.withCredentials),a&&a!=="json"&&(T.responseType=s.responseType),c&&([f,_]=Md(c,!0),T.addEventListener("progress",f)),l&&T.upload&&([d,g]=Md(l),T.upload.addEventListener("progress",d),T.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=x=>{T&&(r(!x||x.type?new el(null,t,T):x),T.abort(),T=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const O=TW(s.url);if(O&&nn.protocols.indexOf(O)===-1){r(new Ae("Unsupported protocol "+O+":",Ae.ERR_BAD_REQUEST,t));return}T.send(i||null)})},xW=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof Ae?h:new el(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},OW=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},DW=async function*(t,e){for await(const n of LW(t))yield*OW(n,e)},LW=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},wS=(t,e,n,r)=>{const s=DW(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await s.next();if(c){a(),l.close();return}let d=h.byteLength;if(n){let f=i+=d;n(f)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},tp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vN=tp&&typeof ReadableStream=="function",MW=tp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),EN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},VW=vN&&EN(()=>{let t=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),vS=64*1024,e_=vN&&EN(()=>B.isReadableStream(new Response("").body)),Vd={stream:e_&&(t=>t.body)};tp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vd[e]&&(Vd[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,r)})})})(new Response);const FW=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(nn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await MW(t)).byteLength},$W=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??FW(e)},BW=tp&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:f}=wN(t);c=c?(c+"").toLowerCase():"text";let g=xW([s,i&&i.toAbortSignal()],o),_;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let T;try{if(l&&VW&&n!=="get"&&n!=="head"&&(T=await $W(h,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(B.isFormData(r)&&(V=M.headers.get("content-type"))&&h.setContentType(V),M.body){const[C,E]=gS(T,Md(_S(l)));r=wS(M.body,vS,C,E)}}B.isString(d)||(d=d?"include":"omit");const N="credentials"in Request.prototype;_=new Request(e,{...f,signal:g,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:N?d:void 0});let O=await fetch(_);const x=e_&&(c==="stream"||c==="response");if(e_&&(a||x&&y)){const M={};["status","statusText","headers"].forEach(w=>{M[w]=O[w]});const V=B.toFiniteNumber(O.headers.get("content-length")),[C,E]=a&&gS(V,Md(_S(a),!0))||[];O=new Response(wS(O.body,vS,C,()=>{E&&E(),y&&y()}),M)}c=c||"text";let D=await Vd[B.findKey(Vd,c)||"text"](O,t);return!x&&y&&y(),await new Promise((M,V)=>{_N(M,V,{data:D,headers:kn.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:_})})}catch(N){throw y&&y(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,t,_),{cause:N.cause||N}):Ae.from(N,N&&N.code,t,_)}}),t_={http:tW,xhr:NW,fetch:BW};B.forEach(t_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ES=t=>`- ${t}`,UW=t=>B.isFunction(t)||t===null||t===!1,bN={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!UW(n)&&(r=t_[(o=String(n)).toLowerCase()],r===void 0))throw new Ae(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ES).join(`
`):" "+ES(i[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:t_};function wm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new el(null,t)}function bS(t){return wm(t),t.headers=kn.from(t.headers),t.data=ym.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bN.getAdapter(t.adapter||ou.adapter)(t).then(function(r){return wm(t),r.data=ym.call(t,t.transformResponse,r),r.headers=kn.from(r.headers),r},function(r){return gN(r)||(wm(t),r&&r.response&&(r.response.data=ym.call(t,t.transformResponse,r.response),r.response.headers=kn.from(r.response.headers))),Promise.reject(r)})}const TN="1.8.2",np={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{np[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const TS={};np.transitional=function(e,n,r){function s(i,o){return"[Axios v"+TN+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Ae(s(o," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!TS[o]&&(TS[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};np.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function HW(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Ae("option "+i+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+i,Ae.ERR_BAD_OPTION)}}const Rh={assertOptions:HW,validators:np},kr=Rh.validators;let Bi=class{constructor(e){this.defaults=e,this.interceptors={request:new pS,response:new pS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Rh.assertOptions(r,{silentJSONParsing:kr.transitional(kr.boolean),forcedJSONParsing:kr.transitional(kr.boolean),clarifyTimeoutError:kr.transitional(kr.boolean)},!1),s!=null&&(B.isFunction(s)?n.paramsSerializer={serialize:s}:Rh.assertOptions(s,{encode:kr.function,serialize:kr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rh.assertOptions(n,{baseUrl:kr.spelling("baseURL"),withXsrfToken:kr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&B.merge(i.common,i[n.method]);i&&B.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),n.headers=kn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let h,d=0,f;if(!l){const _=[bS.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,c),f=_.length,h=Promise.resolve(n);d<f;)h=h.then(_[d++],_[d++]);return h}f=a.length;let g=n;for(d=0;d<f;){const _=a[d++],y=a[d++];try{g=_(g)}catch(T){y.call(this,T);break}}try{h=bS.call(this,g)}catch(_){return Promise.reject(_)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=Qi(this.defaults,e);const n=yN(e.baseURL,e.url,e.allowAbsoluteUrls);return fN(n,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){Bi.prototype[e]=function(n,r){return this.request(Qi(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(Qi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Bi.prototype[e]=n(),Bi.prototype[e+"Form"]=n(!0)});let jW=class SN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new el(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new SN(function(s){e=s}),cancel:e}}};function WW(t){return function(n){return t.apply(null,n)}}function qW(t){return B.isObject(t)&&t.isAxiosError===!0}const n_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(n_).forEach(([t,e])=>{n_[e]=t});function AN(t){const e=new Bi(t),n=nN(Bi.prototype.request,e);return B.extend(n,Bi.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return AN(Qi(t,s))},n}const lt=AN(ou);lt.Axios=Bi;lt.CanceledError=el;lt.CancelToken=jW;lt.isCancel=gN;lt.VERSION=TN;lt.toFormData=ep;lt.AxiosError=Ae;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=WW;lt.isAxiosError=qW;lt.mergeConfig=Qi;lt.AxiosHeaders=kn;lt.formToJSON=t=>mN(B.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=bN.getAdapter;lt.HttpStatusCode=n_;lt.default=lt;const{Axios:RZ,AxiosError:kZ,CanceledError:PZ,isCancel:NZ,CancelToken:xZ,VERSION:OZ,all:DZ,Cancel:LZ,isAxiosError:MZ,spread:VZ,toFormData:FZ,AxiosHeaders:$Z,HttpStatusCode:BZ,formToJSON:UZ,getAdapter:HZ,mergeConfig:jZ}=lt,Ce=uf({board:null,features:[],players:[],rounds:[],teams:[],columns:[],registrationData:null,participantPlayerId:null,roundsPaginationPage:1,hasMoreRounds:!0,maxRoundsLoaded:0}),SS=bt(""),Fd=bt(null),$d=bt(null),zW=pt(()=>Fd.value!==null||$d.value!==null),GW=bt(null),KW=bt(null),YW=bt(null);let ms=null,Aa=0;const XW=t=>{ms=t,`${ms.board_token}`,console.debug("DataStore: Initialized with config",ms);const e=new URLSearchParams(window.location.search),n=e.get("rank_min"),r=e.get("rank_max");if(n!==null){const a=parseInt(n,10);!isNaN(a)&&a>0&&(Fd.value=a)}if(r!==null){const a=parseInt(r,10);!isNaN(a)&&a>0&&($d.value=a)}const s=e.get("autoscroll_enabled");s!==null&&(GW.value=s==="true");const i=e.get("allow_comments");i!==null&&(KW.value=i==="true");const o=e.get("show_search");o!==null&&(YW.value=o==="true")},QW=pt(()=>Ce==null?void 0:Ce.board),JW=pt(()=>Ce==null?void 0:Ce.players),CN=pt(()=>eq.value??(Ce==null?void 0:Ce.features));pt(()=>Ce==null?void 0:Ce.rounds);const IN=pt(()=>Ce==null?void 0:Ce.teams);pt(()=>Ce==null?void 0:Ce.roundsPaginationPage);pt(()=>Ce==null?void 0:Ce.hasMoreRounds);pt(()=>ZW.value?JW.value.some(t=>t.profile_image!=null):!1);pt(()=>(ms==null?void 0:ms.view)==="ADMIN"||CN.value.includes("colors"));const ZW=pt(()=>["ADMIN","PARTICIPANT"].includes(ms==null?void 0:ms.view)||CN.value.includes("img_upload")),eq=bt(null),RN=pt(()=>Ce==null?void 0:Ce.columns),tq=pt(()=>RN.value.filter(t=>t.type==="SCORE"));pt(()=>tq.value.length);pt(()=>RN.value.filter(t=>t.sorting).length);pt(()=>Ce==null?void 0:Ce.registrationData);pt(()=>Ce==null?void 0:Ce.participantPlayerId);pt(()=>{var e;let t=Ce==null?void 0:Ce.players.filter(n=>n.is_visible);return((e=Ce==null?void 0:Ce.board)==null?void 0:e.type)==="LEADERBOARD"&&zW.value&&(t=t.filter(n=>{var s,i;const r=(((i=(s=Ce==null?void 0:Ce.board)==null?void 0:s.appearance)==null?void 0:i.ranking)==="TIED"?n.rank:n.seq_rank)+1;return(Fd.value===null||r>=Fd.value)&&($d.value===null||r<=$d.value)})),SS.value?t.filter(n=>n.name.toLowerCase().includes(SS.value.toLowerCase())):t});const vm=bt([]),Bd=bt({}),nq=()=>{const t={};return IN.value.forEach(e=>{t[e.id]=Ce.players.filter(n=>n.team===e.id).reduce((n,r)=>n+(r.score||0),0)}),t};jL(()=>{Bd.value=nq()});function rq(t){return t.sort((e,n)=>{const r=Bd.value[e.id]??0,s=Bd.value[n.id]??0;switch(QW.value.appearance.sorting){case"DESC":return s-r;case"ASC":return r-s;case"ALPHA":return e.name.localeCompare(n.name)}})}pt(()=>(vm.value.length===0&&(vm.value=rq([...IN.value])),vm.value.map(t=>({...t,score:Bd.value[t.id]??t.score??0}))));const WZ=async t=>{try{return Aa++,(await lt.post("/api/sports-teams/",t)).data}catch(e){throw Aw(e),e}finally{Aa--}},qZ=async(t,e)=>{try{return Aa++,(await lt.get("/api/sports-teams/",{params:{sport:t,search:e}})).data}catch(n){throw Aw(n),n}finally{Aa--}},zZ=async t=>{try{return Aa++,(await lt.delete(`/api/sports-teams/${t}`)).data}catch(e){throw Aw(e),e}finally{Aa--}},sq={key:0,class:"d-flex justify-content-center my-5"},iq={key:2},oq={__name:"Scoreboard",setup(t){const e=vn(()=>En(()=>import("./SportsControl-DzHD_UHz.js"),__vite__mapDeps([0,1,2,3,4]))),n=vn(()=>En(()=>import("./HelpModal-U7k2V5yx.js"),[])),r=vn(()=>En(()=>import("./PublicViewNotification-UJsrFB-C.js"),__vite__mapDeps([5,3,6]))),s=vn(()=>En(()=>import("./Baseball-DX6ekRzJ.js"),__vite__mapDeps([7,8,9,10,11,3,12,13,14,15,16,17,18,19,20,21,22]))),i=vn(()=>En(()=>import("./Basketball-Qqj9gxwu.js"),__vite__mapDeps([23,24,8,13,11,25,3,26,16,9,10,12,17,18,19,20,21,27]))),o=vn(()=>En(()=>import("./SetBasedBoards-g1z1lnFc.js"),__vite__mapDeps([28,20,19,18,13,8,3,11,16,9,10,12,17,21,29]))),a=vn(()=>En(()=>import("./Esports-2N6LfTWY.js"),__vite__mapDeps([30,19,20,17,18,3,21,31]))),l=vn(()=>En(()=>import("./Football-DxVaUYdW.js"),__vite__mapDeps([32,20,19,9,10,11,3,12,24,18,13,14,15,16,25,26,17,21,33]))),c=vn(()=>En(()=>import("./Universal-DU7J-xEr.js"),__vite__mapDeps([34,9,10,11,3,12,24,8,13,20,14,15,16,17,18,19,21,35]))),h=vn(()=>En(()=>import("./Hockey-CNiH_UhT.js").then(w=>w.H),__vite__mapDeps([36,8,13,9,10,11,3,12,14,15,16,17,18,19,20,21,37]))),d=vn(()=>En(()=>import("./Multiteam-5fzlSa3x.js"),__vite__mapDeps([38,24,8,13,11,9,10,3,12,39]))),f=vn(()=>En(()=>import("./Timer-Bs1Ajg8S.js").then(w=>w.T),__vite__mapDeps([40,3,11,41]))),g=vn(()=>En(()=>import("./Wrestling-CdKeZ9T0.js"),__vite__mapDeps([42,8,13,11,16,9,10,3,12,17,18,19,20,21,43]))),_=vn(()=>En(()=>import("./LawnBowling-BibqTn1a.js"),__vite__mapDeps([44,8,13,17,18,19,20,3,21,45]))),y=g9();XW(y),console.log(`[Scoreboard] Selecting component for sport: ${y.sport}`);let T;switch(y.sport){case"SOFTBALL":case"BASEBALL":T=s;break;case"VOLLEYBALL2":case"BADMINTON2":case"SQUASH2":case"PICKLEBALL2":case"TENNIS":T=o;break;case"ESPORTS":T=a;break;case"FOOTBALL":T=l;break;case"UNIVERSAL":case"SOCCER2":T=c;break;case"BASKETBALL2":T=i;break;case"HOCKEY":T=h;break;case"MULTITEAM":T=d;break;case"TIMER":T=f;break;case"WRESTLING":T=g;break;case"LAWN_BOWLING":T=_;break;default:console.error("Invalid sport",y.sport)}console.log(`[Scoreboard] Selected component: ${(T==null?void 0:T.name)||"undefined"}`);const N=cH(y.firestore_collection,y.firestore_doc_id),O=bt(!0),{data:x,pending:D}=lH(y.firestore_collection,y.firestore_doc_id),M=pt(()=>{var w;return((w=x.value)==null?void 0:w.version)??null});ls([D,M],([w,A])=>{console.log(`[Scoreboard] Data watch - isPending: ${w}, hasData: ${!!A}`),!w&&A&&(O.value=!1,console.log(`[Scoreboard] Data fetched successfully, version ${A}`))});const V=new URLSearchParams(window.location.search),C=y.view!=="PUBLIC"?V.get("mode")||"default":"none";$c(()=>{if(console.log(`[Scoreboard] onMounted - sport: ${y.sport}, component: ${(T==null?void 0:T.name)||"undefined"}, view: ${y.view}`),C==="compact"&&document.body.classList.add("compact-mode"),y.view==="ADMIN"||y.view==="RESTRICTED")document.body.style.backgroundColor=getComputedStyle(document.body).getPropertyValue("--primary");else{document.body.style.backgroundColor="rgba(250,250,250,0)";const w=V.get("bgcolor");w&&(document.body.style.backgroundColor=w),document.addEventListener("dblclick",()=>m9())}}),xo("read_token",y.read_token),xo("image_folder",y.firestore_collection),xo("config",y),xo("control_mode",C);const E=pH();return xo("lastKeypress",E),Bc(()=>{C==="compact"&&document.body.classList.remove("compact-mode")}),(w,A)=>O.value?(hr(),$u("div",sq,A[0]||(A[0]=[Jh("div",{class:"spinner-border",role:"status"},[Jh("span",{class:"visually-hidden"},"Loading...")],-1)]))):(hr(),$u("div",{key:1,class:dc({"position-absolute top-0 start-0 end-0 bottom-0":vt(C)==="compact","compact-mode":vt(C)==="compact"})},[vt(y).view==="ADMIN"?(hr(),Zo(vt(n),{key:0})):BE("",!0),vt(y).view==="ADMIN"||vt(y).view==="RESTRICTED"?(hr(),$u("div",{key:1,class:dc({"container-fluid":vt(C)!=="compact","d-flex flex-column vh-100":vt(C)==="compact"})},[yt(vt(e),{scoreboard_component:vt(T),score_data:vt(x),scoreboard_ref:vt(N)},null,8,["scoreboard_component","score_data","scoreboard_ref"])],2)):(hr(),$u("div",iq,[vt(y).view==="PUBLIC"?(hr(),Zo(vt(r),{key:0,features:vt(y).features},null,8,["features"])):BE("",!0),(hr(),Zo(EL(vt(T)),{score_data:vt(x),scoreboard_ref:vt(N)},null,8,["score_data","scoreboard_ref"]))]))],2))}},ke=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gs="8.51.0",$e=globalThis;function rp(t,e,n){const r=n||$e,s=r.__SENTRY__=r.__SENTRY__||{},i=s[gs]=s[gs]||{};return i[t]||(i[t]=e())}const go=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,aq="Sentry Logger ",r_=["debug","info","warn","error","log","assert","trace"],Ud={};function Yr(t){if(!("console"in $e))return t();const e=$e.console,n={},r=Object.keys(Ud);r.forEach(s=>{const i=Ud[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}function lq(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return go?r_.forEach(n=>{e[n]=(...r)=>{t&&Yr(()=>{$e.console[n](`${aq}[${n}]:`,...r)})}}):r_.forEach(n=>{e[n]=()=>{}}),e}const ae=rp("logger",lq),kN=50,Ji="?",AS=/\(error: (.*)\)/,CS=/captureMessage|captureException/;function PN(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=AS.test(l)?l.replace(AS,"$1"):l;if(!c.match(/\S*Error: /)){for(const h of e){const d=h(c);if(d){i.push(d);break}}if(i.length>=kN+s)break}}return uq(i.slice(s))}}function cq(t){return Array.isArray(t)?PN(...t):t}function uq(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Qu(e).function||"")&&e.pop(),e.reverse(),CS.test(Qu(e).function||"")&&(e.pop(),CS.test(Qu(e).function||"")&&e.pop()),e.slice(0,kN).map(n=>({...n,filename:n.filename||Qu(e).filename,function:n.function||Ji}))}function Qu(t){return t[t.length-1]||{}}const Em="<anonymous>";function ii(t){try{return!t||typeof t!="function"?Em:t.name||Em}catch{return Em}}function IS(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const kh={},RS={};function _o(t,e){kh[t]=kh[t]||[],kh[t].push(e)}function yo(t,e){if(!RS[t]){RS[t]=!0;try{e()}catch(n){go&&ae.error(`Error while instrumenting ${t}`,n)}}}function wr(t,e){const n=t&&kh[t];if(n)for(const r of n)try{r(e)}catch(s){go&&ae.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ii(r)}
Error:`,s)}}let bm=null;function hq(t){const e="error";_o(e,t),yo(e,dq)}function dq(){bm=$e.onerror,$e.onerror=function(t,e,n,r,s){return wr("error",{column:r,error:s,line:n,msg:t,url:e}),bm?bm.apply(this,arguments):!1},$e.onerror.__SENTRY_INSTRUMENTED__=!0}let Tm=null;function fq(t){const e="unhandledrejection";_o(e,t),yo(e,pq)}function pq(){Tm=$e.onunhandledrejection,$e.onunhandledrejection=function(t){return wr("unhandledrejection",t),Tm?Tm.apply(this,arguments):!0},$e.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function tl(){return kw($e),$e}function kw(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||gs,e[gs]=e[gs]||{}}const NN=Object.prototype.toString;function Pw(t){switch(NN.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Zi(t,Error)}}function nl(t,e){return NN.call(t)===`[object ${e}]`}function xN(t){return nl(t,"ErrorEvent")}function kS(t){return nl(t,"DOMError")}function mq(t){return nl(t,"DOMException")}function _s(t){return nl(t,"String")}function Nw(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function xw(t){return t===null||Nw(t)||typeof t!="object"&&typeof t!="function"}function Ca(t){return nl(t,"Object")}function sp(t){return typeof Event<"u"&&Zi(t,Event)}function gq(t){return typeof Element<"u"&&Zi(t,Element)}function _q(t){return nl(t,"RegExp")}function ip(t){return!!(t&&t.then&&typeof t.then=="function")}function yq(t){return Ca(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Zi(t,e){try{return t instanceof e}catch{return!1}}function ON(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}const Ow=$e,wq=80;function DN(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const h=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||wq;for(;n&&i++<r&&(c=vq(n,h),!(c==="html"||i>1&&o+s.length*l+c.length>=d));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function vq(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(Ow.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e&&e.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&_s(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Eq(){try{return Ow.document.location.href}catch{return""}}function bq(t){if(!Ow.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function ia(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function PS(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{ON(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function Tq(t,e,n=!1){return _s(t)?_q(e)?e.test(t):_s(e)?n?t===e:t.includes(e):!1:!1}function op(t,e=[],n=!1){return e.some(r=>Tq(t,r,n))}function Mn(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&LN(s,r);try{t[e]=s}catch{go&&ae.log(`Failed to replace method "${e}" in object`,t)}}function or(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{go&&ae.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function LN(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,or(t,"__sentry_original__",e)}catch{}}function Dw(t){return t.__sentry_original__}function MN(t){if(Pw(t))return{message:t.message,name:t.name,stack:t.stack,...xS(t)};if(sp(t)){const e={type:t.type,target:NS(t.target),currentTarget:NS(t.currentTarget),...xS(t)};return typeof CustomEvent<"u"&&Zi(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function NS(t){try{return gq(t)?DN(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function xS(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function Sq(t,e=40){const n=Object.keys(MN(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return ia(r,e);for(let s=n.length;s>0;s--){const i=n.slice(0,s).join(", ");if(!(i.length>e))return s===n.length?i:ia(i,e)}return""}function fn(t){return s_(t,new Map)}function s_(t,e){if(Aq(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.getOwnPropertyNames(t))typeof t[s]<"u"&&(r[s]=s_(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(s_(s,e))}),r}return t}function Aq(t){if(!Ca(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}const VN=1e3;function au(){return Date.now()/VN}function Cq(){const{performance:t}=$e;if(!t||!t.now)return au;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/VN}const tr=Cq();(()=>{const{performance:t}=$e;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):e,c=l<e;return i||c?s<=l?t.timeOrigin:o:r})();function nr(){const t=$e,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function FN(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function $s(t){const{message:e,event_id:n}=t;if(e)return e;const r=FN(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function i_(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function Ia(t,e){const n=FN(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s&&s.data,...e.data};n.mechanism.data=i}}function OS(t){if(Iq(t))return!0;try{or(t,"__sentry_captured__",!0)}catch{}return!1}function Iq(t){try{return t.__sentry_captured__}catch{}}var ts;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(ts||(ts={}));function eo(t){return new Jn(e=>{e(t)})}function Hd(t){return new Jn((e,n)=>{n(t)})}class Jn{constructor(e){Jn.prototype.__init.call(this),Jn.prototype.__init2.call(this),Jn.prototype.__init3.call(this),Jn.prototype.__init4.call(this),this._state=ts.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Jn((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Jn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=e=>{this._setResult(ts.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ts.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===ts.PENDING){if(ip(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ts.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===ts.RESOLVED&&n[1](this._value),this._state===ts.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Rq(t){const e=tr(),n={sid:nr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Pq(n)};return t&&Ra(n,t),n}function Ra(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||tr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:nr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function kq(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Ra(t,n)}function Pq(t){return fn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}function jd(){return nr()}function Pc(){return nr().substring(16)}function ap(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=ap(r[s],e[s],n-1));return r}const o_="_sentrySpan";function a_(t,e){e?or(t,o_,e):delete t[o_]}function Wd(t){return t[o_]}const Nq=100;class Lw{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:jd(),spanId:Pc()}}clone(){const e=new Lw;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,a_(e,Wd(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ra(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,s]=n instanceof oi?[n.getScopeData(),n.getRequestSession()]:Ca(n)?[e,e.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:c,fingerprint:h=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),h.length&&(this._fingerprint=h),d&&(this._propagationContext=d),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,a_(this,void 0),this._attachments=[],this.setPropagationContext({traceId:jd()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:Nq;if(r<=0)return this;const s={timestamp:au(),...e},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Wd(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ap(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Pc(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:nr();if(!this._client)return ae.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:nr();if(!this._client)return ae.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:nr();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(ae.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const oi=Lw;function xq(){return rp("defaultCurrentScope",()=>new oi)}function Oq(){return rp("defaultIsolationScope",()=>new oi)}class Dq{constructor(e,n){let r;e?r=e:r=new oi;let s;n?s=n:s=new oi,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return ip(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ka(){const t=tl(),e=kw(t);return e.stack=e.stack||new Dq(xq(),Oq())}function Lq(t){return ka().withScope(t)}function Mq(t,e){const n=ka();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function DS(t){return ka().withScope(()=>t(ka().getIsolationScope()))}function Vq(){return{withIsolationScope:DS,withScope:Lq,withSetScope:Mq,withSetIsolationScope:(t,e)=>DS(e),getCurrentScope:()=>ka().getScope(),getIsolationScope:()=>ka().getIsolationScope()}}function lu(t){const e=kw(t);return e.acs?e.acs:Vq()}function jn(){const t=tl();return lu(t).getCurrentScope()}function wo(){const t=tl();return lu(t).getIsolationScope()}function Fq(){return rp("globalScope",()=>new oi)}function Mw(...t){const e=tl(),n=lu(e);if(t.length===2){const[r,s]=t;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(t[0])}function ft(){return jn().getClient()}function $q(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=e;return fn({trace_id:n,span_id:r,parent_span_id:s})}const Bq="_sentryMetrics";function l_(t){const e=t[Bq];if(!e)return;const n={};for(const[,[r,s]]of e)(n[r]||(n[r]=[])).push(fn(s));return n}const qd="sentry.source",$N="sentry.sample_rate",c_="sentry.op",Nc="sentry.origin",Uq="sentry.measurement_unit",Hq="sentry.measurement_value",LS="sentry.custom_span_name",jq="sentry.profile_id",Wq="sentry.exclusive_time",qq=0,zq=1,Gq="sentry-",Kq=/^sentry-/;function Yq(t){const e=Xq(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(Kq)){const o=s.slice(Gq.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Xq(t){if(!(!t||!_s(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=MS(n);return Object.entries(r).forEach(([s,i])=>{e[s]=i}),e},{}):MS(t)}function MS(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}const BN=0,UN=1;let VS=!1;function Qq(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a}=Ar(t);return fn({parent_span_id:i,span_id:e,trace_id:n,data:r,op:s,status:o,origin:a})}function Jq(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),s=r?e:Ar(t).parent_span_id,i=r?Pc():e;return fn({parent_span_id:s,span_id:i,trace_id:n})}function oa(t){return typeof t=="number"?FS(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?FS(t.getTime()):tr()}function FS(t){return t>9999999999?t/1e3:t}function Ar(t){if(ez(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(Zq(t)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=t;return fn({span_id:e,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:oa(s),timestamp:oa(o)||void 0,status:HN(l),op:r[c_],origin:r[Nc],_metrics_summary:l_(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function Zq(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function ez(t){return typeof t.getSpanJSON=="function"}function cu(t){const{traceFlags:e}=t.spanContext();return e===UN}function HN(t){if(!(!t||t.code===qq))return t.code===zq?"ok":t.message||"unknown_error"}const ic="_sentryChildSpans",u_="_sentryRootSpan";function jN(t,e){const n=t[u_]||t;or(e,u_,n),t[ic]?t[ic].add(e):or(t,ic,new Set([e]))}function tz(t){const e=new Set;function n(r){if(!e.has(r)&&cu(r)){e.add(r);const s=r[ic]?Array.from(r[ic]):[];for(const i of s)n(i)}}return n(t),Array.from(e)}function Xs(t){return t[u_]||t}function nz(){const t=tl(),e=lu(t);return e.getActiveSpan?e.getActiveSpan():Wd(jn())}function WN(){VS||(Yr(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),VS=!0)}const qN="_sentryScope",zN="_sentryIsolationScope";function rz(t,e,n){t&&(or(t,zN,n),or(t,qN,e))}function $S(t){return{scope:t[qN],isolationScope:t[zN]}}function lp(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=ft(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Vw{constructor(e={}){this._traceId=e.traceId||jd(),this._spanId=e.spanId||Pc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:BN}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}const Fw="production",GN="_frozenDsc";function BS(t,e){or(t,GN,e)}function KN(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s=fn({environment:n.environment||Fw,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",s),s}function sz(t,e){const n=e.getPropagationContext();return n.dsc||KN(n.traceId,t)}function cp(t){const e=ft();if(!e)return{};const n=Xs(t),r=n[GN];if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&Yq(i);if(o)return o;const a=KN(t.spanContext().traceId,e),l=Ar(n),c=l.data||{},h=c[$N];h!=null&&(a.sample_rate=`${h}`);const d=c[qd],f=l.description;return d!=="url"&&f&&(a.transaction=f),lp()&&(a.sampled=String(cu(n))),e.emit("createDsc",a,n),a}function iz(t){if(!ke)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Ar(t),{spanId:s}=t.spanContext(),i=cu(t),o=Xs(t),a=o===t,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${e}`,`ID: ${s}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:h,description:d}=Ar(o);c.push(`root ID: ${o.spanContext().spanId}`),h&&c.push(`root op: ${h}`),d&&c.push(`root description: ${d}`)}ae.log(`${l}
  ${c.join(`
  `)}`)}function oz(t){if(!ke)return;const{description:e="< unknown name >",op:n="< unknown op >"}=Ar(t),{spanId:r}=t.spanContext(),i=Xs(t)===t,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${e}" with ID ${r}`;ae.log(o)}function YN(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){ke&&ae.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}function az(t,e){if(!lp(t))return[!1];const n=wo().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...e,normalizedRequest:e.normalizedRequest||n};let s;typeof t.tracesSampler=="function"?s=t.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof t.tracesSampleRate<"u"?s=t.tracesSampleRate:s=1;const i=YN(s);return i===void 0?(ke&&ae.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):i?Math.random()<i?[!0,i]:(ke&&ae.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,i]):(ke&&ae.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i])}const lz=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function cz(t){return t==="http"||t==="https"}function uu(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=t;return`${a}://${l}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function uz(t){const e=lz.exec(t);if(!e){Yr(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i="",o="",a=""]=e.slice(1);let l="",c=a;const h=c.split("/");if(h.length>1&&(l=h.slice(0,-1).join("/"),c=h.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return XN({host:i,pass:s,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function XN(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function hz(t){if(!go)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(ae.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?cz(r)?e&&isNaN(parseInt(e,10))?(ae.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(ae.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ae.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function dz(t){const e=typeof t=="string"?uz(t):XN(t);if(!(!e||!hz(e)))return e}function fz(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}function r(s){if(t)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return[n,r]}function ns(t,e=100,n=1/0){try{return h_("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function QN(t,e=3,n=100*1024){const r=ns(t,e);return _z(r)>n?QN(t,e-1,n):r}function h_(t,e,n=1/0,r=1/0,s=fz()){const[i,o]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const a=pz(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const g=c.toJSON();return h_("",g,l-1,r,s)}catch{}const h=Array.isArray(e)?[]:{};let d=0;const f=MN(e);for(const g in f){if(!Object.prototype.hasOwnProperty.call(f,g))continue;if(d>=r){h[g]="[MaxProperties ~]";break}const _=f[g];h[g]=h_(g,_,l-1,r,s),d++}return o(e),h}function pz(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(ON(e))return"[VueViewModel]";if(yq(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${ii(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=mz(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function mz(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function gz(t){return~-encodeURI(t).split(/%..|./).length}function _z(t){return gz(JSON.stringify(t))}function rl(t,e=[]){return[t,e]}function yz(t,e){const[n,r]=t;return[n,[...r,e]]}function US(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}function d_(t){return $e.__SENTRY__&&$e.__SENTRY__.encodePolyfill?$e.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function wz(t){const[e,n]=t;let r=JSON.stringify(e);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[d_(r),i]:r.push(typeof i=="string"?d_(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ns(a))}s(l)}}return typeof r=="string"?r:vz(r)}function vz(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Ez(t){return[{type:"span"},t]}function bz(t){const e=typeof t.data=="string"?d_(t.data):t.data;return[fn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const Tz={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function HS(t){return Tz[t]}function JN(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function Sz(t,e,n,r){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:uu(r)},...s&&{trace:fn({...s})}}}function Az(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Cz(t,e,n,r){const s=JN(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:uu(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return rl(i,[o])}function Iz(t,e,n,r){const s=JN(n),i=t.type&&t.type!=="replay_event"?t.type:"event";Az(t,n&&n.sdk);const o=Sz(t,s,r,e);return delete t.sdkProcessingMetadata,rl(o,[[{type:i},t]])}function Rz(t,e){function n(h){return!!h.trace_id&&!!h.public_key}const r=cp(t[0]),s=e&&e.getDsn(),i=e&&e.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:uu(s)}},a=e&&e.getOptions().beforeSendSpan,l=a?h=>{const d=a(Ar(h));return d||WN(),d}:h=>Ar(h),c=[];for(const h of t){const d=l(h);d&&c.push(Ez(d))}return rl(o,c)}function jS(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},s=r[Uq],i=r[Hq];typeof s=="string"&&typeof i=="number"&&(e[n.name]={value:i,unit:s})}),e}const WS=1e3;class $w{constructor(e={}){this._traceId=e.traceId||jd(),this._spanId=e.spanId||Pc(),this._startTime=e.startTimestamp||tr(),this._attributes={},this.setAttributes({[Nc]:"manual",[c_]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?UN:BN}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=oa(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(qd,"custom"),this}end(e){this._endTime||(this._endTime=oa(e),oz(this),this._onSpanEnded())}getSpanJSON(){return fn({data:this._attributes,description:this._name,op:this._attributes[c_],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:HN(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Nc],_metrics_summary:l_(this),profile_id:this._attributes[jq],exclusive_time:this._attributes[Wq],measurements:jS(this._events),is_segment:this._isStandaloneSpan&&Xs(this)===this||void 0,segment_id:this._isStandaloneSpan?Xs(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){ke&&ae.log("[Tracing] Adding an event to span:",e);const s=qS(n)?n:r||tr(),i=qS(n)?{}:n||{},o={name:e,time:oa(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=ft();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Xs(this)))return;if(this._isStandaloneSpan){this._sampled?Pz(Rz([this],e)):(ke&&ae.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&($S(this).scope||jn()).captureEvent(r)}_convertSpanToTransaction(){if(!zS(Ar(this)))return;this._name||(ke&&ae.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=$S(this),s=(e||jn()).getClient()||ft();if(this._sampled!==!0){ke&&ae.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const o=tz(this).filter(d=>d!==this&&!kz(d)).map(d=>Ar(d)).filter(zS),a=this._attributes[qd];delete this._attributes[LS],o.forEach(d=>{d.data&&delete d.data[LS]});const l={contexts:{trace:Qq(this)},spans:o.length>WS?o.sort((d,f)=>d.start_timestamp-f.start_timestamp).slice(0,WS):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,...fn({dynamicSamplingContext:cp(this)})},_metrics_summary:l_(this),...a&&{transaction_info:{source:a}}},c=jS(this._events);return c&&Object.keys(c).length&&(ke&&ae.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function qS(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function zS(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function kz(t){return t instanceof $w&&t.isStandaloneSpan()}function Pz(t){const e=ft();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}const ZN="__SENTRY_SUPPRESS_TRACING__";function GS(t){const e=ex();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=Oz(t),{forceTransaction:r,parentSpan:s}=t;return(t.scope?o=>Mw(t.scope,o):s!==void 0?o=>Nz(s,o):o=>o())(()=>{const o=jn(),a=Lz(o);return t.onlyIfParent&&!a?new Vw:xz({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Nz(t,e){const n=ex();return n.withActiveSpan?n.withActiveSpan(t,e):Mw(r=>(a_(r,t||void 0),e(r)))}function xz({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!lp())return new Vw;const s=wo();let i;if(t&&!n)i=Dz(t,r,e),jN(t,i);else if(t){const o=cp(t),{traceId:a,spanId:l}=t.spanContext(),c=cu(t);i=KS({traceId:a,parentSpanId:l,...e},r,c),BS(i,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...s.getPropagationContext(),...r.getPropagationContext()};i=KS({traceId:o,parentSpanId:l,...e},r,c),a&&BS(i,a)}return iz(i),rz(i,r,s),i}function Oz(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=oa(t.startTime),delete r.startTime,r}return n}function ex(){const t=tl();return lu(t)}function KS(t,e,n){const r=ft(),s=r&&r.getOptions()||{},{name:i="",attributes:o}=t,[a,l]=e.getScopeData().sdkProcessingMetadata[ZN]?[!1]:az(s,{name:i,parentSampled:n,attributes:o,transactionContext:{name:i,parentSampled:n}}),c=new $w({...t,attributes:{[qd]:"custom",...t.attributes},sampled:a});return l!==void 0&&c.setAttribute($N,l),r&&r.emit("spanStart",c),c}function Dz(t,e,n){const{spanId:r,traceId:s}=t.spanContext(),i=e.getScopeData().sdkProcessingMetadata[ZN]?!1:cu(t),o=i?new $w({...n,parentSpanId:r,traceId:s,sampled:i}):new Vw({traceId:s});jN(t,o);const a=ft();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function Lz(t){const e=Wd(t);if(!e)return;const n=ft();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Xs(e):e}function f_(t,e,n,r=0){return new Jn((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const a=o({...e},n);ke&&o.id&&a===null&&ae.log(`Event processor "${o.id}" dropped event`),ip(a)?a.then(l=>f_(t,l,n,r+1).then(s)).then(null,i):f_(t,a,n,r+1).then(s).then(null,i)}})}let Ju,YS,Zu;function Mz(t){const e=$e._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return Zu&&n.length===YS||(YS=n.length,Zu=n.reduce((r,s)=>{Ju||(Ju={});const i=Ju[s];if(i)r[i[0]]=i[1];else{const o=t(s);for(let a=o.length-1;a>=0;a--){const l=o[a],c=l&&l.filename,h=e[s];if(c&&h){r[c]=h,Ju[s]=[c,h];break}}}return r},{})),Zu}function Vz(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;Fz(t,e),r&&Uz(t,r),Hz(t,n),$z(t,s),Bz(t,i)}function XS(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:h,attachments:d,propagationContext:f,transactionName:g,span:_}=e;eh(t,"extra",n),eh(t,"tags",r),eh(t,"user",s),eh(t,"contexts",i),t.sdkProcessingMetadata=ap(t.sdkProcessingMetadata,a,2),o&&(t.level=o),g&&(t.transactionName=g),_&&(t.span=_),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),h.length&&(t.eventProcessors=[...t.eventProcessors,...h]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...f}}function eh(t,e,n){t[e]=ap(t[e],n,1)}function Fz(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e,l=fn(n);l&&Object.keys(l).length&&(t.extra={...l,...t.extra});const c=fn(r);c&&Object.keys(c).length&&(t.tags={...c,...t.tags});const h=fn(s);h&&Object.keys(h).length&&(t.user={...h,...t.user});const d=fn(i);d&&Object.keys(d).length&&(t.contexts={...d,...t.contexts}),o&&(t.level=o),a&&t.type!=="transaction"&&(t.transaction=a)}function $z(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function Bz(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function Uz(t,e){t.contexts={trace:Jq(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:cp(e),...t.sdkProcessingMetadata};const n=Xs(e),r=Ar(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}function Hz(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function jz(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,l={...e,event_id:e.event_id||n.event_id||nr(),timestamp:e.timestamp||au()},c=n.integrations||t.integrations.map(T=>T.name);Wz(l,t),Gz(l,c),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&qz(l,t.stackParser);const h=Yz(r,n.captureContext);n.mechanism&&Ia(l,n.mechanism);const d=s?s.getEventProcessors():[],f=Fq().getScopeData();if(i){const T=i.getScopeData();XS(f,T)}if(h){const T=h.getScopeData();XS(f,T)}const g=[...n.attachments||[],...f.attachments];g.length&&(n.attachments=g),Vz(l,f);const _=[...d,...f.eventProcessors];return f_(_,l,n).then(T=>(T&&zz(T),typeof o=="number"&&o>0?Kz(T,o,a):T))}function Wz(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;t.environment=t.environment||n||Fw,!t.release&&r&&(t.release=r),!t.dist&&s&&(t.dist=s),t.message&&(t.message=ia(t.message,i));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=ia(o.value,i));const a=t.request;a&&a.url&&(a.url=ia(a.url,i))}function qz(t,e){const n=Mz(e);try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{n&&s.filename&&(s.debug_id=n[s.filename])})})}catch{}}function zz(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Gz(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Kz(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:ns(s.data,e,n)}}))},...t.user&&{user:ns(t.user,e,n)},...t.contexts&&{contexts:ns(t.contexts,e,n)},...t.extra&&{extra:ns(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=ns(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>({...s,...s.data&&{data:ns(s.data,e,n)}}))),t.contexts&&t.contexts.flags&&r.contexts&&(r.contexts.flags=ns(t.contexts.flags,3,n)),r}function Yz(t,e){if(!e)return t;const n=t?t.clone():new oi;return n.update(e),n}function Xz(t){if(t)return Qz(t)?{captureContext:t}:Zz(t)?{captureContext:t}:t}function Qz(t){return t instanceof oi||typeof t=="function"}const Jz=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Zz(t){return Object.keys(t).some(e=>Jz.includes(e))}function tx(t,e){return jn().captureException(t,Xz(e))}function nx(t,e){return jn().captureEvent(t,e)}function QS(t){const e=ft(),n=wo(),r=jn(),{release:s,environment:i=Fw}=e&&e.getOptions()||{},{userAgent:o}=$e.navigator||{},a=Rq({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession();return l&&l.status==="ok"&&Ra(l,{status:"exited"}),rx(),n.setSession(a),r.setSession(a),a}function rx(){const t=wo(),e=jn(),n=e.getSession()||t.getSession();n&&kq(n),sx(),t.setSession(),e.setSession()}function sx(){const t=wo(),e=jn(),n=ft(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function JS(t=!1){if(t){rx();return}sx()}const eG="7";function tG(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function nG(t){return`${tG(t)}${t.projectId}/envelope/`}function rG(t,e){const n={sentry_version:eG};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}function sG(t,e,n){return e||`${nG(t)}?${rG(t,n)}`}const ZS=[];function iG(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}function oG(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const o=n(e);r=Array.isArray(o)?o:[o]}else r=e;const s=iG(r),i=s.findIndex(o=>o.name==="Debug");if(i>-1){const[o]=s.splice(i,1);s.push(o)}return s}function aG(t,e){const n={};return e.forEach(r=>{r&&ix(t,r,n)}),n}function eA(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function ix(t,e,n){if(n[e.name]){ke&&ae.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,ZS.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),ZS.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,o)=>r(i,o,t),{id:e.name});t.addEventProcessor(s)}ke&&ae.log(`Integration installed: ${e.name}`)}function lG(t,e,n){const r=[{type:"client_report"},{timestamp:au(),discarded_events:t}];return rl(e?{dsn:e}:{},[r])}class Dr extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const tA="Not capturing exception because it's already been captured.";class cG{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=dz(e.dsn):ke&&ae.warn("No DSN provided, client will not send events."),this._dsn){const s=sG(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:s})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in e&&e[s]==null);r&&Yr(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,r){const s=nr();if(OS(e))return ke&&ae.log(tA),s;const i={event_id:s,...n};return this._process(this.eventFromException(e,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(e,n,r,s){const i={event_id:nr(),...r},o=Nw(e)?e:String(e),a=xw(e)?this.eventFromMessage(o,n,i):this.eventFromException(e,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(e,n,r){const s=nr();if(n&&n.originalException&&OS(n.originalException))return ke&&ae.log(tA),s;const i={event_id:s,...n},a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,a||r)),i.event_id}captureSession(e){typeof e.release!="string"?ke&&ae.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ra(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s))):eo(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];ix(this,e,this._integrations),n||eA(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=Iz(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=yz(r,bz(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=Cz(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${e}:${n}`;ke&&ae.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(s=>s(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(ke&&ae.error("Error while sending envelope:",n),n)):(ke&&ae.error("Transport disabled"),eo({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=aG(this,e),eA(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(Ra(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Jn(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,e&&r>=e&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=jn(),s=wo()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),jz(i,e,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:$q(r),...a.contexts};const l=sz(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{if(ke){const i=s;i.logLevel==="log"?ae.log(i.message):ae.warn(i)}})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=ax(e),a=ox(e),l=e.type||"error",c=`before send for type \`${l}\``,h=typeof i>"u"?void 0:YN(i);if(a&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error",e),Hd(new Dr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const d=l==="replay_event"?"replay":l,g=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,g).then(_=>{if(_===null)throw this.recordDroppedEvent("event_processor",d,e),new Dr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return _;const T=hG(this,s,_,n);return uG(T,c)}).then(_=>{if(_===null){if(this.recordDroppedEvent("before_send",d,e),o){const O=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",O)}throw new Dr(`${c} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!o&&y&&this._updateSessionFromEvent(y,_),o){const N=_.sdkProcessingMetadata&&_.sdkProcessingMetadata.spanCountBeforeProcessing||0,O=_.spans?_.spans.length:0,x=N-O;x>0&&this.recordDroppedEvent("before_send","span",x)}const T=_.transaction_info;if(o&&T&&_.transaction!==e.transaction){const N="custom";_.transaction_info={...T,source:N}}return this.sendEvent(_,n),_}).then(null,_=>{throw _ instanceof Dr?_:(this.captureException(_,{data:{__sentry__:!0},originalException:_}),new Dr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${_}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){ke&&ae.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ke&&ae.log("No outcomes to send");return}if(!this._dsn){ke&&ae.log("No dsn provided, will not send outcomes");return}ke&&ae.log("Sending outcomes:",e);const n=lG(e,this._options.tunnel&&uu(this._dsn));this.sendEnvelope(n)}}function uG(t,e){const n=`${e} must return \`null\` or a valid event.`;if(ip(t))return t.then(r=>{if(!Ca(r)&&r!==null)throw new Dr(n);return r},r=>{throw new Dr(`${e} rejected with ${r}`)});if(!Ca(t)&&t!==null)throw new Dr(n);return t}function hG(t,e,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o}=e;if(ox(n)&&s)return s(n,r);if(ax(n)){if(n.spans&&o){const a=[];for(const l of n.spans){const c=o(l);c?a.push(c):(WN(),t.recordDroppedEvent("before_send","span"))}n.spans=a}if(i){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return i(n,r)}}return n}function ox(t){return t.type===void 0}function ax(t){return t.type==="transaction"}function dG(t,e){e.debug===!0&&(ke?ae.enable():Yr(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),jn().update(e.initialScope);const r=new t(e);return fG(r),r.init(),r}function fG(t){jn().setClient(t)}function pG(t){const e=[];function n(){return t===void 0||e.length<t}function r(o){return e.splice(e.indexOf(o),1)[0]||Promise.resolve(void 0)}function s(o){if(!n())return Hd(new Dr("Not adding Promise because buffer limit was reached."));const a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new Jn((a,l)=>{let c=e.length;if(!c)return a(!0);const h=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(d=>{eo(d).then(()=>{--c||(clearTimeout(h),a(!0))},l)})})}return{$:e,add:s,drain:i}}const mG=60*1e3;function gG(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?mG:r-e}function _G(t,e){return t[e]||t.all||0}function yG(t,e,n=Date.now()){return _G(t,e)>n}function wG(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,h]=a.split(":",5),d=parseInt(l,10),f=(isNaN(d)?60:d)*1e3;if(!c)s.all=r+f;else for(const g of c.split(";"))g==="metric_bucket"?(!h||h.split(";").includes("custom"))&&(s[g]=r+f):s[g]=r+f}else o?s.all=r+gG(o,r):e===429&&(s.all=r+60*1e3);return s}const vG=64;function EG(t,e,n=pG(t.bufferSize||vG)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(US(o,(d,f)=>{const g=HS(f);if(yG(r,g)){const _=nA(d,f);t.recordDroppedEvent("ratelimit_backoff",g,_)}else a.push(d)}),a.length===0)return eo({});const l=rl(o[0],a),c=d=>{US(l,(f,g)=>{const _=nA(f,g);t.recordDroppedEvent(d,HS(g),_)})},h=()=>e({body:wz(l)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&ke&&ae.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=wG(r,d),d),d=>{throw c("network_error"),d});return n.add(h).then(d=>d,d=>{if(d instanceof Dr)return ke&&ae.error("Skipped sending event because buffer is full."),c("queue_overflow"),eo({});throw d})}return{send:i,flush:s}}function nA(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}function bG(t,e,n=[e],r="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:gs})),version:gs}),t._metadata=s}const TG=100;function to(t,e){const n=ft(),r=wo();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=TG}=n.getOptions();if(i<=0)return;const a={timestamp:au(),...t},l=s?Yr(()=>s(a,e)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,e),r.addBreadcrumb(l,i))}let rA;const SG="FunctionToString",sA=new WeakMap,AG=()=>({name:SG,setupOnce(){rA=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=Dw(this),n=sA.has(ft())&&e!==void 0?e:this;return rA.apply(n,t)}}catch{}},setup(t){sA.set(t,!0)}}),CG=AG,IG=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],RG="InboundFilters",kG=(t={})=>({name:RG,processEvent(e,n,r){const s=r.getOptions(),i=NG(t,s);return xG(e,i)?null:e}}),PG=kG;function NG(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:IG],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function xG(t,e){return e.ignoreInternal&&FG(t)?(ke&&ae.warn(`Event dropped due to being internal Sentry Error.
Event: ${$s(t)}`),!0):OG(t,e.ignoreErrors)?(ke&&ae.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$s(t)}`),!0):BG(t)?(ke&&ae.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$s(t)}`),!0):DG(t,e.ignoreTransactions)?(ke&&ae.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$s(t)}`),!0):LG(t,e.denyUrls)?(ke&&ae.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$s(t)}.
Url: ${zd(t)}`),!0):MG(t,e.allowUrls)?!1:(ke&&ae.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$s(t)}.
Url: ${zd(t)}`),!0)}function OG(t,e){return t.type||!e||!e.length?!1:VG(t).some(n=>op(n,e))}function DG(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?op(n,e):!1}function LG(t,e){if(!e||!e.length)return!1;const n=zd(t);return n?op(n,e):!1}function MG(t,e){if(!e||!e.length)return!0;const n=zd(t);return n?op(n,e):!0}function VG(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),e}function FG(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function $G(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function zd(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?$G(e):null}catch{return ke&&ae.error(`Cannot extract url for event ${$s(t)}`),null}}function BG(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}function UG(t,e,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!Zi(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=HG(p_(t,e,s,o.originalException,r,i.exception.values,a,0),n))}function p_(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(Zi(r[s],Error)){iA(o,a);const c=t(e,r[s]),h=l.length;oA(c,s,h,a),l=p_(t,e,n,r[s],s,[c,...l],c,h)}return Array.isArray(r.errors)&&r.errors.forEach((c,h)=>{if(Zi(c,Error)){iA(o,a);const d=t(e,c),f=l.length;oA(d,`errors[${h}]`,f,a),l=p_(t,e,n,c,s,[d,...l],d,f)}}),l}function iA(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function oA(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function HG(t,e){return t.map(n=>(n.value&&(n.value=ia(n.value,e)),n))}function Sm(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function jG(t){const e="console";_o(e,t),yo(e,WG)}function WG(){"console"in $e&&r_.forEach(function(t){t in $e.console&&Mn($e.console,t,function(e){return Ud[t]=e,function(...n){wr("console",{args:n,level:t});const s=Ud[t];s&&s.apply($e.console,n)}})})}function qG(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const zG="Dedupe",GG=()=>{let t;return{name:zG,processEvent(e){if(e.type)return e;try{if(YG(e,t))return ke&&ae.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},KG=GG;function YG(t,e){return e?!!(XG(t,e)||QG(t,e)):!1}function XG(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!cx(t,e)||!lx(t,e))}function QG(t,e){const n=aA(e),r=aA(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!cx(t,e)||!lx(t,e))}function lx(t,e){let n=IS(t),r=IS(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function cx(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function aA(t){return t.exception&&t.exception.values&&t.exception.values[0]}function ux(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const m_=$e;function hx(){if(!("fetch"in m_))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function g_(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function JG(){if(typeof EdgeRuntime=="string")return!0;if(!hx())return!1;if(g_(m_.fetch))return!0;let t=!1;const e=m_.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=g_(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){go&&ae.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function ZG(t,e){const n="fetch";_o(n,t),yo(n,()=>eK(void 0,e))}function eK(t,e=!1){e&&!JG()||Mn($e,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=tK(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:tr()*1e3,virtualError:s};return wr("fetch",{...a}),n.apply($e,r).then(async l=>(wr("fetch",{...a,endTimestamp:tr()*1e3,response:l}),l),l=>{throw wr("fetch",{...a,endTimestamp:tr()*1e3,error:l}),Pw(l)&&l.stack===void 0&&(l.stack=s.stack,or(l,"framesToPop",1)),l})}})}function __(t,e){return!!t&&typeof t=="object"&&!!t[e]}function lA(t){return typeof t=="string"?t:t?__(t,"url")?t.url:t.toString?t.toString():"":""}function tK(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:lA(n),method:__(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:lA(e),method:__(e,"method")?String(e.method).toUpperCase():"GET"}}function nK(){return"npm"}const th=$e;function rK(){const t=th.chrome,e=t&&t.app&&t.app.runtime,n="history"in th&&!!th.history.pushState&&!!th.history.replaceState;return!e&&n}const Xe=$e;let y_=0;function dx(){return y_>0}function sK(){y_++,setTimeout(()=>{y_--})}function Pa(t,e={}){function n(s){return typeof s=="function"}if(!n(t))return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(Dw(t))return t}catch{return t}const r=function(...s){try{const i=s.map(o=>Pa(o,e));return t.apply(this,i)}catch(i){throw sK(),Mw(o=>{o.addEventProcessor(a=>(e.mechanism&&(i_(a,void 0),Ia(a,e.mechanism)),a.extra={...a.extra,arguments:s},a)),tx(i)}),i}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}LN(r,t),or(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}const hu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Bw(t,e){const n=Uw(t,e),r={type:cK(e),value:uK(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function iK(t,e,n,r){const s=ft(),i=s&&s.getOptions().normalizeDepth,o=mK(e),a={__serialized__:QN(e,i)};if(o)return{exception:{values:[Bw(t,o)]},extra:a};const l={exception:{values:[{type:sp(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:fK(e,{isUnhandledRejection:r})}]},extra:a};if(n){const c=Uw(t,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Am(t,e){return{exception:{values:[Bw(t,e)]}}}function Uw(t,e){const n=e.stacktrace||e.stack||"",r=aK(e),s=lK(e);try{return t(n,r,s)}catch{}return[]}const oK=/Minified React error #\d+;/i;function aK(t){return t&&oK.test(t.message)?1:0}function lK(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function fx(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function cK(t){const e=t&&t.name;return!e&&fx(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function uK(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:fx(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function hK(t,e,n,r){const s=n&&n.syntheticException||void 0,i=Hw(t,e,s,r);return Ia(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),eo(i)}function dK(t,e,n="info",r,s){const i=r&&r.syntheticException||void 0,o=w_(t,e,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),eo(o)}function Hw(t,e,n,r,s){let i;if(xN(e)&&e.error)return Am(t,e.error);if(kS(e)||mq(e)){const o=e;if("stack"in e)i=Am(t,e);else{const a=o.name||(kS(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=w_(t,l,n,r),i_(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Pw(e)?Am(t,e):Ca(e)||sp(e)?(i=iK(t,e,n,s),Ia(i,{synthetic:!0}),i):(i=w_(t,e,n,r),i_(i,`${e}`),Ia(i,{synthetic:!0}),i)}function w_(t,e,n,r){const s={};if(r&&n){const i=Uw(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]}),Ia(s,{synthetic:!0})}if(Nw(e)){const{__sentry_template_string__:i,__sentry_template_values__:o}=e;return s.logentry={message:i,params:o},s}return s.message=e,s}function fK(t,{isUnhandledRejection:e}){const n=Sq(t),r=e?"promise rejection":"exception";return xN(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:sp(t)?`Event \`${pK(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function pK(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function mK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}function gK(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:uu(r)}},i=_K(t);return rl(s,[i])}function _K(t){return[{type:"user_report"},t]}class yK extends cG{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e},r=Xe.SENTRY_SDK_SOURCE||nK();bG(n,"browser",["browser"],r),super(n),n.sendClientReports&&Xe.document&&Xe.document.addEventListener("visibilitychange",()=>{Xe.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return hK(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return dK(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){hu&&ae.warn("SDK not enabled, will not capture user feedback.");return}const n=gK(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const wK=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dn=$e,vK=1e3;let cA,v_,E_;function EK(t){const e="dom";_o(e,t),yo(e,bK)}function bK(){if(!dn.document)return;const t=wr.bind(null,"dom"),e=uA(t,!0);dn.document.addEventListener("click",e,!1),dn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const s=dn[n],i=s&&s.prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(Mn(i,"addEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const h=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=h[a]=h[a]||{refCount:0};if(!d.handler){const f=uA(t);d.handler=f,o.call(this,a,f,c)}d.refCount++}catch{}return o.call(this,a,l,c)}}),Mn(i,"removeEventListener",function(o){return function(a,l,c){if(a==="click"||a=="keypress")try{const h=this.__sentry_instrumentation_handlers__||{},d=h[a];d&&(d.refCount--,d.refCount<=0&&(o.call(this,a,d.handler,c),d.handler=void 0,delete h[a]),Object.keys(h).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,a,l,c)}}))})}function TK(t){if(t.type!==v_)return!1;try{if(!t.target||t.target._sentryId!==E_)return!1}catch{}return!0}function SK(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function uA(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=AK(n);if(SK(n.type,r))return;or(n,"_sentryCaptured",!0),r&&!r._sentryId&&or(r,"_sentryId",nr());const s=n.type==="keypress"?"input":n.type;TK(n)||(t({event:n,name:s,global:e}),v_=n.type,E_=r?r._sentryId:void 0),clearTimeout(cA),cA=dn.setTimeout(()=>{E_=void 0,v_=void 0},vK)}}function AK(t){try{return t.target}catch{return null}}let nh;function px(t){const e="history";_o(e,t),yo(e,CK)}function CK(){if(!rK())return;const t=dn.onpopstate;dn.onpopstate=function(...n){const r=dn.location.href,s=nh;if(nh=r,wr("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=nh,o=String(s);nh=o,wr("history",{from:i,to:o})}return n.apply(this,r)}}Mn(dn.history,"pushState",e),Mn(dn.history,"replaceState",e)}const Ph={};function IK(t){const e=Ph[t];if(e)return e;let n=dn[t];if(g_(n))return Ph[t]=n.bind(dn);const r=dn.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i&&i[t]&&(n=i[t]),r.head.removeChild(s)}catch(s){wK&&ae.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,s)}return n&&(Ph[t]=n.bind(dn))}function hA(t){Ph[t]=void 0}const $l="__sentry_xhr_v3__";function RK(t){const e="xhr";_o(e,t),yo(e,kK)}function kK(){if(!dn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const s=new Error,i=tr()*1e3,o=_s(r[0])?r[0].toUpperCase():void 0,a=PK(r[1]);if(!o||!a)return e.apply(n,r);n[$l]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[$l];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const h={endTimestamp:tr()*1e3,startTimestamp:i,xhr:n,virtualError:s};wr("xhr",h)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,h,d){return l(),c.apply(h,d)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,h,d){const[f,g]=d,_=h[$l];return _&&_s(f)&&_s(g)&&(_.request_headers[f.toLowerCase()]=g),c.apply(h,d)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const s=n[$l];if(!s)return e.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:tr()*1e3,xhr:n};return wr("xhr",i),e.apply(n,r)}})}function PK(t){if(_s(t))return t;try{return t.toString()}catch{}}function NK(t,e=IK("fetch")){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return hA("fetch"),Hd("No fetch implementation available");try{return e(t.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return hA("fetch"),n-=o,r--,Hd(l)}}return EG(t,s)}const xK=30,OK=50;function b_(t,e,n,r){const s={filename:t,function:e==="<anonymous>"?Ji:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const DK=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,LK=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,MK=/\((\S*)(?::(\d+))(?::(\d+))\)/,VK=t=>{const e=DK.exec(t);if(e){const[,r,s,i]=e;return b_(r,Ji,+s,+i)}const n=LK.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=MK.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[s,i]=mx(n[1]||Ji,n[2]);return b_(i,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},FK=[xK,VK],$K=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,BK=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,UK=t=>{const e=$K.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=BK.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||Ji;return[s,r]=mx(s,r),b_(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},HK=[OK,UK],jK=[FK,HK],WK=PN(...jK),mx=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Ji,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},rh=1024,qK="Breadcrumbs",zK=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:qK,setup(n){e.console&&jG(XK(n)),e.dom&&EK(YK(n,e.dom)),e.xhr&&RK(QK(n)),e.fetch&&ZG(JK(n)),e.history&&px(ZK(n)),e.sentry&&n.on("beforeSendEvent",KK(n))}}},GK=zK;function KK(t){return function(n){ft()===t&&to({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$s(n)},{event:n})}}function YK(t,e){return function(r){if(ft()!==t)return;let s,i,o=typeof e=="object"?e.serializeAttribute:void 0,a=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;a&&a>rh&&(hu&&ae.warn(`\`dom.maxStringLength\` cannot exceed ${rh}, but a value of ${a} was configured. Sentry will use ${rh} instead.`),a=rh),typeof o=="string"&&(o=[o]);try{const c=r.event,h=e7(c)?c.target:c;s=DN(h,{keyAttrs:o,maxStringLength:a}),i=bq(h)}catch{s="<unknown>"}if(s.length===0)return;const l={category:`ui.${r.name}`,message:s};i&&(l.data={"ui.component_name":i}),to(l,{event:r.event,name:r.name,global:r.global})}}function XK(t){return function(n){if(ft()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:qG(n.level),message:PS(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${PS(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;to(r,{input:n.args,level:n.level})}}function QK(t){return function(n){if(ft()!==t)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[$l];if(!r||!s||!i)return;const{method:o,url:a,status_code:l,body:c}=i,h={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:s},f=ux(l);to({category:"xhr",data:h,type:"http",level:f},d)}}function JK(t){return function(n){if(ft()!==t)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};to({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},l=ux(o.status_code);to({category:"fetch",data:o,type:"http",level:l},a)}}}function ZK(t){return function(n){if(ft()!==t)return;let r=n.from,s=n.to;const i=Sm(Xe.location.href);let o=r?Sm(r):void 0;const a=Sm(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),to({category:"navigation",data:{from:r,to:s}})}}function e7(t){return!!t&&!!t.target}const t7=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],n7="BrowserApiErrors",r7=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:n7,setupOnce(){e.setTimeout&&Mn(Xe,"setTimeout",dA),e.setInterval&&Mn(Xe,"setInterval",dA),e.requestAnimationFrame&&Mn(Xe,"requestAnimationFrame",i7),e.XMLHttpRequest&&"XMLHttpRequest"in Xe&&Mn(XMLHttpRequest.prototype,"send",o7);const n=e.eventTarget;n&&(Array.isArray(n)?n:t7).forEach(a7)}}},s7=r7;function dA(t){return function(...e){const n=e[0];return e[0]=Pa(n,{mechanism:{data:{function:ii(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function i7(t){return function(e){return t.apply(this,[Pa(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ii(t)},handled:!1,type:"instrument"}})])}}function o7(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Mn(n,s,function(i){const o={mechanism:{data:{function:s,handler:ii(i)},handled:!1,type:"instrument"}},a=Dw(i);return a&&(o.mechanism.data.handler=ii(a)),Pa(i,o)})}),t.apply(this,e)}}function a7(t){const n=Xe[t],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Mn(r,"addEventListener",function(s){return function(i,o,a){try{l7(o)&&(o.handleEvent=Pa(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ii(o),target:t},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[i,Pa(o,{mechanism:{data:{function:"addEventListener",handler:ii(o),target:t},handled:!1,type:"instrument"}}),a])}}),Mn(r,"removeEventListener",function(s){return function(i,o,a){try{const l=o.__sentry_wrapped__;l&&s.call(this,i,l,a)}catch{}return s.call(this,i,o,a)}}))}function l7(t){return typeof t.handleEvent=="function"}const c7=()=>({name:"BrowserSession",setupOnce(){if(typeof Xe.document>"u"){hu&&ae.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}QS({ignoreDuration:!0}),JS(),px(({from:t,to:e})=>{t!==void 0&&t!==e&&(QS({ignoreDuration:!0}),JS())})}}),u7="GlobalHandlers",h7=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:u7,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(f7(n),fA("onerror")),e.onunhandledrejection&&(p7(n),fA("onunhandledrejection"))}}},d7=h7;function f7(t){hq(e=>{const{stackParser:n,attachStacktrace:r}=gx();if(ft()!==t||dx())return;const{msg:s,url:i,line:o,column:a,error:l}=e,c=_7(Hw(n,l||s,void 0,r,!1),i,o,a);c.level="error",nx(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function p7(t){fq(e=>{const{stackParser:n,attachStacktrace:r}=gx();if(ft()!==t||dx())return;const s=m7(e),i=xw(s)?g7(s):Hw(n,s,void 0,r,!0);i.level="error",nx(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function m7(t){if(xw(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function g7(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function _7(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,h=n,d=_s(e)&&e.length>0?e:Eq();return l.length===0&&l.push({colno:c,filename:d,function:Ji,in_app:!0,lineno:h}),t}function fA(t){hu&&ae.log(`Global Handler attached: ${t}`)}function gx(){const t=ft();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const y7=()=>({name:"HttpContext",preprocessEvent(t){if(!Xe.navigator&&!Xe.location&&!Xe.document)return;const e=t.request&&t.request.url||Xe.location&&Xe.location.href,{referrer:n}=Xe.document||{},{userAgent:r}=Xe.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),w7="cause",v7=5,E7="LinkedErrors",b7=(t={})=>{const e=t.limit||v7,n=t.key||w7;return{name:E7,preprocessEvent(r,s,i){const o=i.getOptions();UG(Bw,o.stackParser,o.maxValueLength,n,e,r,s)}}},T7=b7;function _x(t){const e=[PG(),CG(),s7(),GK(),d7(),T7(),KG(),y7()];return t.autoSessionTracking!==!1&&e.push(c7()),e}function S7(t={}){const e={defaultIntegrations:_x(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Xe.SENTRY_RELEASE&&Xe.SENTRY_RELEASE.id?Xe.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}function A7(){const t=typeof Xe.window<"u"&&Xe;if(!t)return!1;const e=t.chrome?"chrome":"browser",n=t[e],r=n&&n.runtime&&n.runtime.id,s=Xe.location&&Xe.location.href||"",i=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&Xe===Xe.top&&i.some(l=>s.startsWith(`${l}//`)),a=typeof t.nw<"u";return!!r&&!o&&!a}function C7(t={}){const e=S7(t);if(!e.skipBrowserExtensionCheck&&A7()){Yr(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}hu&&(hx()||ae.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...e,stackParser:cq(e.stackParser||WK),integrations:oG(e),transport:e.transport||NK};return dG(yK,n)}const yx=["activate","mount","update"],wx=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,I7=/(?:^|[-_])(\w)/g,R7=t=>t.replace(I7,e=>e.toUpperCase()).replace(/[-_]/g,""),k7="<Root>",Cm="<Anonymous>",P7=(t,e)=>t.repeat(e),oc=(t,e)=>{if(!t)return Cm;if(t.$root===t)return k7;if(!t.$options)return Cm;const n=t.$options;let r=n.name||n._componentTag||n.__name;const s=n.__file;if(!r&&s){const i=s.match(/([^/\\]+)\.vue$/);i&&(r=i[1])}return(r?`<${R7(r)}>`:Cm)+(s&&e!==!1?` at ${s}`:"")},N7=t=>{if(t&&(t._isVue||t.__isVue)&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const s=e[e.length-1];if(s.constructor===t.constructor){n++,t=t.$parent;continue}else n>0&&(e[e.length-1]=[s,n],n=0)}e.push(t),t=t.$parent}return`

found in

${e.map((s,i)=>`${(i===0?"---> ":P7(" ",5+i*2))+(Array.isArray(s)?`${oc(s[0])}... (${s[1]} recursive calls)`:oc(s))}`).join(`
`)}`}return`

(found in ${oc(t)})`},x7=(t,e)=>{const{errorHandler:n,warnHandler:r,silent:s}=t.config;t.config.errorHandler=(i,o,a)=>{const l=oc(o,!1),c=o?N7(o):"",h={componentName:l,lifecycleHook:a,trace:c};if(e.attachProps&&o&&(o.$options&&o.$options.propsData?h.propsData=o.$options.propsData:o.$props&&(h.propsData=o.$props)),setTimeout(()=>{tx(i,{captureContext:{contexts:{vue:h}},mechanism:{handled:!!n,type:"vue"}})}),typeof n=="function"&&t.config.errorHandler&&n.call(t,i,o,a),n){if(e.logErrors){const d=typeof console<"u",f=`Error in ${a}: "${i&&i.toString()}"`;r?r.call(null,f,o,c):d&&!s&&Yr(()=>{console.error(`[Vue warn]: ${f}${c}`)})}}else throw i}},pA="ui.vue",O7={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function D7(t,e,n){t.$_sentryRootSpanTimer&&clearTimeout(t.$_sentryRootSpanTimer),t.$_sentryRootSpanTimer=setTimeout(()=>{t.$root&&t.$root.$_sentryRootSpan&&(t.$root.$_sentryRootSpan.end(e),t.$root.$_sentryRootSpan=void 0)},n)}function L7(t,e){function n(s){return s.replace(/^<([^\s]*)>(?: at [^\s]*)?$/,"$1")}return t.some(s=>n(e)===n(s))}const M7=t=>{const e=(t.hooks||[]).concat(yx).filter((r,s,i)=>i.indexOf(r)===s),n={};for(const r of e){const s=O7[r];if(!s){wx&&ae.warn(`Unknown hook: ${r}`);continue}for(const i of s)n[i]=function(){const o=this.$root===this;o&&(this.$_sentryRootSpan=this.$_sentryRootSpan||GS({name:"Application Render",op:`${pA}.render`,attributes:{[Nc]:"auto.ui.vue"},onlyIfParent:!0}));const a=oc(this,!1),l=Array.isArray(t.trackComponents)?L7(t.trackComponents,a):t.trackComponents;if(!(!o&&!l))if(this.$_sentrySpans=this.$_sentrySpans||{},i==s[0]){if(this.$root&&this.$root.$_sentryRootSpan||nz()){const h=this.$_sentrySpans[r];h&&h.end(),this.$_sentrySpans[r]=GS({name:`Vue ${a}`,op:`${pA}.${r}`,attributes:{[Nc]:"auto.ui.vue"},onlyIfParent:!0})}}else{const c=this.$_sentrySpans[r];if(!c)return;c.end(),D7(this,tr(),t.timeout)}}}return n},V7=$e,F7={Vue:V7.Vue,attachProps:!0,logErrors:!0,attachErrorHandler:!0,hooks:yx,timeout:2e3,trackComponents:!1},$7="Vue",B7=(t={})=>({name:$7,setup(e){const n={...F7,...e.getOptions(),...t};if(!n.Vue&&!n.app){Yr(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured. Update your `Sentry.init` call with an appropriate config option: `app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}n.app?(Array.isArray(n.app)?n.app:[n.app]).forEach(s=>mA(s,n)):n.Vue&&mA(n.Vue,n)}}),mA=(t,e)=>{if(wx){const n=t;(n._instance&&n._instance.isMounted)===!0&&Yr(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")})}e.attachErrorHandler&&x7(t,e),lp(e)&&t.mixin(M7({...e,...e.tracingOptions}))};function U7(t={}){const e={_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:gs}],version:gs}},defaultIntegrations:[..._x(t),B7()],...t};return C7(e)}function H7(t){U7({app:t,dsn:"https://e4614258103b45aaa60f571962e13974@o1128299.ingest.sentry.io/6170799",whitelistUrls:[/https?:\/\/(www\.)?keepthescore\.com/],ignoreErrors:[/.*embed.*/,/.*profitwell.*/,/.*SecurityError.*/,/.*beacon.*/,/.*FirebaseError.*/,/.*hyvor.*/,/.*sniff.*/,/.*by permissions policy.*/,/.*HTMLOUT is not defined.*/,/.*UET.*/,"Unable to preload CSS","INTERNAL ASSERTION FAILED","User canceled the upload/download","dibatalkan","Importing a module script failed.","Failed to fetch dynamically imported module","error loading dynamically imported module",`(evaluating 'b.get(n,"mods").find')`,"Failed to read the 'sessionStorage' property from 'Window'","Network Error","googletag","chrome-extension://","fullscreen error","requestFullscreen","getBoundingClientRect","zaloJSV2","SecurityError: Blocked a frame with origin","Cannot read properties of undefined (reading 'backdrop')","Load failed","UnknownError: Database deleted by request of the user"],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1})}var pn="top",Wn="bottom",qn="right",mn="left",up="auto",sl=[pn,Wn,qn,mn],no="start",Na="end",vx="clippingParents",jw="viewport",Vo="popper",Ex="reference",T_=sl.reduce(function(t,e){return t.concat([e+"-"+no,e+"-"+Na])},[]),Ww=[].concat(sl,[up]).reduce(function(t,e){return t.concat([e,e+"-"+no,e+"-"+Na])},[]),bx="beforeRead",Tx="read",Sx="afterRead",Ax="beforeMain",Cx="main",Ix="afterMain",Rx="beforeWrite",kx="write",Px="afterWrite",Nx=[bx,Tx,Sx,Ax,Cx,Ix,Rx,kx,Px];function Kr(t){return t?(t.nodeName||"").toLowerCase():null}function zn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ro(t){var e=zn(t).Element;return t instanceof e||t instanceof Element}function rr(t){var e=zn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function qw(t){if(typeof ShadowRoot>"u")return!1;var e=zn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function j7(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!rr(i)||!Kr(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function W7(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!rr(s)||!Kr(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const zw={name:"applyStyles",enabled:!0,phase:"write",fn:j7,effect:W7,requires:["computeStyles"]};function Hr(t){return t.split("-")[0]}var Ui=Math.max,Gd=Math.min,xa=Math.round;function S_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xx(){return!/^((?!chrome|android).)*safari/i.test(S_())}function Oa(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&rr(t)&&(s=t.offsetWidth>0&&xa(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&xa(r.height)/t.offsetHeight||1);var o=ro(t)?zn(t):window,a=o.visualViewport,l=!xx()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,h=(r.top+(l&&a?a.offsetTop:0))/i,d=r.width/s,f=r.height/i;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c,x:c,y:h}}function Gw(t){var e=Oa(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ox(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&qw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ts(t){return zn(t).getComputedStyle(t)}function q7(t){return["table","td","th"].indexOf(Kr(t))>=0}function pi(t){return((ro(t)?t.ownerDocument:t.document)||window.document).documentElement}function hp(t){return Kr(t)==="html"?t:t.assignedSlot||t.parentNode||(qw(t)?t.host:null)||pi(t)}function gA(t){return!rr(t)||Ts(t).position==="fixed"?null:t.offsetParent}function z7(t){var e=/firefox/i.test(S_()),n=/Trident/i.test(S_());if(n&&rr(t)){var r=Ts(t);if(r.position==="fixed")return null}var s=hp(t);for(qw(s)&&(s=s.host);rr(s)&&["html","body"].indexOf(Kr(s))<0;){var i=Ts(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function du(t){for(var e=zn(t),n=gA(t);n&&q7(n)&&Ts(n).position==="static";)n=gA(n);return n&&(Kr(n)==="html"||Kr(n)==="body"&&Ts(n).position==="static")?e:n||z7(t)||e}function Kw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ac(t,e,n){return Ui(t,Gd(e,n))}function G7(t,e,n){var r=ac(t,e,n);return r>n?n:r}function Dx(){return{top:0,right:0,bottom:0,left:0}}function Lx(t){return Object.assign({},Dx(),t)}function Mx(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var K7=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Lx(typeof e!="number"?e:Mx(e,sl))};function Y7(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Hr(n.placement),l=Kw(a),c=[mn,qn].indexOf(a)>=0,h=c?"height":"width";if(!(!i||!o)){var d=K7(s.padding,n),f=Gw(i),g=l==="y"?pn:mn,_=l==="y"?Wn:qn,y=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],T=o[l]-n.rects.reference[l],N=du(i),O=N?l==="y"?N.clientHeight||0:N.clientWidth||0:0,x=y/2-T/2,D=d[g],M=O-f[h]-d[_],V=O/2-f[h]/2+x,C=ac(D,V,M),E=l;n.modifiersData[r]=(e={},e[E]=C,e.centerOffset=C-V,e)}}function X7(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Ox(e.elements.popper,s)&&(e.elements.arrow=s))}const Vx={name:"arrow",enabled:!0,phase:"main",fn:Y7,effect:X7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Da(t){return t.split("-")[1]}var Q7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function J7(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:xa(n*s)/s||0,y:xa(r*s)/s||0}}function _A(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,_=o.y,y=_===void 0?0:_,T=typeof h=="function"?h({x:g,y}):{x:g,y};g=T.x,y=T.y;var N=o.hasOwnProperty("x"),O=o.hasOwnProperty("y"),x=mn,D=pn,M=window;if(c){var V=du(n),C="clientHeight",E="clientWidth";if(V===zn(n)&&(V=pi(n),Ts(V).position!=="static"&&a==="absolute"&&(C="scrollHeight",E="scrollWidth")),V=V,s===pn||(s===mn||s===qn)&&i===Na){D=Wn;var w=d&&V===M&&M.visualViewport?M.visualViewport.height:V[C];y-=w-r.height,y*=l?1:-1}if(s===mn||(s===pn||s===Wn)&&i===Na){x=qn;var A=d&&V===M&&M.visualViewport?M.visualViewport.width:V[E];g-=A-r.width,g*=l?1:-1}}var k=Object.assign({position:a},c&&Q7),I=h===!0?J7({x:g,y},zn(n)):{x:g,y};if(g=I.x,y=I.y,l){var S;return Object.assign({},k,(S={},S[D]=O?"0":"",S[x]=N?"0":"",S.transform=(M.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",S))}return Object.assign({},k,(e={},e[D]=O?y+"px":"",e[x]=N?g+"px":"",e.transform="",e))}function Z7(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Hr(e.placement),variation:Da(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_A(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_A(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Yw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Z7,data:{}};var sh={passive:!0};function e8(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=zn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(h){h.addEventListener("scroll",n.update,sh)}),a&&l.addEventListener("resize",n.update,sh),function(){i&&c.forEach(function(h){h.removeEventListener("scroll",n.update,sh)}),a&&l.removeEventListener("resize",n.update,sh)}}const Xw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:e8,data:{}};var t8={left:"right",right:"left",bottom:"top",top:"bottom"};function Nh(t){return t.replace(/left|right|bottom|top/g,function(e){return t8[e]})}var n8={start:"end",end:"start"};function yA(t){return t.replace(/start|end/g,function(e){return n8[e]})}function Qw(t){var e=zn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Jw(t){return Oa(pi(t)).left+Qw(t).scrollLeft}function r8(t,e){var n=zn(t),r=pi(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=xx();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+Jw(t),y:l}}function s8(t){var e,n=pi(t),r=Qw(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ui(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ui(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Jw(t),l=-r.scrollTop;return Ts(s||n).direction==="rtl"&&(a+=Ui(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function Zw(t){var e=Ts(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Fx(t){return["html","body","#document"].indexOf(Kr(t))>=0?t.ownerDocument.body:rr(t)&&Zw(t)?t:Fx(hp(t))}function lc(t,e){var n;e===void 0&&(e=[]);var r=Fx(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=zn(r),o=s?[i].concat(i.visualViewport||[],Zw(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(lc(hp(o)))}function A_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function i8(t,e){var n=Oa(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function wA(t,e,n){return e===jw?A_(r8(t,n)):ro(e)?i8(e,n):A_(s8(pi(t)))}function o8(t){var e=lc(hp(t)),n=["absolute","fixed"].indexOf(Ts(t).position)>=0,r=n&&rr(t)?du(t):t;return ro(r)?e.filter(function(s){return ro(s)&&Ox(s,r)&&Kr(s)!=="body"}):[]}function a8(t,e,n,r){var s=e==="clippingParents"?o8(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var h=wA(t,c,r);return l.top=Ui(h.top,l.top),l.right=Gd(h.right,l.right),l.bottom=Gd(h.bottom,l.bottom),l.left=Ui(h.left,l.left),l},wA(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $x(t){var e=t.reference,n=t.element,r=t.placement,s=r?Hr(r):null,i=r?Da(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case pn:l={x:o,y:e.y-n.height};break;case Wn:l={x:o,y:e.y+e.height};break;case qn:l={x:e.x+e.width,y:a};break;case mn:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?Kw(s):null;if(c!=null){var h=c==="y"?"height":"width";switch(i){case no:l[c]=l[c]-(e[h]/2-n[h]/2);break;case Na:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function La(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?vx:a,c=n.rootBoundary,h=c===void 0?jw:c,d=n.elementContext,f=d===void 0?Vo:d,g=n.altBoundary,_=g===void 0?!1:g,y=n.padding,T=y===void 0?0:y,N=Lx(typeof T!="number"?T:Mx(T,sl)),O=f===Vo?Ex:Vo,x=t.rects.popper,D=t.elements[_?O:f],M=a8(ro(D)?D:D.contextElement||pi(t.elements.popper),l,h,o),V=Oa(t.elements.reference),C=$x({reference:V,element:x,placement:s}),E=A_(Object.assign({},x,C)),w=f===Vo?E:V,A={top:M.top-w.top+N.top,bottom:w.bottom-M.bottom+N.bottom,left:M.left-w.left+N.left,right:w.right-M.right+N.right},k=t.modifiersData.offset;if(f===Vo&&k){var I=k[s];Object.keys(A).forEach(function(S){var we=[qn,Wn].indexOf(S)>=0?1:-1,Me=[pn,Wn].indexOf(S)>=0?"y":"x";A[S]+=I[Me]*we})}return A}function l8(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ww:l,h=Da(r),d=h?a?T_:T_.filter(function(_){return Da(_)===h}):sl,f=d.filter(function(_){return c.indexOf(_)>=0});f.length===0&&(f=d);var g=f.reduce(function(_,y){return _[y]=La(t,{placement:y,boundary:s,rootBoundary:i,padding:o})[Hr(y)],_},{});return Object.keys(g).sort(function(_,y){return g[_]-g[y]})}function c8(t){if(Hr(t)===up)return[];var e=Nh(t);return[yA(t),e,yA(e)]}function u8(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,_=g===void 0?!0:g,y=n.allowedAutoPlacements,T=e.options.placement,N=Hr(T),O=N===T,x=l||(O||!_?[Nh(T)]:c8(T)),D=[T].concat(x).reduce(function(it,Qe){return it.concat(Hr(Qe)===up?l8(e,{placement:Qe,boundary:h,rootBoundary:d,padding:c,flipVariations:_,allowedAutoPlacements:y}):Qe)},[]),M=e.rects.reference,V=e.rects.popper,C=new Map,E=!0,w=D[0],A=0;A<D.length;A++){var k=D[A],I=Hr(k),S=Da(k)===no,we=[pn,Wn].indexOf(I)>=0,Me=we?"width":"height",Te=La(e,{placement:k,boundary:h,rootBoundary:d,altBoundary:f,padding:c}),b=we?S?qn:mn:S?Wn:pn;M[Me]>V[Me]&&(b=Nh(b));var H=Nh(b),Q=[];if(i&&Q.push(Te[I]<=0),a&&Q.push(Te[b]<=0,Te[H]<=0),Q.every(function(it){return it})){w=k,E=!1;break}C.set(k,Q)}if(E)for(var ee=_?3:1,Se=function(Qe){var mt=D.find(function(Rt){var Lt=C.get(Rt);if(Lt)return Lt.slice(0,Qe).every(function(Pn){return Pn})});if(mt)return w=mt,"break"},ie=ee;ie>0;ie--){var ye=Se(ie);if(ye==="break")break}e.placement!==w&&(e.modifiersData[r]._skip=!0,e.placement=w,e.reset=!0)}}const Bx={name:"flip",enabled:!0,phase:"main",fn:u8,requiresIfExists:["offset"],data:{_skip:!1}};function vA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function EA(t){return[pn,qn,Wn,mn].some(function(e){return t[e]>=0})}function h8(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=La(e,{elementContext:"reference"}),a=La(e,{altBoundary:!0}),l=vA(o,r),c=vA(a,s,i),h=EA(l),d=EA(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}const Ux={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:h8};function d8(t,e,n){var r=Hr(t),s=[mn,pn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[mn,qn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function f8(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=Ww.reduce(function(h,d){return h[d]=d8(d,e.rects,i),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Hx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:f8};function p8(t){var e=t.state,n=t.name;e.modifiersData[n]=$x({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ev={name:"popperOffsets",enabled:!0,phase:"read",fn:p8,data:{}};function m8(t){return t==="x"?"y":"x"}function g8(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,_=n.tetherOffset,y=_===void 0?0:_,T=La(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),N=Hr(e.placement),O=Da(e.placement),x=!O,D=Kw(N),M=m8(D),V=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,w=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,A=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(V){if(i){var S,we=D==="y"?pn:mn,Me=D==="y"?Wn:qn,Te=D==="y"?"height":"width",b=V[D],H=b+T[we],Q=b-T[Me],ee=g?-E[Te]/2:0,Se=O===no?C[Te]:E[Te],ie=O===no?-E[Te]:-C[Te],ye=e.elements.arrow,it=g&&ye?Gw(ye):{width:0,height:0},Qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Dx(),mt=Qe[we],Rt=Qe[Me],Lt=ac(0,C[Te],it[Te]),Pn=x?C[Te]/2-ee-Lt-mt-A.mainAxis:Se-Lt-mt-A.mainAxis,yn=x?-C[Te]/2+ee+Lt+Rt+A.mainAxis:ie+Lt+Rt+A.mainAxis,wn=e.elements.arrow&&du(e.elements.arrow),R=wn?D==="y"?wn.clientTop||0:wn.clientLeft||0:0,P=(S=k==null?void 0:k[D])!=null?S:0,$=b+Pn-P-R,q=b+yn-P,W=ac(g?Gd(H,$):H,b,g?Ui(Q,q):Q);V[D]=W,I[D]=W-b}if(a){var K,te=D==="x"?pn:mn,J=D==="x"?Wn:qn,X=V[M],z=M==="y"?"height":"width",le=X+T[te],ne=X-T[J],oe=[pn,mn].indexOf(N)!==-1,pe=(K=k==null?void 0:k[M])!=null?K:0,ce=oe?le:X-C[z]-E[z]-pe+A.altAxis,ve=oe?X+C[z]+E[z]-pe-A.altAxis:ne,Re=g&&oe?G7(ce,X,ve):ac(g?ce:le,X,g?ve:ne);V[M]=Re,I[M]=Re-X}e.modifiersData[r]=I}}const jx={name:"preventOverflow",enabled:!0,phase:"main",fn:g8,requiresIfExists:["offset"]};function _8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function y8(t){return t===zn(t)||!rr(t)?Qw(t):_8(t)}function w8(t){var e=t.getBoundingClientRect(),n=xa(e.width)/t.offsetWidth||1,r=xa(e.height)/t.offsetHeight||1;return n!==1||r!==1}function v8(t,e,n){n===void 0&&(n=!1);var r=rr(e),s=rr(e)&&w8(e),i=pi(e),o=Oa(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Kr(e)!=="body"||Zw(i))&&(a=y8(e)),rr(e)?(l=Oa(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=Jw(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function E8(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function b8(t){var e=E8(t);return Nx.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function T8(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function S8(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var bA={placement:"bottom",modifiers:[],strategy:"absolute"};function TA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?bA:s;return function(a,l,c){c===void 0&&(c=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},bA,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:h,setOptions:function(N){var O=typeof N=="function"?N(h.options):N;y(),h.options=Object.assign({},i,h.options,O),h.scrollParents={reference:ro(a)?lc(a):a.contextElement?lc(a.contextElement):[],popper:lc(l)};var x=b8(S8([].concat(r,h.options.modifiers)));return h.orderedModifiers=x.filter(function(D){return D.enabled}),_(),g.update()},forceUpdate:function(){if(!f){var N=h.elements,O=N.reference,x=N.popper;if(TA(O,x)){h.rects={reference:v8(O,du(x),h.options.strategy==="fixed"),popper:Gw(x)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var D=0;D<h.orderedModifiers.length;D++){if(h.reset===!0){h.reset=!1,D=-1;continue}var M=h.orderedModifiers[D],V=M.fn,C=M.options,E=C===void 0?{}:C,w=M.name;typeof V=="function"&&(h=V({state:h,options:E,name:w,instance:g})||h)}}}},update:T8(function(){return new Promise(function(T){g.forceUpdate(),T(h)})}),destroy:function(){y(),f=!0}};if(!TA(a,l))return g;g.setOptions(c).then(function(T){!f&&c.onFirstUpdate&&c.onFirstUpdate(T)});function _(){h.orderedModifiers.forEach(function(T){var N=T.name,O=T.options,x=O===void 0?{}:O,D=T.effect;if(typeof D=="function"){var M=D({state:h,name:N,instance:g,options:x}),V=function(){};d.push(M||V)}})}function y(){d.forEach(function(T){return T()}),d=[]}return g}}var A8=dp(),C8=[Xw,ev,Yw,zw],I8=dp({defaultModifiers:C8}),R8=[Xw,ev,Yw,zw,Hx,Bx,jx,Vx,Ux],tv=dp({defaultModifiers:R8});const Wx=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ix,afterRead:Sx,afterWrite:Px,applyStyles:zw,arrow:Vx,auto:up,basePlacements:sl,beforeMain:Ax,beforeRead:bx,beforeWrite:Rx,bottom:Wn,clippingParents:vx,computeStyles:Yw,createPopper:tv,createPopperBase:A8,createPopperLite:I8,detectOverflow:La,end:Na,eventListeners:Xw,flip:Bx,hide:Ux,left:mn,main:Cx,modifierPhases:Nx,offset:Hx,placements:Ww,popper:Vo,popperGenerator:dp,popperOffsets:ev,preventOverflow:jx,read:Tx,reference:Ex,right:qn,start:no,top:pn,variationPlacements:T_,viewport:jw,write:kx},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ls=new Map,Im={set(t,e,n){Ls.has(t)||Ls.set(t,new Map);const r=Ls.get(t);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,n)},get(t,e){return Ls.has(t)&&Ls.get(t).get(e)||null},remove(t,e){if(!Ls.has(t))return;const n=Ls.get(t);n.delete(e),n.size===0&&Ls.delete(t)}},k8=1e6,P8=1e3,C_="transitionend",qx=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,n)=>`#${CSS.escape(n)}`)),t),N8=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),x8=t=>{do t+=Math.floor(Math.random()*k8);while(document.getElementById(t));return t},O8=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),s=Number.parseFloat(n);return!r&&!s?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*P8)},zx=t=>{t.dispatchEvent(new Event(C_))},ys=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),ai=t=>ys(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(qx(t)):null,il=t=>{if(!ys(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const r=t.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return e},li=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Gx=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Gx(t.parentNode):null},Kd=()=>{},fu=t=>{t.offsetHeight},Kx=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Rm=[],D8=t=>{document.readyState==="loading"?(Rm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Rm)e()}),Rm.push(t)):t()},ar=()=>document.documentElement.dir==="rtl",cr=t=>{D8(()=>{const e=Kx();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},Cn=(t,e=[],n=t)=>typeof t=="function"?t.call(...e):n,Yx=(t,e,n=!0)=>{if(!n){Cn(t);return}const s=O8(e)+5;let i=!1;const o=({target:a})=>{a===e&&(i=!0,e.removeEventListener(C_,o),Cn(t))};e.addEventListener(C_,o),setTimeout(()=>{i||zx(e)},s)},nv=(t,e,n,r)=>{const s=t.length;let i=t.indexOf(e);return i===-1?!n&&r?t[s-1]:t[0]:(i+=n?1:-1,r&&(i=(i+s)%s),t[Math.max(0,Math.min(i,s-1))])},L8=/[^.]*(?=\..*)\.|.*/,M8=/\..*/,V8=/::\d+$/,km={};let SA=1;const Xx={mouseenter:"mouseover",mouseleave:"mouseout"},F8=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Qx(t,e){return e&&`${e}::${SA++}`||t.uidEvent||SA++}function Jx(t){const e=Qx(t);return t.uidEvent=e,km[e]=km[e]||{},km[e]}function $8(t,e){return function n(r){return rv(r,{delegateTarget:t}),n.oneOff&&G.off(t,r.type,e),e.apply(t,[r])}}function B8(t,e,n){return function r(s){const i=t.querySelectorAll(e);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of i)if(a===o)return rv(s,{delegateTarget:o}),r.oneOff&&G.off(t,s.type,e,n),n.apply(o,[s])}}function Zx(t,e,n=null){return Object.values(t).find(r=>r.callable===e&&r.delegationSelector===n)}function eO(t,e,n){const r=typeof e=="string",s=r?n:e||n;let i=tO(t);return F8.has(i)||(i=t),[r,s,i]}function AA(t,e,n,r,s){if(typeof e!="string"||!t)return;let[i,o,a]=eO(e,n,r);e in Xx&&(o=(_=>function(y){if(!y.relatedTarget||y.relatedTarget!==y.delegateTarget&&!y.delegateTarget.contains(y.relatedTarget))return _.call(this,y)})(o));const l=Jx(t),c=l[a]||(l[a]={}),h=Zx(c,o,i?n:null);if(h){h.oneOff=h.oneOff&&s;return}const d=Qx(o,e.replace(L8,"")),f=i?B8(t,n,o):$8(t,o);f.delegationSelector=i?n:null,f.callable=o,f.oneOff=s,f.uidEvent=d,c[d]=f,t.addEventListener(a,f,i)}function I_(t,e,n,r,s){const i=Zx(e[n],r,s);i&&(t.removeEventListener(n,i,!!s),delete e[n][i.uidEvent])}function U8(t,e,n,r){const s=e[n]||{};for(const[i,o]of Object.entries(s))i.includes(r)&&I_(t,e,n,o.callable,o.delegationSelector)}function tO(t){return t=t.replace(M8,""),Xx[t]||t}const G={on(t,e,n,r){AA(t,e,n,r,!1)},one(t,e,n,r){AA(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[s,i,o]=eO(e,n,r),a=o!==e,l=Jx(t),c=l[o]||{},h=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(c).length)return;I_(t,l,o,i,s?n:null);return}if(h)for(const d of Object.keys(l))U8(t,l,d,e.slice(1));for(const[d,f]of Object.entries(c)){const g=d.replace(V8,"");(!a||e.includes(g))&&I_(t,l,o,f.callable,f.delegationSelector)}},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=Kx(),s=tO(e),i=e!==s;let o=null,a=!0,l=!0,c=!1;i&&r&&(o=r.Event(e,n),r(t).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const h=rv(new Event(e,{bubbles:a,cancelable:!0}),n);return c&&h.preventDefault(),l&&t.dispatchEvent(h),h.defaultPrevented&&o&&o.preventDefault(),h}};function rv(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch{Object.defineProperty(t,n,{configurable:!0,get(){return r}})}return t}function CA(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Pm(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const ws={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${Pm(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Pm(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),e[s]=CA(t.dataset[r])}return e},getDataAttribute(t,e){return CA(t.getAttribute(`data-bs-${Pm(e)}`))}};class pu{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,n){const r=ys(n)?ws.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...ys(n)?ws.getDataAttributes(n):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const[r,s]of Object.entries(n)){const i=e[r],o=ys(i)?"element":N8(i);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${s}".`)}}}const H8="5.3.7";class Ir extends pu{constructor(e,n){super(),e=ai(e),e&&(this._element=e,this._config=this._getConfig(n),Im.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Im.remove(this._element,this.constructor.DATA_KEY),G.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,n,r=!0){Yx(e,n,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Im.get(ai(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return H8}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Nm=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e?e.split(",").map(n=>qx(n)).join(","):null},de={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(n=>!li(n)&&il(n))},getSelectorFromElement(t){const e=Nm(t);return e&&de.findOne(e)?e:null},getElementFromSelector(t){const e=Nm(t);return e?de.findOne(e):null},getMultipleElementsFromSelector(t){const e=Nm(t);return e?de.find(e):[]}},fp=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;G.on(document,n,`[data-bs-dismiss="${r}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),li(this))return;const i=de.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(i)[e]()})},j8="alert",W8="bs.alert",nO=`.${W8}`,q8=`close${nO}`,z8=`closed${nO}`,G8="fade",K8="show";class pp extends Ir{static get NAME(){return j8}close(){if(G.trigger(this._element,q8).defaultPrevented)return;this._element.classList.remove(K8);const n=this._element.classList.contains(G8);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),G.trigger(this._element,z8),this.dispose()}static jQueryInterface(e){return this.each(function(){const n=pp.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}fp(pp,"close");cr(pp);const Y8="button",X8="bs.button",Q8=`.${X8}`,J8=".data-api",Z8="active",IA='[data-bs-toggle="button"]',eY=`click${Q8}${J8}`;class mp extends Ir{static get NAME(){return Y8}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Z8))}static jQueryInterface(e){return this.each(function(){const n=mp.getOrCreateInstance(this);e==="toggle"&&n[e]()})}}G.on(document,eY,IA,t=>{t.preventDefault();const e=t.target.closest(IA);mp.getOrCreateInstance(e).toggle()});cr(mp);const tY="swipe",ol=".bs.swipe",nY=`touchstart${ol}`,rY=`touchmove${ol}`,sY=`touchend${ol}`,iY=`pointerdown${ol}`,oY=`pointerup${ol}`,aY="touch",lY="pen",cY="pointer-event",uY=40,hY={endCallback:null,leftCallback:null,rightCallback:null},dY={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Yd extends pu{constructor(e,n){super(),this._element=e,!(!e||!Yd.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return hY}static get DefaultType(){return dY}static get NAME(){return tY}dispose(){G.off(this._element,ol)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Cn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=uY)return;const n=e/this._deltaX;this._deltaX=0,n&&Cn(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(G.on(this._element,iY,e=>this._start(e)),G.on(this._element,oY,e=>this._end(e)),this._element.classList.add(cY)):(G.on(this._element,nY,e=>this._start(e)),G.on(this._element,rY,e=>this._move(e)),G.on(this._element,sY,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===lY||e.pointerType===aY)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const fY="carousel",pY="bs.carousel",mi=`.${pY}`,rO=".data-api",mY="ArrowLeft",gY="ArrowRight",_Y=500,Pl="next",ko="prev",Fo="left",xh="right",yY=`slide${mi}`,xm=`slid${mi}`,wY=`keydown${mi}`,vY=`mouseenter${mi}`,EY=`mouseleave${mi}`,bY=`dragstart${mi}`,TY=`load${mi}${rO}`,SY=`click${mi}${rO}`,sO="carousel",ih="active",AY="slide",CY="carousel-item-end",IY="carousel-item-start",RY="carousel-item-next",kY="carousel-item-prev",iO=".active",oO=".carousel-item",PY=iO+oO,NY=".carousel-item img",xY=".carousel-indicators",OY="[data-bs-slide], [data-bs-slide-to]",DY='[data-bs-ride="carousel"]',LY={[mY]:xh,[gY]:Fo},MY={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},VY={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class mu extends Ir{constructor(e,n){super(e,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=de.findOne(xY,this._element),this._addEventListeners(),this._config.ride===sO&&this.cycle()}static get Default(){return MY}static get DefaultType(){return VY}static get NAME(){return fY}next(){this._slide(Pl)}nextWhenVisible(){!document.hidden&&il(this._element)&&this.next()}prev(){this._slide(ko)}pause(){this._isSliding&&zx(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){G.one(this._element,xm,()=>this.cycle());return}this.cycle()}}to(e){const n=this._getItems();if(e>n.length-1||e<0)return;if(this._isSliding){G.one(this._element,xm,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const s=e>r?Pl:ko;this._slide(s,n[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&G.on(this._element,wY,e=>this._keydown(e)),this._config.pause==="hover"&&(G.on(this._element,vY,()=>this.pause()),G.on(this._element,EY,()=>this._maybeEnableCycle())),this._config.touch&&Yd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of de.find(NY,this._element))G.on(r,bY,s=>s.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Fo)),rightCallback:()=>this._slide(this._directionToOrder(xh)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),_Y+this._config.interval))}};this._swipeHelper=new Yd(this._element,n)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const n=LY[e.key];n&&(e.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const n=de.findOne(iO,this._indicatorsElement);n.classList.remove(ih),n.removeAttribute("aria-current");const r=de.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(ih),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const n=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(e,n=null){if(this._isSliding)return;const r=this._getActive(),s=e===Pl,i=n||nv(this._getItems(),r,s,this._config.wrap);if(i===r)return;const o=this._getItemIndex(i),a=g=>G.trigger(this._element,g,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:o});if(a(yY).defaultPrevented||!r||!i)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const h=s?IY:CY,d=s?RY:kY;i.classList.add(d),fu(i),r.classList.add(h),i.classList.add(h);const f=()=>{i.classList.remove(h,d),i.classList.add(ih),r.classList.remove(ih,d,h),this._isSliding=!1,a(xm)};this._queueCallback(f,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(AY)}_getActive(){return de.findOne(PY,this._element)}_getItems(){return de.find(oO,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ar()?e===Fo?ko:Pl:e===Fo?Pl:ko}_orderToDirection(e){return ar()?e===ko?Fo:xh:e===ko?xh:Fo}static jQueryInterface(e){return this.each(function(){const n=mu.getOrCreateInstance(this,e);if(typeof e=="number"){n.to(e);return}if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}G.on(document,SY,OY,function(t){const e=de.getElementFromSelector(this);if(!e||!e.classList.contains(sO))return;t.preventDefault();const n=mu.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(ws.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});G.on(window,TY,()=>{const t=de.find(DY);for(const e of t)mu.getOrCreateInstance(e)});cr(mu);const FY="collapse",$Y="bs.collapse",gu=`.${$Y}`,BY=".data-api",UY=`show${gu}`,HY=`shown${gu}`,jY=`hide${gu}`,WY=`hidden${gu}`,qY=`click${gu}${BY}`,Om="show",Ho="collapse",oh="collapsing",zY="collapsed",GY=`:scope .${Ho} .${Ho}`,KY="collapse-horizontal",YY="width",XY="height",QY=".collapse.show, .collapse.collapsing",R_='[data-bs-toggle="collapse"]',JY={parent:null,toggle:!0},ZY={parent:"(null|element)",toggle:"boolean"};class xc extends Ir{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=de.find(R_);for(const s of r){const i=de.getSelectorFromElement(s),o=de.find(i).filter(a=>a===this._element);i!==null&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return JY}static get DefaultType(){return ZY}static get NAME(){return FY}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(QY).filter(a=>a!==this._element).map(a=>xc.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||G.trigger(this._element,UY).defaultPrevented)return;for(const a of e)a.hide();const r=this._getDimension();this._element.classList.remove(Ho),this._element.classList.add(oh),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(oh),this._element.classList.add(Ho,Om),this._element.style[r]="",G.trigger(this._element,HY)},o=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[r]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||G.trigger(this._element,jY).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,fu(this._element),this._element.classList.add(oh),this._element.classList.remove(Ho,Om);for(const s of this._triggerArray){const i=de.getElementFromSelector(s);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(oh),this._element.classList.add(Ho),G.trigger(this._element,WY)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Om)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ai(e.parent),e}_getDimension(){return this._element.classList.contains(KY)?YY:XY}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(R_);for(const n of e){const r=de.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(e){const n=de.find(GY,this._config.parent);return de.find(e,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(e,n){if(e.length)for(const r of e)r.classList.toggle(zY,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(e){const n={};return typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1),this.each(function(){const r=xc.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}G.on(document,qY,R_,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of de.getMultipleElementsFromSelector(this))xc.getOrCreateInstance(e,{toggle:!1}).toggle()});cr(xc);const RA="dropdown",eX="bs.dropdown",vo=`.${eX}`,sv=".data-api",tX="Escape",kA="Tab",nX="ArrowUp",PA="ArrowDown",rX=2,sX=`hide${vo}`,iX=`hidden${vo}`,oX=`show${vo}`,aX=`shown${vo}`,aO=`click${vo}${sv}`,lO=`keydown${vo}${sv}`,lX=`keyup${vo}${sv}`,$o="show",cX="dropup",uX="dropend",hX="dropstart",dX="dropup-center",fX="dropdown-center",Di='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',pX=`${Di}.${$o}`,Oh=".dropdown-menu",mX=".navbar",gX=".navbar-nav",_X=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",yX=ar()?"top-end":"top-start",wX=ar()?"top-start":"top-end",vX=ar()?"bottom-end":"bottom-start",EX=ar()?"bottom-start":"bottom-end",bX=ar()?"left-start":"right-start",TX=ar()?"right-start":"left-start",SX="top",AX="bottom",CX={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},IX={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class jr extends Ir{constructor(e,n){super(e,n),this._popper=null,this._parent=this._element.parentNode,this._menu=de.next(this._element,Oh)[0]||de.prev(this._element,Oh)[0]||de.findOne(Oh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return CX}static get DefaultType(){return IX}static get NAME(){return RA}toggle(){return this._isShown()?this.hide():this.show()}show(){if(li(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!G.trigger(this._element,oX,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(gX))for(const r of[].concat(...document.body.children))G.on(r,"mouseover",Kd);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($o),this._element.classList.add($o),G.trigger(this._element,aX,e)}}hide(){if(li(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!G.trigger(this._element,sX,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))G.off(r,"mouseover",Kd);this._popper&&this._popper.destroy(),this._menu.classList.remove($o),this._element.classList.remove($o),this._element.setAttribute("aria-expanded","false"),ws.removeDataAttribute(this._menu,"popper"),G.trigger(this._element,iX,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!ys(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${RA.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Wx>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:ys(this._config.reference)?e=ai(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const n=this._getPopperConfig();this._popper=tv(e,this._menu,n)}_isShown(){return this._menu.classList.contains($o)}_getPlacement(){const e=this._parent;if(e.classList.contains(uX))return bX;if(e.classList.contains(hX))return TX;if(e.classList.contains(dX))return SX;if(e.classList.contains(fX))return AX;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(cX)?n?wX:yX:n?EX:vX}_detectNavbar(){return this._element.closest(mX)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ws.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Cn(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:n}){const r=de.find(_X,this._menu).filter(s=>il(s));r.length&&nv(r,n,e===PA,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=jr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e.button===rX||e.type==="keyup"&&e.key!==kA)return;const n=de.find(pX);for(const r of n){const s=jr.getInstance(r);if(!s||s._config.autoClose===!1)continue;const i=e.composedPath(),o=i.includes(s._menu);if(i.includes(s._element)||s._config.autoClose==="inside"&&!o||s._config.autoClose==="outside"&&o||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===kA||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:s._element};e.type==="click"&&(a.clickEvent=e),s._completeHide(a)}}static dataApiKeydownHandler(e){const n=/input|textarea/i.test(e.target.tagName),r=e.key===tX,s=[nX,PA].includes(e.key);if(!s&&!r||n&&!r)return;e.preventDefault();const i=this.matches(Di)?this:de.prev(this,Di)[0]||de.next(this,Di)[0]||de.findOne(Di,e.delegateTarget.parentNode),o=jr.getOrCreateInstance(i);if(s){e.stopPropagation(),o.show(),o._selectMenuItem(e);return}o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}G.on(document,lO,Di,jr.dataApiKeydownHandler);G.on(document,lO,Oh,jr.dataApiKeydownHandler);G.on(document,aO,jr.clearMenus);G.on(document,lX,jr.clearMenus);G.on(document,aO,Di,function(t){t.preventDefault(),jr.getOrCreateInstance(this).toggle()});cr(jr);const cO="backdrop",RX="fade",NA="show",xA=`mousedown.bs.${cO}`,kX={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},PX={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class uO extends pu{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return kX}static get DefaultType(){return PX}static get NAME(){return cO}show(e){if(!this._config.isVisible){Cn(e);return}this._append();const n=this._getElement();this._config.isAnimated&&fu(n),n.classList.add(NA),this._emulateAnimation(()=>{Cn(e)})}hide(e){if(!this._config.isVisible){Cn(e);return}this._getElement().classList.remove(NA),this._emulateAnimation(()=>{this.dispose(),Cn(e)})}dispose(){this._isAppended&&(G.off(this._element,xA),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(RX),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ai(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),G.on(e,xA,()=>{Cn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Yx(e,this._getElement(),this._config.isAnimated)}}const NX="focustrap",xX="bs.focustrap",Xd=`.${xX}`,OX=`focusin${Xd}`,DX=`keydown.tab${Xd}`,LX="Tab",MX="forward",OA="backward",VX={autofocus:!0,trapElement:null},FX={autofocus:"boolean",trapElement:"element"};class hO extends pu{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return VX}static get DefaultType(){return FX}static get NAME(){return NX}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),G.off(document,Xd),G.on(document,OX,e=>this._handleFocusin(e)),G.on(document,DX,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,G.off(document,Xd))}_handleFocusin(e){const{trapElement:n}=this._config;if(e.target===document||e.target===n||n.contains(e.target))return;const r=de.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===OA?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===LX&&(this._lastTabNavDirection=e.shiftKey?OA:MX)}}const DA=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",LA=".sticky-top",ah="padding-right",MA="margin-right";class k_{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ah,n=>n+e),this._setElementAttributes(DA,ah,n=>n+e),this._setElementAttributes(LA,MA,n=>n-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ah),this._resetElementAttributes(DA,ah),this._resetElementAttributes(LA,MA)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,n,r){const s=this.getWidth(),i=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${r(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,n){const r=e.style.getPropertyValue(n);r&&ws.setDataAttribute(e,n,r)}_resetElementAttributes(e,n){const r=s=>{const i=ws.getDataAttribute(s,n);if(i===null){s.style.removeProperty(n);return}ws.removeDataAttribute(s,n),s.style.setProperty(n,i)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,n){if(ys(e)){n(e);return}for(const r of de.find(e,this._element))n(r)}}const $X="modal",BX="bs.modal",lr=`.${BX}`,UX=".data-api",HX="Escape",jX=`hide${lr}`,WX=`hidePrevented${lr}`,dO=`hidden${lr}`,fO=`show${lr}`,qX=`shown${lr}`,zX=`resize${lr}`,GX=`click.dismiss${lr}`,KX=`mousedown.dismiss${lr}`,YX=`keydown.dismiss${lr}`,XX=`click${lr}${UX}`,VA="modal-open",QX="fade",FA="show",Dm="modal-static",JX=".modal.show",ZX=".modal-dialog",eQ=".modal-body",tQ='[data-bs-toggle="modal"]',nQ={backdrop:!0,focus:!0,keyboard:!0},rQ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class so extends Ir{constructor(e,n){super(e,n),this._dialog=de.findOne(ZX,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new k_,this._addEventListeners()}static get Default(){return nQ}static get DefaultType(){return rQ}static get NAME(){return $X}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||G.trigger(this._element,fO,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(VA),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||G.trigger(this._element,jX).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(FA),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){G.off(window,lr),G.off(this._dialog,lr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new uO({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new hO({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=de.findOne(eQ,this._dialog);n&&(n.scrollTop=0),fu(this._element),this._element.classList.add(FA);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,G.trigger(this._element,qX,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){G.on(this._element,YX,e=>{if(e.key===HX){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),G.on(window,zX,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),G.on(this._element,KX,e=>{G.one(this._element,GX,n=>{if(!(this._element!==e.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(VA),this._resetAdjustments(),this._scrollBar.reset(),G.trigger(this._element,dO)})}_isAnimated(){return this._element.classList.contains(QX)}_triggerBackdropTransition(){if(G.trigger(this._element,WX).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Dm)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Dm),this._queueCallback(()=>{this._element.classList.remove(Dm),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!e){const s=ar()?"paddingLeft":"paddingRight";this._element.style[s]=`${n}px`}if(!r&&e){const s=ar()?"paddingRight":"paddingLeft";this._element.style[s]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,n){return this.each(function(){const r=so.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](n)}})}}G.on(document,XX,tQ,function(t){const e=de.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),G.one(e,fO,s=>{s.defaultPrevented||G.one(e,dO,()=>{il(this)&&this.focus()})});const n=de.findOne(JX);n&&so.getInstance(n).hide(),so.getOrCreateInstance(e).toggle(this)});fp(so);cr(so);const sQ="offcanvas",iQ="bs.offcanvas",Rs=`.${iQ}`,pO=".data-api",oQ=`load${Rs}${pO}`,aQ="Escape",$A="show",BA="showing",UA="hiding",lQ="offcanvas-backdrop",mO=".offcanvas.show",cQ=`show${Rs}`,uQ=`shown${Rs}`,hQ=`hide${Rs}`,HA=`hidePrevented${Rs}`,gO=`hidden${Rs}`,dQ=`resize${Rs}`,fQ=`click${Rs}${pO}`,pQ=`keydown.dismiss${Rs}`,mQ='[data-bs-toggle="offcanvas"]',gQ={backdrop:!0,keyboard:!0,scroll:!1},_Q={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ci extends Ir{constructor(e,n){super(e,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return gQ}static get DefaultType(){return _Q}static get NAME(){return sQ}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||G.trigger(this._element,cQ,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new k_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(BA);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add($A),this._element.classList.remove(BA),G.trigger(this._element,uQ,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||G.trigger(this._element,hQ).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(UA),this._backdrop.hide();const n=()=>{this._element.classList.remove($A,UA),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new k_().reset(),G.trigger(this._element,gO)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){G.trigger(this._element,HA);return}this.hide()},n=!!this._config.backdrop;return new uO({className:lQ,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?e:null})}_initializeFocusTrap(){return new hO({trapElement:this._element})}_addEventListeners(){G.on(this._element,pQ,e=>{if(e.key===aQ){if(this._config.keyboard){this.hide();return}G.trigger(this._element,HA)}})}static jQueryInterface(e){return this.each(function(){const n=ci.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}G.on(document,fQ,mQ,function(t){const e=de.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),li(this))return;G.one(e,gO,()=>{il(this)&&this.focus()});const n=de.findOne(mO);n&&n!==e&&ci.getInstance(n).hide(),ci.getOrCreateInstance(e).toggle(this)});G.on(window,oQ,()=>{for(const t of de.find(mO))ci.getOrCreateInstance(t).show()});G.on(window,dQ,()=>{for(const t of de.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&ci.getOrCreateInstance(t).hide()});fp(ci);cr(ci);const yQ=/^aria-[\w-]*$/i,_O={"*":["class","dir","id","lang","role",yQ],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},wQ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),vQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,EQ=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?wQ.has(n)?!!vQ.test(t.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function bQ(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const s=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...s.body.querySelectorAll("*"));for(const o of i){const a=o.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const h of l)EQ(h,c)||o.removeAttribute(h.nodeName)}return s.body.innerHTML}const TQ="TemplateFactory",SQ={allowList:_O,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},AQ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},CQ={entry:"(string|element|function|null)",selector:"(string|element)"};class IQ extends pu{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return SQ}static get DefaultType(){return AQ}static get NAME(){return TQ}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,i]of Object.entries(this._config.content))this._setContent(e,i,s);const n=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[n,r]of Object.entries(e))super._typeCheckConfig({selector:n,entry:r},CQ)}_setContent(e,n,r){const s=de.findOne(r,e);if(s){if(n=this._resolvePossibleFunction(n),!n){s.remove();return}if(ys(n)){this._putElementInTemplate(ai(n),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(n);return}s.textContent=n}}_maybeSanitize(e){return this._config.sanitize?bQ(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Cn(e,[void 0,this])}_putElementInTemplate(e,n){if(this._config.html){n.innerHTML="",n.append(e);return}n.textContent=e.textContent}}const RQ="tooltip",kQ=new Set(["sanitize","allowList","sanitizeFn"]),Lm="fade",PQ="modal",lh="show",NQ=".tooltip-inner",jA=`.${PQ}`,WA="hide.bs.modal",Nl="hover",Mm="focus",Vm="click",xQ="manual",OQ="hide",DQ="hidden",LQ="show",MQ="shown",VQ="inserted",FQ="click",$Q="focusin",BQ="focusout",UQ="mouseenter",HQ="mouseleave",jQ={AUTO:"auto",TOP:"top",RIGHT:ar()?"left":"right",BOTTOM:"bottom",LEFT:ar()?"right":"left"},WQ={allowList:_O,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qQ={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class al extends Ir{constructor(e,n){if(typeof Wx>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return WQ}static get DefaultType(){return qQ}static get NAME(){return RQ}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),G.off(this._element.closest(jA),WA,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=G.trigger(this._element,this.constructor.eventName(LQ)),r=(Gx(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(s),G.trigger(this._element,this.constructor.eventName(VQ))),this._popper=this._createPopper(s),s.classList.add(lh),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))G.on(a,"mouseover",Kd);const o=()=>{G.trigger(this._element,this.constructor.eventName(MQ)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||G.trigger(this._element,this.constructor.eventName(OQ)).defaultPrevented)return;if(this._getTipElement().classList.remove(lh),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))G.off(s,"mouseover",Kd);this._activeTrigger[Vm]=!1,this._activeTrigger[Mm]=!1,this._activeTrigger[Nl]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),G.trigger(this._element,this.constructor.eventName(DQ)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const n=this._getTemplateFactory(e).toHtml();if(!n)return null;n.classList.remove(Lm,lh),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=x8(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Lm),n}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new IQ({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[NQ]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Lm)}_isShown(){return this.tip&&this.tip.classList.contains(lh)}_createPopper(e){const n=Cn(this._config.placement,[this,e,this._element]),r=jQ[n.toUpperCase()];return tv(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return Cn(e,[this._element,this._element])}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...Cn(this._config.popperConfig,[void 0,n])}}_setListeners(){const e=this._config.trigger.split(" ");for(const n of e)if(n==="click")G.on(this._element,this.constructor.eventName(FQ),this._config.selector,r=>{const s=this._initializeOnDelegatedTarget(r);s._activeTrigger[Vm]=!(s._isShown()&&s._activeTrigger[Vm]),s.toggle()});else if(n!==xQ){const r=n===Nl?this.constructor.eventName(UQ):this.constructor.eventName($Q),s=n===Nl?this.constructor.eventName(HQ):this.constructor.eventName(BQ);G.on(this._element,r,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusin"?Mm:Nl]=!0,o._enter()}),G.on(this._element,s,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusout"?Mm:Nl]=o._element.contains(i.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},G.on(this._element.closest(jA),WA,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(e,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const n=ws.getDataAttributes(this._element);for(const r of Object.keys(n))kQ.has(r)&&delete n[r];return e={...n,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ai(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(e[n]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const n=al.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}cr(al);const zQ="popover",GQ=".popover-header",KQ=".popover-body",YQ={...al.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},XQ={...al.DefaultType,content:"(null|string|element|function)"};class iv extends al{static get Default(){return YQ}static get DefaultType(){return XQ}static get NAME(){return zQ}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[GQ]:this._getTitle(),[KQ]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const n=iv.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}cr(iv);const QQ="scrollspy",JQ="bs.scrollspy",ov=`.${JQ}`,ZQ=".data-api",eJ=`activate${ov}`,qA=`click${ov}`,tJ=`load${ov}${ZQ}`,nJ="dropdown-item",Po="active",rJ='[data-bs-spy="scroll"]',Fm="[href]",sJ=".nav, .list-group",zA=".nav-link",iJ=".nav-item",oJ=".list-group-item",aJ=`${zA}, ${iJ} > ${zA}, ${oJ}`,lJ=".dropdown",cJ=".dropdown-toggle",uJ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},hJ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gp extends Ir{constructor(e,n){super(e,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return uJ}static get DefaultType(){return hJ}static get NAME(){return QQ}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ai(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(n=>Number.parseFloat(n))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(G.off(this._config.target,qA),G.on(this._config.target,qA,Fm,e=>{const n=this._observableSections.get(e.target.hash);if(n){e.preventDefault();const r=this._rootElement||window,s=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:s,behavior:"smooth"});return}r.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),e)}_observerCallback(e){const n=o=>this._targetLinks.get(`#${o.target.id}`),r=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},s=(this._rootElement||document.documentElement).scrollTop,i=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&a){if(r(o),!s)return;continue}!i&&!a&&r(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=de.find(Fm,this._config.target);for(const n of e){if(!n.hash||li(n))continue;const r=de.findOne(decodeURI(n.hash),this._element);il(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Po),this._activateParents(e),G.trigger(this._element,eJ,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(nJ)){de.findOne(cJ,e.closest(lJ)).classList.add(Po);return}for(const n of de.parents(e,sJ))for(const r of de.prev(n,aJ))r.classList.add(Po)}_clearActiveClass(e){e.classList.remove(Po);const n=de.find(`${Fm}.${Po}`,e);for(const r of n)r.classList.remove(Po)}static jQueryInterface(e){return this.each(function(){const n=gp.getOrCreateInstance(this,e);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}G.on(window,tJ,()=>{for(const t of de.find(rJ))gp.getOrCreateInstance(t)});cr(gp);const dJ="tab",fJ="bs.tab",Eo=`.${fJ}`,pJ=`hide${Eo}`,mJ=`hidden${Eo}`,gJ=`show${Eo}`,_J=`shown${Eo}`,yJ=`click${Eo}`,wJ=`keydown${Eo}`,vJ=`load${Eo}`,EJ="ArrowLeft",GA="ArrowRight",bJ="ArrowUp",KA="ArrowDown",$m="Home",YA="End",Li="active",XA="fade",Bm="show",TJ="dropdown",yO=".dropdown-toggle",SJ=".dropdown-menu",Um=`:not(${yO})`,AJ='.list-group, .nav, [role="tablist"]',CJ=".nav-item, .list-group-item",IJ=`.nav-link${Um}, .list-group-item${Um}, [role="tab"]${Um}`,wO='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Hm=`${IJ}, ${wO}`,RJ=`.${Li}[data-bs-toggle="tab"], .${Li}[data-bs-toggle="pill"], .${Li}[data-bs-toggle="list"]`;class Ma extends Ir{constructor(e){super(e),this._parent=this._element.closest(AJ),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),G.on(this._element,wJ,n=>this._keydown(n)))}static get NAME(){return dJ}show(){const e=this._element;if(this._elemIsActive(e))return;const n=this._getActiveElem(),r=n?G.trigger(n,pJ,{relatedTarget:e}):null;G.trigger(e,gJ,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,e),this._activate(e,n))}_activate(e,n){if(!e)return;e.classList.add(Li),this._activate(de.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Bm);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),G.trigger(e,_J,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(XA))}_deactivate(e,n){if(!e)return;e.classList.remove(Li),e.blur(),this._deactivate(de.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Bm);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),G.trigger(e,mJ,{relatedTarget:n})};this._queueCallback(r,e,e.classList.contains(XA))}_keydown(e){if(![EJ,GA,bJ,KA,$m,YA].includes(e.key))return;e.stopPropagation(),e.preventDefault();const n=this._getChildren().filter(s=>!li(s));let r;if([$m,YA].includes(e.key))r=n[e.key===$m?0:n.length-1];else{const s=[GA,KA].includes(e.key);r=nv(n,e.target,s,!0)}r&&(r.focus({preventScroll:!0}),Ma.getOrCreateInstance(r).show())}_getChildren(){return de.find(Hm,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,n){this._setAttributeIfNotExists(e,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const n=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",n),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),n||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const n=de.getElementFromSelector(e);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,n){const r=this._getOuterElement(e);if(!r.classList.contains(TJ))return;const s=(i,o)=>{const a=de.findOne(i,r);a&&a.classList.toggle(o,n)};s(yO,Li),s(SJ,Bm),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(e,n,r){e.hasAttribute(n)||e.setAttribute(n,r)}_elemIsActive(e){return e.classList.contains(Li)}_getInnerElement(e){return e.matches(Hm)?e:de.findOne(Hm,e)}_getOuterElement(e){return e.closest(CJ)||e}static jQueryInterface(e){return this.each(function(){const n=Ma.getOrCreateInstance(this);if(typeof e=="string"){if(n[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);n[e]()}})}}G.on(document,yJ,wO,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!li(this)&&Ma.getOrCreateInstance(this).show()});G.on(window,vJ,()=>{for(const t of de.find(RJ))Ma.getOrCreateInstance(t)});cr(Ma);const kJ="toast",PJ="bs.toast",gi=`.${PJ}`,NJ=`mouseover${gi}`,xJ=`mouseout${gi}`,OJ=`focusin${gi}`,DJ=`focusout${gi}`,LJ=`hide${gi}`,MJ=`hidden${gi}`,VJ=`show${gi}`,FJ=`shown${gi}`,$J="fade",QA="hide",ch="show",uh="showing",BJ={animation:"boolean",autohide:"boolean",delay:"number"},UJ={animation:!0,autohide:!0,delay:5e3};class _p extends Ir{constructor(e,n){super(e,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return UJ}static get DefaultType(){return BJ}static get NAME(){return kJ}show(){if(G.trigger(this._element,VJ).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add($J);const n=()=>{this._element.classList.remove(uh),G.trigger(this._element,FJ),this._maybeScheduleHide()};this._element.classList.remove(QA),fu(this._element),this._element.classList.add(ch,uh),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||G.trigger(this._element,LJ).defaultPrevented)return;const n=()=>{this._element.classList.add(QA),this._element.classList.remove(uh,ch),G.trigger(this._element,MJ)};this._element.classList.add(uh),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ch),super.dispose()}isShown(){return this._element.classList.contains(ch)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,n){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){G.on(this._element,NJ,e=>this._onInteraction(e,!0)),G.on(this._element,xJ,e=>this._onInteraction(e,!1)),G.on(this._element,OJ,e=>this._onInteraction(e,!0)),G.on(this._element,DJ,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const n=_p.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](this)}})}}fp(_p);cr(_p);const av=qM(oq);window.sentryEnabled?(console.log("Sentry enabled"),H7(av)):console.log("Sentry disabled");av.use(sH,{firebaseApp:rP});window.bootstrap={Modal:so};av.mount("#app");export{XJ as $,TZ as A,ls as B,t0 as C,mZ as D,pZ as E,An as F,yt as G,QJ as H,qJ as I,Cd as J,WJ as K,vn as L,fZ as M,gZ as N,hH as O,EZ as P,dZ as Q,jL as R,xi as S,JJ as T,_Z as U,rZ as V,Fe as W,AZ as X,uf as Y,_0 as Z,En as _,hr as a,eZ as a0,zJ as a1,tZ as a2,nZ as a3,dt as a4,zZ as a5,WZ as a6,qZ as a7,KJ as a8,YJ as a9,aM as aa,GJ as ab,SZ as ac,Mc as ad,af as ae,QC as af,uZ as ag,cZ as ah,hZ as ai,lZ as aj,yZ as ak,xo as al,al as am,BE as b,$u as c,Jh as d,oM as e,Zo as f,EL as g,QW as h,Qo as i,Bc as j,lt as k,pt as l,iL as m,dc as n,$c as o,$_ as p,sZ as q,bt as r,bZ as s,T2 as t,vt as u,ZJ as v,jJ as w,HJ as x,wZ as y,vZ as z};
//# sourceMappingURL=scoreboard-BHT3jrlv.js.map
