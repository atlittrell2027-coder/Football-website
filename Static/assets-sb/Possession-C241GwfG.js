import{c as r,a as d,F as u,I as y,d as m,t as w,n as l,J as b,Q as h}from"./scoreboard-BHT3jrlv.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new s.Error().stack;i&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[i]="edfe2af9-dc46-42e0-ab3f-4053a9fb7ded",s._sentryDebugIdIdentifier="sentry-dbid-edfe2af9-dc46-42e0-ab3f-4053a9fb7ded")}catch{}})();const $=["id","onClick"],k={__name:"Possession",props:["score_data","scoreboard_ref"],emits:["changePossession"],setup(s,{emit:i}){const o=s,p=i,f=async(n,e)=>{if(o.score_data.teams)o.score_data.teams.forEach((a,t)=>{const c=t===n;b(`teams.${t}.${e}`,"set",c,o)});else{const a=n==="home"?"away":"home";if(o.score_data[n][e]===!1){const t=[{field:`${n}.${e}`,operation:"set",value:!0}];o.score_data[a][e]===!0&&t.push({field:`${a}.${e}`,operation:"set",value:!1}),await h(t,o)}else await b(`${n}.${e}`,"set",!1,o)}g()},g=()=>{var e,a;let n="NONE";if(o.score_data.teams){const t=o.score_data.teams.find(c=>c.possession);n=t?t.name.toUpperCase():"NONE"}else n=(e=o.score_data.home)!=null&&e.possession?"HOME":(a=o.score_data.away)!=null&&a.possession?"AWAY":"NONE";p("changePossession",n)};return(n,e)=>(d(),r("div",{class:l({"row gx-2 gy-2":s.score_data.teams,"d-flex justify-content-center gap-2":!s.score_data.teams})},[s.score_data.teams?(d(!0),r(u,{key:0},y(s.score_data.teams,(a,t)=>(d(),r("div",{class:"col-12",key:a.name},[m("button",{id:`possession-team-${t}`,class:l(["btn btn-sm w-100",{"btn-success":a.possession,"btn-light":!a.possession}]),onClick:c=>f(t,"possession")},w(a.name),11,$)]))),128)):(d(),r(u,{key:1},[m("button",{id:"possession-home",class:l(["btn btn-sm flex-grow-1",{"btn-success":s.score_data.home.possession,"btn-light":!s.score_data.home.possession}]),onClick:e[0]||(e[0]=a=>f("home","possession"))}," Home ",2),m("button",{id:"possession-away",class:l(["btn btn-sm flex-grow-1",{"btn-success":s.score_data.away.possession,"btn-light":!s.score_data.away.possession}]),onClick:e[1]||(e[1]=a=>f("away","possession"))}," Away ",2)],64))],2))}};export{k as _};
//# sourceMappingURL=Possession-C241GwfG.js.map
